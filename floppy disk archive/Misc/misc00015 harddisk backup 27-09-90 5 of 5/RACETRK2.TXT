; Racetrk2.txt (list5) - part 2 - murders 4-9
;
; Racetrack & floorpointer tables for Grange Murder.
;
npcinitial
list5
; first we have a dummy entry for npc 0
; this is used as some pointers to the *other*
; things which are used in this list
; (the equivalent of this area in list6 is used for temp workspace)
;
 dc.w floorpointers-npcinitial
 dc.w racetracks-npcinitial
 dc.w reversaltable-npcinitial
 dc.w 0 ; null
;
; For greed agression, timidity, obediance, there
; is a special case - if one of the values is 255, then
; the npc will always choose that one, if it is possible
; This is particularly useful for slaves etc.
; Note that npcs will still respond to attacks etc. - 
; anything which sets the 'attention flag'

FRIENDLY EQU 0
dodge equ 0
damage equ 0
; now the npc tables themselves...
defaultmale equ 3410
defaultfemale equ 3420
defaultanimal equ 3400
; npc 0 has dummy entry used as pointers above

; dc.b enemy, dodge, attack, hit points, obedience, patience, gold-sing
inactive equ $80
disabled equ $40 ; set for npc's in part 2

 dc.b friendly,dodge,35,100,3,1		; 1 USER
 dc.w defaultmale ; standard singing

 dc.b friendly,dodge,10,100,255,1	; 2 Sue
 dc.w 3700

 dc.b friendly,dodge,10,100,255,1	; 3 Vera
 dc.w 3700

 dc.b friendly,dodge,10,100,255,1	; 4 Kathy
 dc.w 3700

 dc.b friendly,dodge,10,100,255,1	; 5 Anthony
 dc.w 3700

 dc.b friendly,dodge,10,100,255,1	; 6 William
 dc.w 3700

 dc.b friendly,dodge,10,100,255,1	; 7 Robert
 dc.w 3700

 dc.b friendly,dodge,10,100,255,1	; 8 Fiona
 dc.w 3700

 dc.b friendly,dodge,10,100,255,1	; 9 Cliford
 dc.w 3700

 dc.b friendly,dodge,10,100,255,1	;10 Jarvis
 dc.w 3700

 dc.b friendly,dodge,10,100,255,1	;11 Inspector
 dc.w 3700

;---

floorpointers
; part of list5
; now 'floor pointers'
; there is one bye pair for each static room - the
; first byte gives the direction to go inwards
; and the second byte gives direction for going outwards
; (i.e. towards the synthesised grid)
;
; BIG WARNING
; all shapes must be simply connected. i.e. given a pair of rooms,
; you must be able to trace a path between them using only the
; OUT paths of one OR the other.
; This is because of the way the follow and GO code works.
north equ 1
east equ 3
south equ 5
west equ 7
up equ 2
down equ 4
west2 equ 6
east2 equ 8
north2 equ 14
south2 equ 15

 dc.b 0 ; room 0 (not used)
 dc.b 0 ; room 1 (not used)
 dc.b 0 ; 2
 dc.b north ; 3 arrival room
 dc.b 0 ; 4
 dc.b east ; 5 front left garden
 dc.b 0 ; 6
 dc.b 0 ; 7
 dc.b 0 ; 8
 dc.b 0 ; 9
 dc.b 0 ; 10
 dc.b 0 ; 11
 dc.b 0 ; 12
 dc.b 0 ; 13
 dc.b 0 ; 14
 dc.b 0 ; 15
 dc.b 0 ; 16
 dc.b 0 ; 17
 dc.b 0 ; 18
 dc.b 0 ; 19
 dc.b 0 ; 20
 dc.b 0 ; 21
 dc.b 0 ; 22
 dc.b 0 ; 23
 dc.b 0 ; 24
 dc.b 0 ; 25
 dc.b 0 ; 26
 dc.b 0 ; 27
 dc.b 0 ; 28
 dc.b 0 ; 29
 dc.b 0 ; 30
 dc.b 0 ; 31
 dc.b 0 ; 32
 dc.b 0 ; 33
 dc.b 0 ; 34
 dc.b 0 ; 35
 dc.b west ; 36 lawn+bushes
 dc.b west ; 37 shed
 dc.b south ; 38 drive
 dc.b west ; 39 front right garden
 dc.b south ; 40 right side garden
 dc.b 0 ; 41 back left garden
 dc.b south ; 42 back right garden
 dc.b west ; 43 lawn
 dc.b south ; 44 left side garden
 dc.b 0 ; 45 archway (ROOTROOM)
 dc.b south ; 46 back left garden
 dc.b south ; 47 front of house
 dc.b east ; 48 back of house
 dc.b south ; 49 n. drive
 dc.b west ; 50 gatehouse
 dc.b east2 ; 51 g.h. landing
 dc.b west ; 52 g.h bathroom
 dc.b east ; 53 g.h. bedroom
 dc.b 0 ; 54
 dc.b 0 ; 55
 dc.b 0 ; 56
 dc.b 0 ; 57
 dc.b 0 ; 58
 dc.b 0 ; 59 Sir Roberts washroom (removed)
 dc.b 0 ; 60
 dc.b east ; 61 wc
 dc.b west ; 62 wc
 dc.b north ; 63 wc
 dc.b west2 ; 64 cloak room
 dc.b west ; 65 wc
 dc.b 0 ; 66
 dc.b 0 ; 67
 dc.b 0 ; 68
 dc.b east ; 69 secret stairs
 dc.b 0 ; 70
 dc.b west2 ; 71 ne corridor
 dc.b west ;***** north ; 72 se corridor
 dc.b 0 ; 73
 dc.b east2 ; 74 nw corridor
 dc.b east ; 75 cellar
 dc.b west ; 76 corridor
 dc.b south ; 77 dining room
 dc.b north ; 78 larder
 dc.b east ; 79 drawing room
 dc.b west ; 80 kitchen
 dc.b south ; 81 study
 dc.b north ; 82 scullery
 dc.b south ; 83 hall
 dc.b down ; 84 landing
 dc.b west ; 85 games room
 dc.b south ; 86 entrance
 dc.b 0 ; 87 WC
 dc.b east ; 88 library
 dc.b 0 ; 89
 dc.b south ; 90 blue bedroom
 dc.b south ; 91 brown bedroom
 dc.b east ; 92 bamboo bedroom
 dc.b south ; 93 green bedroom
 dc.b north ; 94 master bedroom
 dc.b east ; 95 dressing room
 dc.b east ; 96 corridor
 dc.b north ; 97 oriental bedroom
 dc.b 0 ; 98
 dc.b 0 ; 99
;---
;
; Floorpointers+100...
;
; List of breaks or shortcuts that defy the floorpointers, mainly 
; occuring when there is a loop...
;
; DEST,ROOM,DIR to go in
floorptrbreaks
; Back Left Garden 46 to Back of House 48
 dc.b 48,46,3 ;e
; study 81 to drawing room 79
 dc.b 79,81,5 ;s
; library 88 to drawing room 79
 dc.b 79,88,1 ;n
; scullery 82 to right garden 40
 dc.b 40,82,3 ;e
; secret stairs 69 to ne corridor 71
 dc.b 71,69,14 ;n#2
;; secret stairs 69 to bathroom 63
; dc.b 63,69,15 ;s#2
; dressing room 95 to bamboo bedroom 92
 dc.b 92,95,6 ;w#2
; blue bedroom 90 to green bedroom 93
 dc.b 93,90,3 ;e
; dining room 77 to study 81
 dc.b 81,77,7 ;w
; se corridor 72 to bathroom 63
 dc.b 63,72,1 ;n
;
 dc.b 0,0,0
 even
;
;---
;
 even
racetracks
; sequences of commands which actors obey
; each is referred to by a 16-bit offset from the start of list5
; the initial sequences are contained in this table at the start..
;
; Pre Murder racetracks...
;
 ds.w 12*3 ; dummy tables for murders 1-3
;
; Murder 4
 dc.w 0 ; 36
 dc.w 0 ; 37
 dc.w SueRt4-list5 ; 38
 dc.w VeraRt4-list5 ; 39
 dc.w KathyRt4-list5 ; 40
 dc.w AnthonyRt4-list5 ; 41
 dc.w WilliamRt4-list5 ; 42
 dc.w RobertRt4-list5 ; 43
 dc.w FionaRt4-list5 ; 44
 dc.w CliffordRt4-list5 ; 45
 dc.w Jarvisrt4-list5 ; 46
 dc.w InspectorRt4-list5 ; 47
;
; Murder 5 (was 9)
 dc.w 0 ; 96
 dc.w 0 ; 97
 dc.w SueRt9-list5 ; 98
 dc.w VeraRt9-list5 ; 99
 dc.w KathyRt9-list5 ; 100
 dc.w AnthonyRt9-list5 ; 101
 dc.w WilliamRt9-list5 ; 102
 dc.w RobertRt9-list5 ; 103
 dc.w FionaRt9-list5 ; 104
 dc.w CliffordRt9-list5 ; 105
 dc.w Jarvisrt9-list5 ; 106
 dc.w InspectorRt9-list5 ; 107
;
 ds.w 12*4 ; dummy tables for murders 6-9
;
 dc.w 0
 dc.w 0
;
; Jarvis answers door to greet npc, using racetrack 110+npc
 dc.w JarvisInitial-list5 ; 110 used in between guests arriving
 dc.w JarvisAnswerDoor-list5 ; 111
 dc.w JarvisGreetsSueRt-list5 ; 112
 dc.w JarvisAnswerDoor-list5 ; 113
 dc.w JarvisGreetsKathyRt-list5 ; 114
 dc.w JarvisGreetsAnthonyRt-list5 ; 115
 dc.w JarvisAnswerDoor-list5 ; 116
 dc.w JarvisAnswerDoor-list5 ; 117
 dc.w JarvisAnswerDoor-list5 ; 118
 dc.w JarvisGreetsCliffordRt-list5 ; 119
 dc.w 0 ; 120 (Jarvis himself!)
 dc.w JarvisAnswerDoor-list5 ; 121
;
 dc.w 0
 dc.w 0
 dc.w 0
 dc.w 0
 dc.w 0
 dc.w 0
 dc.w InspectorAnalyse-list5 ; 128 Inspector analyses an object
 dc.w 0
;
; Post Murder racetracks...
;
 ds.w 12*3 ; dummy tables for murders 1-3
;
; Murder 4
 dc.w 0 ; 166
 dc.w 0 ; 167 - user
 dc.w PMSueRt4-list5 ; 168
 dc.w PMVeraRt4-list5 ; 169
 dc.w PMKathyRt4-list5 ; 170
 dc.w PMAnthonyRt4-list5 ; 171
 dc.w PMWilliamRt4-list5 ; 172
 dc.w PMRobertRt4-list5 ; 173
 dc.w PMFionaRt4-list5 ; 174
 dc.w PMCliffordRt4-list5 ; 175
 dc.w PMJarvisrt4-list5 ; 176
 dc.w PMInspectorRt4-list5 ; 177
;
 dc.w 0
 dc.w 0
;
StartRt
; each of the race track entries has a 4-byte entry:
; VERB PREP NOUN1 NOUN2
on equ 1
in equ 7
CARRIED EQU 4
;
iplay equ 33
iPUT equ 108
iFOLLOW equ 113
iAnswer equ 125
iDial equ 126
drop equ 107
attack equ 40
open equ 114
go equ 96 ; go to room noun1 (=setupgo)
quick equ 128 ; prep value for GO, makes actor move quickly
close equ 115
wait equ 92
examine equ 100
take equ 105
give equ 111
find equ 139
; "find" variants (used as preposition values)...
Local equ 1 ; go to object/person if in current room, and stop 
; finding if it no longer exists in the room
RoomOnly equ 2 ; go to the room containing the object/person
Coarse equ 4 ; go to roughly where the object is, i.e. not to the 
; exact pixel
kill equ 93
waitforpersontoleave equ 94
waitnoun1free equ 95 ; wait until BUSY flag for npc noun1 
; is cleared after a racetrackreturn, so that they are free to 
; do another telegosub without fear of the stack being cluttered
waitforperson equ 89
waituntiltime equ 90
waitforperiod equ 91
Wwaitforperiod equ waitforperiod*256
put equ 108
returnobject equ 136
gdfind equ 139
light equ 165
ride equ  185
stand equ 46
lie equ 47
iSIT equ 48 ; sit with nullobject finds nearest chair/sofa
remove equ 109
;
; Special racetrack verbs..
RevealMurder equ 30 ; actor learns of the murder
allnpcs equ 254 ; noun2 after revealmurder, to reveal to all npcs
IntrusionOn equ 31*256 ; ready for intrusion RT
IntrusionOff equ 32*256
TeleGosub equ 34 ; TELEGOSUB.b,NPC.b,RT.w
resume equ 128 ; prep addition for telegosub, to make actor 
; resume whatever he or she was doing before the gosub
TeleGoto equ 37 ; TELEGOTO.b,NPC.b,RT.w
WRtConversation equ 35*256 ; prepare conversation
iLOCKDOOR equ 36 ; verb alone, makes room inaccessible
iUNLOCKDOOR equ 38 ; verb alone, makes room inaccessible
SetNoun1Busy equ 39 ; set flag for npc noun1 being busy until 
; he reaches a racetrackreturn
Occupation equ 41*256 ; sets current "occupation" message for actor, so 
; that a message is shown when player enters. zero to kill occupation 
LocalMove equ 143 ; localmove,0,cellx,cellz
iGODOOR equ 124 ; go to the door leading towards room noun1
FaceNoun1 equ 245 ; face object/person Noun1
Animate equ 246 ; animate,numframes,sequence.w
AnimateCD equ 244 ; as above, but uses current direction
;
; animation sequences...
StandingAnimation equ 2710
ReachLeftAnimation equ 2720 ; reach with left hand
ReachRightAnimation equ 2730 ; reach with right hand

CrouchAndSit equ 3390 ; sit with shifts

SitAnimation equ 3200 ; sit without shifts
reachupanimation equ 2750 ; reach up (not all dirs)
ReachDownAnimation equ 2760 ; reach down
StandUpAnimation equ 2770
KissAnimation equ 2730
ReadAnimation equ 2780 ; sat down, reading book/paper etc.
ReadNewsPaper equ 3370 ; sat down, reading paper
SitDrinkAni equ 3380 ; sat down, drinking
PickUpPhone equ 2940 ; north only
DropPhone equ 2942 ; north only
Eating equ 2790
Smoking equ 3033
VeraProdWashing equ 2723 ; temp reach east
PourAnimation equ 3029
MoveMouthEmphasis equ 3060
MoveMouthShock equ 3110
MoveMouthAnger equ 3100
;
ShrugAni equ 3220
JarvisMovingTrayAni equ 3230 ; no rasteroffset
JarvisStandingTrayAni equ 3240 ; no rasteroffset
MenPunchLeftAni equ 3263
MenPunchRightAni equ 3262
MenAdjustTie equ 3258
SamGunAni equ 3265
SamFiresGunAni equ 3267
SamFallsDownAni equ 3269
SamBlowsNoseAni equ 3272
SamUsesPerfumeAni equ 3273
SamWashHandsAni equ 3275 ; east only?
SamDryHandsAni equ 3280 ; east only?
KathyLoungingAni equ 3286 ; no rasteroffset
AnthonyLoungingAni equ 3288 ; no rasteroffset
AnthonyKnockedOut equ 2099
StandLookLeftAni equ 3250
StandLookRightAni equ 3252
WomenUseLipstick equ 2821 ; sitting
MenCombHair equ 2826
AnthonyPolishMonacle equ 2833
;
Conditional equ 247
RConditional equ 250 ; RConditional,0,ROOM,null
;
; noun1 variants for special conditionals
actorAlive=233 
actorDead=234 
actorStanding=235 
Samknowsaboutmurder=236 ; TRUE if npc is sat down
actorsitting=237 ; TRUE if npc is sat down
Inspectorquestioning equ 238 ; TRUE when Inspector questioning someone
toomanypeople equ 239 ; TRUE when > 2 people in room (ex.player)
;Jarvisphonedpolice equ 240 ; TRUE once Jarvis has phoned the police
murderbeendone equ 241 ; TRUE when murder sequence complete
isroomemptyexceptuser equ 250 ; TRUE when room is empty except for 
; Actor and User
random equ 251 ; TRUE if random(255) AND noun2=prep
; noun2 MUST be of 3,7,15,31,63 etc.
; NB: if prep>250, then  use actor*(prep-250)
readyformurder equ 252 ; TRUE when murder sequence is to begin
;dinnerisready equ 253 ; TRUE when dinner is ready
;dinnerisserved equ 254 ; TRUE when all guests have arrived for dinner
isroomempty equ 255 ; TRUE when room is empty except for Actor
;
ActorSaidVaryMessage equ 240
WActorSaidVaryMessage equ 240*256
;
ActorSaidSingleMessage equ 241
WActorSaidSingleMessage equ 241*256
;
ActorVaryMessage equ 248 ; goes straight on in same turn to next step in rt
WRtActorVaryMessage equ ActorVaryMessage*256
;
ActorSingleMessage equ 249 ; this completes actor's turn. Like ActorM1Dot
WActorSingleMessage equ ActorSingleMessage*256
;
racetrackmessage equ 251
WRtMessage equ racetrackMessage*256
;
racetrackgosub equ 253
WRtGosub equ racetrackGosub*256
;
racetrackgoto equ 254
WRTgoto equ racetrackGoto*256
;
racetrackreturn equ 255
;
; Expressions...
Emphasis equ 1
Shock equ 2
Anger equ 3
; Message priorities...
SamNotHidden equ 16
SamHidden equ 32
SamAdjacent equ 48
; Show portrait...
portrait equ 128
; Show Sam's portrait
SamPortrait equ 64
;
; nouns...
people equ 237
everything equ 234
nullobject equ 255
;
; prepositions...
to equ 202
; note that:
;
; NOUN1 will always be searched for if not accessible
; to the verb (using the usual accessability rules)
;
; NOUN2 will normally be searched for using the same rules.
; There are situations where this is awkward - so if the
; preposition is WITH, then NOUN2 must be carried (or it will
; be searched for by the npc).
;
;---
rtmess equ 5000
rtmess1 equ 5000
rtmess2 equ 5000
rtmess3 equ 5000
rtmess4 equ 5000
dmess equ 2900
debugmarker equ 4999
;
;-------------------------------------------------------------------------
; MURDER 4
;-------------------------------------------------------------------------
;
; Sue argues with Fiona
SueRt4
; messages 15500...
 dc.b iSIT,0,nullobject,nullobject
 dc.w WRtGoto,WaitForEverRt-list5
;
; triggered by jarvis...
SueInsultsFiona
 dc.w Occupation,16400 ; was arguing with Fiona * Sue
 dc.w WRtConversation,CSueUpsetM4-list4
 dc.b racetrackmessage,samadjacent
 dc.w 15500 ; Sam heard someone shouting in the drawing room
 dc.b find,coarse,fiona,nullobject ; go fiona
 dc.b telegosub,fiona
 dc.w MoveMouthEmphasisRT-list5 ; fiona speaks
 dc.w WRtMessage,15501 ; "What do you think you're plaing at?", sniffed 
; Fiona
 dc.b find,coarse,fiona,nullobject ; go fiona
 dc.b animateCD,8
 dc.w ShrugAni
 dc.w WRtMessage,15502 ; Sue shrugged, as if confused
 dc.b find,coarse,fiona,nullobject ; go fiona
 dc.b telegosub,fiona
 dc.w MoveMouthEmphasisRT-list5 ; fiona speaks
 dc.w WRtMessage,15503 ; "Don't pretend you don't know!", leered Fiona, 
; "You're up to something with daddy"
 dc.w WRtGosub,reach2timesquicklyRT-list5 ; sue waves arms
 dc.b find,coarse,fiona,nullobject ; go fiona
 dc.b telegosub,fiona
 dc.w MoveMouthEmphasisRT-list5 ; fiona speaks
 dc.w WRtMessage,15504 ; "Admit it," continued Fiona, "You're just 
; after his money!"
 dc.w WRtGosub,reach2timesquicklyRT-list5 ; sue waves arms
 dc.b racetrackmessage,emphasis
 dc.w 15505 ; "I've had enough of this!", sobbed Sue, heading for the 
; door
 dc.b telegoto,fiona
 dc.w FionaDrinksM4-list5 ; fiona drinking loop
 dc.w Occupation,16401 ; was upset after Fiona's insults * Sue
;
; Sue goes dining room & puts pin in Fiona's chair
 dc.b go,0,77,nullobject
 dc.b localmove,0,9,7 ; walk to Fiona's seat
 dc.b racetrackmessage,emphasis
 dc.w rtmess3+1601 ; Sue appeared to be beating the dust from Fiona's 
; seat
 dc.b animate,3
 dc.w reachleftanimation+north
;
; Sit down & trigger first guests (Robert+Kathy) to go to breakfast
 dc.w WRtGosub,SitDiningRoomS1-list5 ; sit down
 dc.b telegoto,robert
 dc.w RobertBreakfast-list5
 dc.b telegoto,kathy
 dc.w KathyBreakfast-list5
;
; Retreat to bedroom when first guest (Robert) arrives
 dc.b waitforperson,0,robert,nullobject
 dc.w Occupation,16402 ; had decided against having breakfast * Sue
 dc.w WRtConversation,CSueAvoidsBreakfastM4-list4
 dc.b racetrackmessage,emphasis
 dc.w rtmess3+1602 ; Sue complained of a headache and decided 
; to leave the table
 dc.b iGODOOR,0,81,nullobject ; go hall door
 dc.b racetrackmessage,Shock
 dc.w rtmess3+1603 ; "It feels as though something terrible's 
; going to happen," sighed Sue
;
; Sue returns to her room via study
 dc.b go,quick,81,nullobject
 dc.b go,quick,79,nullobject
 dc.b go,quick,92,nullobject
 dc.w IntrusionOn,IntrusionSueRoom-list5 ; turned off after murder
 dc.b iSIT,0,bed,nullobject ; sit on bed
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; cook dinner until Jarvis arrives, whereupon it's ready
VeraRt4
; messages 15520...
 dc.w WRtMessage,5259 ; Free Jarvis to do normal things 
VeraRt41
 dc.w WRtGosub,Verainkitchen-list5
 dc.w WRtGosub,Verainkitchen1-list5
 dc.w WRtGosub,Verainkitchen2-list5
 dc.w WRtGosub,Verainkitchen3-list5
 dc.w WRtGosub,Verainkitchen4-list5
 dc.w WRtGoto,VeraRt41-list5
;---
; Chat with Robert until breakfast ready
KathyRt4
; messages 15530...
 dc.w WRtGosub,KathyVisitsRobert-list5
 dc.w WRtGoto,KathyRt4-list5
;
KathyBreakfast
 dc.w WRtGosub,KathyPreDinner-list5
 dc.w WRtGoto,WaitForEverRt-list5
;---
; Unpack until breakfast ready
AnthonyRt4
; messages 15540...
 dc.w WRtGosub,AnthonyUnpacks-list5
 dc.w WRtGoto,AnthonyRt4-list5
;
AnthonyBreakfast
 dc.w WRtGosub,AnthonyPreDinner-list5
;
; trigger last guests (fiona) to arrive
 dc.b telegoto,fiona
 dc.w FionaBreakfast-list5
;
 dc.w WRtGoto,WaitForEverRt-list5
;---
; Read until breakfast ready
WilliamRt4
; messages 15550...
 dc.w WRtGosub,ReadInLibraryRt-list5
 dc.w WRtGoto,WilliamRt4-list5
;
WilliamBreakfast
 dc.w WRtGosub,WilliamPreDinner-list5
 dc.w WRtGoto,WaitForEverRt-list5
;---
; Chat with Kathy until breakfast ready
RobertRt4
; messages 15560...
 dc.w WRtGosub,Robertinstudy1-list5
 dc.w WRtGosub,Robertinstudy2-list5
 dc.w WRtGosub,Robertinstudy3-list5
 dc.w WRtGoto,RobertRt4-list5
;
RobertBreakfast
 dc.w WRtGosub,RobertPreDinner-list5
 dc.w Occupation,16403 ; was waiting for his breakfast * Robert
 dc.w WRtConversation,CRobertLikesHisBreakFastM4-list4
;
; trigger next guests to arrive
 dc.b telegoto,william
 dc.w WilliamBreakfast-list5
 dc.b telegoto,clifford
 dc.w CliffordBreakfast-list5
 dc.b telegoto,anthony
 dc.w AnthonyBreakfast-list5
 dc.w Occupation,0
 dc.w WRtConversation,0
;
 dc.w WRtGoto,WaitforeverRT-list5
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; Argue with Sue (Sue controls RTs)
FionaRt4
; messages 15570...
 dc.b iSIT,0,nullobject,nullobject
 dc.w WRtConversation,CFionaArguesSueM4-list4
 dc.w WRtGoto,WaitForEverRT-list5
;
; Drink sherry until breakfast ready
FionaDrinksM4
 dc.w WRtGosub,drawingrt1-list5
 dc.w WRtGoto,FionaDrinksM4-list5
;
FionaBreakfast
 dc.w WRtGosub,FionaPreDinner-list5
 dc.b telegoto,jarvis
 dc.w JarvisServesBreakFast-list5 ; jarvis starts serving
 dc.w WRtGoto,WaitForEverRt-list5
;
FionaEatsDinnerM4
 dc.w Occupation,16404 ; had insisted on eating a brown egg, instead 
; of white, which everyone else had settled for * Fiona
 dc.w WRtConversation,CFionaInsistsOnBrownM4-list4
 dc.w WRtGosub,FionaEatsDinner-list5
;
; Fiona dies...
 dc.w Wrtmessage,rtmess3+1620 ; Fiona jawned and stretched
 dc.b animateCD,8
 dc.w StandUpAnimation
;* dc.b animate,1
;* dc.w 2191-800 ; body-rasteroffset
;
; Messages 3030-39 are intercepted to confirm that the murder has 
; taken place. All npc's are then given a new 'post-murder' racetrack. 
;
 dc.w WRtMessage,rtmess+3033 ; Fiona screamed briefly and then slumped
; in her chair
;
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; Read until breakfast ready
CliffordRt4
; messages 15580...
 dc.b iSIT,0,nullobject,nullobject
 dc.w Wwaitforperiod,100 ; out of sync with william
CliffordRt41
 dc.w WRtGosub,ReadInLibraryRt-list5
 dc.w WRtGoto,CliffordRt41-list5
;
CliffordBreakfast
 dc.w WRtGosub,CliffordPreDinner-list5
 dc.w WRtGoto,WaitForEverRt-list5
;---
JarvisRt4
; messages 15590...
 dc.w IntrusionOff,0
 dc.b find,roomonly,sam,nullobject ; find sam
 dc.w WRtConversation,CJarvisMorningIntroM4-list4
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15590 ; "Good morning, Sir," began Jarvis, "I imagine breakfast 
; will soon be ready. I'd better go and check"
;
; Set table & wait in kitchen for dinner
 dc.w Occupation,16405 ;was preparing breakfast * Jarvis
 dc.w WRtGosub,JarvisSetsTableRT-list5
 dc.b telegoto,sue
 dc.w SueInsultsFiona-list5 ; sue argues with Fiona
 dc.b find,roomonly,vera,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15591 ; "Hurry up, wife," sighed Jarvis, "Breakfast should be 
; ready by now"
 dc.b setnoun1busy,0,vera,nullobject
 dc.b telegosub,vera
 dc.w FaceJarvisRT-list5
 dc.w WRtMessage,15592 ; "I'll clobber you with my ladel if you 
; don't shut up", replied Vera
 dc.b waitnoun1free,0,vera,nullobject
 dc.b telegosub,vera
 dc.w MoveMouthEmphasisRT-list5
JarvisCleanKitchen
 dc.w WRtGosub,PolishAllFurnitureRT-list5
 dc.w WRtGoto,JarvisCleanKitchen-list5
;
; everyone is ready for dinner
JarvisServesBreakFast
 dc.w WRtMessage,15593 ; "You can start serving now, dear," said Vera
 dc.w Occupation,16110 ; was in the middle of serving dinner * Jarvis
 dc.b take,0,eggs,nullobject ; take eggs
 dc.b facenoun1,0,Vera,nullobject ; face Vera
 dc.b racetrackmessage,anger
 dc.w rtmess3+1669 ; Jarvis said, "I hope these are boiled right!"
;
 dc.b go,quick,77,nullobject ; return to dining room
;
 dc.b iGODOOR,0,83,nullobject ; jarvis has difficulty getting 
; to table from kitchen door without any embarrasing collision glitches
;
 dc.b iPUT,on,table,eggs ; put eggs on table
 dc.b racetrackmessage,emphasis
 dc.w rtmess3+1671 ; "I hope the eggs are to your satisfaction, Sir 
; Robert", said Jarvis
;
; trigger eople to eat, & then go on standard rt
 dc.b telegosub,sue
 dc.w SueEatsDinner-list5
 dc.b telegosub,robert
 dc.w RobertEatsDinner-list5
 dc.b telegosub,kathy
 dc.w KathyEatsDinner-list5
 dc.b telegosub,william
 dc.w WilliamEatsDinner-list5
 dc.b telegosub,fiona
 dc.w FionaEatsDinnerM4-list5
 dc.b telegosub,clifford
 dc.w CliffordEatsDinner-list5
 dc.b telegosub,anthony
 dc.w AnthonyEatsDinner-list5
;
 dc.w WRtMessage,6670 ; jarvis served the breakfast
 dc.w WRtGosub,Reach4TimesRt-list5
 dc.w WRtGoto,WaitForEverRt-list5
;---
InspectorRt4
 dc.b racetrackreturn,0,nullobject,nullobject
;---
;
; After the murder...
;
;---
; messages 15500...
PMSueRt4
 dc.w IntrusionOn,IntrusionSueRoom-list5
 dc.b iSIT,0,bed,nullobject ; sit on bed
 dc.w WRtGoto,WaitForeverRt-list5
;
; Sue arrives & Robert reveals the bad news
SueLearnsOfMurder4
 dc.b go,0,77,nullobject
 dc.w WRtConversation,CSueLearnsM4-list4
 dc.b RevealMurder,0,nullobject,allnpcs
 dc.b find,0,window,nullobject ; go behind fiona
 dc.b find,0,Fiona,nullobject
; intercept and give Fiona the pin
 dc.b racetrackmessage,Shock
 dc.w rtmess3+1630 ; "Oh dear!", exclaimed Sue, "I just knew something 
; terrible was going to happen!"
 dc.w WRtGosub,reach1timesQuicklyRt-list5
 dc.b animateCD,3
 dc.w KissAnimation
 dc.b racetrackmessage,Shock
 dc.w 15506 ; Kathy kissed Fiona. "I'll Sue that bloody 
; farm over those eggs"
 dc.b find,0,robert,nullobject
;
; stop Clifford weeping, and stop Anthony comforting Robert, and 
; send them both to drawing room once Sue & Robert have left 
; the dining room
 dc.b telegoto,Clifford
 dc.w CliffordDrinksWithAnthonyM4-list5
 dc.b telegoto,Anthony
 dc.w AnthonyDrinksWithCliffordM4-list5
;
; try comforting Sir Robert, who leaves angrily
 dc.b racetrackmessage,emphasis
 dc.w 15507 ; Sue began to comfort Sir Robert
 dc.b telegoto,robert
 dc.w RobertStormsOutM4-list5 ; robert leaves
 dc.w WRtGosub,Reach1TimesRt-list5
 dc.b waitforpersontoleave,0,robert,nullobject
;
; sue goes bedroom & pretends to cry
 dc.w Occupation,16406 ; was upset over Fiona's death * Sue
 dc.w WRtConversation,CSuePretendsToCryM4-list4
 dc.b racetrackmessage,emphasis
 dc.w 15508 ; "Oh dear," sighed Sue, "There's no comforting Sir 
; Robert. I'd be better off sitting in my room"
 dc.b go,0,92,nullobject ; go bedroom
 dc.b iSIT,0,nullobject,nullobject
SueWeepsM4
 dc.b ActorVaryMessage,emphasis
 dc.w 15510
; made sobbing noised, but there seemed to be a lack of tears
; said, "What a dreadful shame"
; made a sad face when she saw Sam looking at her
; made soft crying sounds
; said, "I'm finding it difficult holding back the tears"
 dc.w WRtGosub,Reach4TimesSlowlyRT-list5
 dc.w WRtGoto,SueWeepsM4-list5
;
; Sue intrudes on Kathy & William
SueIntrudesKWm4
 dc.w Occupation,0
 dc.b racetrackmessage,emphasis
 dc.w 15516 ; "I think I'll go and see how William and Kathy 
; are taking this," sighed Sue, "I imagine they'll be in their room"
 dc.b go,quick,93,nullobject
 dc.w Occupation,16407 ; was embarrased after intruding upon 
; William annd Kathy * Sue
 dc.w WRtConversation,CSueSendsWilliamToFionaM4-list4
 dc.b iGODOOR,0,84,nullobject ; wait by the door
 dc.w WrtGosub,Wait200orSam-list5
 dc.b facenoun1,0,william,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15517 ; "Oops! Sorry," apologised Sue as she barged in 
; on Kathy and William. "I, err, wondered if you could examine 
; Fiona with your utensils, William"
;
; hide pin in Garden
 dc.w Occupation,0
 dc.w WRtConversation,0
 dc.b go,0,48,nullobject ; back of house
 dc.w Occupation,16408 ; looked around uneasily, not noticing Sam * Sue
 dc.w WRtConversation,CSueHidesPinM4-list4
 dc.w WrtGosub,Wait200orSam-list5
 dc.b drop,0,pin,nullobject ; drop pin
 dc.w Wwaitforperiod,25
 dc.w Occupation,0
 dc.w WRtConversation,0
;
 dc.w WRtGosub,SueStandardLoopRt-list5
;---
; messages 15520...
PMVeraRt4
 dc.w WRtGoto,VeraRt41-list5
;
VeraLearnsOfMurder4
 dc.b RevealMurder,0,nullobject,nullobject
 dc.w WRtConversation,CVeraLearnsM4-list4
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15520 ; Sam heard Sir Robert shout that Fiona had been 
; killed.%
; "I think you ought to go and take a look, Sam", advised Vera
 dc.w WRtGoto,VeraStandardLoopRt-list5
;---
; messages 15530...
PMKathyRt4
 dc.w WRtGoto,WaitForEverRt-list5
;
KathyLearnsOfMurder4
 dc.b RevealMurder,0,nullobject,nullobject
 dc.w WRtConversation,CKathyLearnsM4-list4
 dc.b actorsinglemessage,emphasis
 dc.w 15530 ; screamed hysterically
 dc.w WRtGosub,reach2TimesRT-list5 ; wave arms
 dc.w WRtGoto,WaitForEverRt-list5
;
; drink with William
KathyDrinksM4
 dc.b go,0,79,nullobject
 dc.b iSIT,0,nullobject,nullobject
 dc.w WRtGoto,WaitForeverRt-list5
;
; argue with William
KathyArguesM4
 dc.b go,0,93,nullobject go bedroom
 dc.b iSIT,0,bed,nullobject ; sit on bed
 dc.b waitforperson,0,william,nullobject ; wait for william
 dc.w WrtGosub,Wait200orSam-list5
 dc.b find,0,william,nullobject ; walk to william
 dc.w WRtGoto,WaitForeverRt-list5 ; william control's racetrack
;
; Kathy burns William's letter
KathyBurnLetterM4
 dc.w Occupation,16004 ; was looking suspicious * Kathy
 dc.w WRtConversation,CKathyThrowsSamOutM2-list4
 dc.b open,0,chest,nullobject
 dc.b take,0,letter,nullobject
 dc.b close,0,chest,nullobject
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15108 ; Well, I think I'll go and sit in the study for a while
 dc.w WRtConversation,0
 dc.b go,0,81,nullobject ; go study (has fireplace)
 dc.w Occupation,16005 ; was burning one of William's letters * Kathy <E>
 dc.b put,in,fireplace,letter ; put letter in fire (hard-coded to burn!)
 dc.w WRtConversation,CKathyBurnsLettersM2-list4
 dc.b facenoun1,0,user,nullobject ; face Sam
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15212 ; "William leaves his waste paper everywhere!", snapped 
; Kathy
 dc.w Wwaitforperiod,25
;
; await Sue's intrusion
 dc.b go,quick,93,nullobject ; return to bedroom
 dc.b iSIT,0,bed,nullobject ; sit on bed
 dc.w WRtGoto,WaitForeverRt-list5
;
; visit body with william
KathyVisitsBodyM4
 dc.b go,0,77,nullobject
 dc.b iSIT,0,Nchair,nullobject
 dc.w WRtGoto,WaitForeverRt-list5
;
; Kathy invites Sam to her bedroom
KathySeducesSamM4
 dc.b waitforpersontoleave,0,william,nullobject
 dc.b find,roomonly,user,nullobject ; find sam
 dc.w WRtConversation,CKathyInvitesSamM2-list4
 dc.b ActorSaidSingleMessage,emphasis+portrait
 dc.w 15270 ; Psst! Sam! Meet me in my bedroom!
 dc.b go,0,93,nullobject ; go bedroom
 dc.w Occupation,16009 ; was waiting for Sam * Kathy
 dc.b iSIT,0,bed,nullobject ; sit on bed
 dc.w WrtGosub,Wait200orSam-list5
 dc.w WRtConversation,CKathyForeplayM2-list4 ; leads to sex scene
 dc.b ActorSaidSingleMessage,emphasis+portrait
 dc.w 15271 ; Do you like me, Sam?
 dc.w Wwaitforperiod,250 ; allow sam time to reply
 dc.w WRtConversation,0
 dc.w Occupation,0
;
 dc.w WRtGoto,KathyStandardLoopRT-list5
;---
; messages 15540...
PMAnthonyRt4
 dc.w WrtGosub,Wait200orSam-list5
 dc.b animateCD,1
 dc.w SitDrinkAni ; stop eating
 dc.w WRtGoto,WaitForEverRt-list5
;
AnthonyLearnsOfMurder4
 dc.b RevealMurder,0,nullobject,nullobject
 dc.w WRtConversation,CAnthonyLearnsM4-list4
 dc.b waitforpersontoleave,0,william,nullobject
;
AnthonyComfortsRobertM4
 dc.w Occupation,16409 ; was trying to comfort Sir Robert * Anthony
 dc.w WRtGosub,Reach3TimesSlowlyRT-list5
 dc.b ActorVaryMessage,emphasis
 dc.w 15540
; tried comforting Sir Robert
; said, "You must be feeling dreadful, Robert", said Anthony
; reassured Robert that the farm who sold the eggs would be sued
; said, "Don't worry, Robert, that blasted farm won't be selling anymore eggs"
; made a pathetic attempt at cheering up Sir Robert
 dc.w WRtGoto,AnthonyComfortsRobertM4-list5
;
AnthonyDrinksWithCliffordM4
 dc.b waitforpersontoleave,0,robert,nullobject
 dc.b waitforpersontoleave,0,sue,nullobject
 dc.b go,0,79,nullobject ; go drawing room
 dc.b iSIT,0,nullobject,nullobject ; wait for clifford
 dc.w WRtGoto,WaitForeverRt-list5 ; clifford & then robert take control
;---
AnthonyEatsBadEgg
 dc.w WRtConversation,CAnthonyEatsbadEggM4-list4
 dc.b animate,16
 dc.w eating
 dc.b animateCD,1
 dc.w SitDrinkAni ; stop eating
 dc.w Wwaitforperiod,25
 dc.w WRtConversation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; messages 15550...
PMWilliamRt4
 dc.w WrtGosub,Wait200orSam-list5
 dc.b animateCD,8
 dc.w StandUpAnimation
 dc.b facenoun1,0,fiona,nullobject
 dc.w WRtGoto,WaitForEverRt-list5
;
WilliamLearnsOfMurder4
 dc.b RevealMurder,0,nullobject,nullobject
 dc.b find,0,window,nullobject ; go behind fiona's chair
 dc.b find,0,fiona,nullobject ; go to fiona
 dc.w WActorSingleMessage,15550 ; examined Fiona's body, while the 
; others watched in shock
 dc.w WRtGosub,Reach2TimesRt-list5
 dc.b racetrackmessage,emphasis
 dc.w 15551 ; "It's difficult to tell how she died", sighed 
; William
 dc.w WRtConversation,WilliamSuspectsBadEggM4-list4
 dc.b telegosub,anthony
 dc.w AnthonyEatsBadEgg-list5
 dc.b facenoun1,0,anthony,nullobject
 dc.b racetrackmessage,anger
 dc.w 15552 ; "Don't be so damned stupid, Anthony!", yelled 
; William as Anthony continued eating his egg
 dc.b racetrackmessage,anger
 dc.w 15553 ; "And that goes for everyone," warned William, 
; "It could well have been the eggs that killed Fiona"
 dc.w WRtGosub,Reach1TimesRt-list5
;
; send people on their racetracks after Fiona's been examined
 dc.b telegoto,robert
 dc.w RobertSendsJarvisForPolice-list5
 dc.b telegoto,kathy
 dc.w KathyDrinksM4-list5
;
; drink with Kathy in drawing room
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15144
 dc.b go,0,79,nullobject
 dc.b find,0,table,nullobject ; go to table
 dc.b waitforperson,0,kathy,nullobject ; make sure kathy's here
 dc.w Occupation,16017 ; was drinking sherry with Kathy * William
 dc.b ActorSaidSingleMessage,emphasis
 dc.w 15202 ; A drop of Bob's vintage sherry should cheer us up, 
; eh, Kathy?
 dc.w WRtGosub,Reach2TimesRT-list5 ; reach for drink
 dc.b animate,28
 dc.w PourAnimation
 dc.b find,0,kathy,nullobject ; walk over to kathy
 dc.b SetNoun1Busy,0,kathy,nullobject
 dc.b telegosub,Kathy
 dc.w reach1timesRT-list5 ; make kathy reach out
 dc.w WRtMessage,15291 ; Kathy took a glass of sherry from William
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.b animateCD,8
 dc.w SitDrinkAni
;
; Make Kathy get up and argue
 dc.w Occupation,16018 ; was arguing with Kathy * William
 dc.b telegoto,Kathy
 dc.w KathyArguesM4-list5
 dc.w WRtMessage,15205 ; Kathy began to walk off
 dc.b waitforpersontoleave,0,kathy,nullobject
 dc.w Occupation,0
 dc.b facenoun1,0,user,nullobject ; face sam
 dc.w WRtConversation,CWilliamAngryWithKathyM2-list4
 dc.b ActorSaidSingleMessage,emphasis+portrait
 dc.w 15204 ; What's got into that woman
;
; Argue with Kathy in bedroom
 dc.b go,0,93,nullobject go bedroom
 dc.b waitforperson,0,kathy,nullobject ; make sure Kathy's here
 dc.w Occupation,16018 ; was arguing with Kathy * William
 dc.w WrtGosub,Wait200orSam-list5
 dc.b find,0,kathy,nullobject ; walk to kathy
 dc.b setnoun1busy,0,kathy,nullobject
 dc.b telegosub,Kathy
 dc.w Reach1TimesRt-list5 ; make kathy wave her arms about
 dc.w WRtMessage,15203 ; William and Kathy argued loudly
 dc.w WRtGosub,Reach2TimesRt-list5 ; william waves his arms about
 dc.b facenoun1,0,user,nullobject
 dc.b telegoto,kathy
 dc.w KathyBurnLetterM4-list5 ; kathy burns the letter
 dc.w WRtConversation,CWilliamThrowsSamOutM2-list4
 dc.b ActorSaidSingleMessage,portrait+emphasis
 dc.w 15026 ; How dare you eavesdrop on us, Sam
;
; hide bottles in anthony's room
 dc.b open,0,wardrobe,nullobject
 dc.b take,0,Kathyswhiskybottle,nullobject
 dc.b conditional,0,Kathyswhiskybottle,nullobject
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15107 ;$ I'd better hide this somewhere
 dc.b close,0,wardrobe,nullobject
 dc.b go,0,97,nullobject ; go Anthony's room
 dc.b conditional,0,Kathyswhiskybottle,nullobject
 dc.b put,in,wardrobe,Kathyswhiskybottle ; hide bottle in wardrobe
 dc.b close,0,wardrobe,nullobject ; close the wardrobe
;
; await Sue's intrusion in bedroom
 dc.b go,quick,93,nullobject ; return to bedroom
 dc.b find,0,bed,nullobject
 dc.b waitforperson,0,kathy,nullobject ; wait for kathy
 dc.w Wwaitforperiod,50 ; allow kathy time to sit
 dc.b find,0,kathy,nullobject
 dc.w Occupation,16410 ; was about to "relax" with Kathy * WIlliam
 dc.b racetrackmessage,emphasis
 dc.w 15554 ; William wiped his brow. "That's everything sorted 
; out", said William, "I think we should relax for a while..."%
; Kathy returned a cheeky grin
 dc.w WRtMessage,4999 ; throw sam out
 dc.b iLOCKDOOR,0,nullobject,nullobject
 dc.b telegoto,sue
 dc.w SueIntrudesKWm4-list5 ; trigger sue to intrude
 dc.b waitforperson,0,sue,nullobject
 dc.b iUNLOCKDOOR,0,nullobject,nullobject ; allow Sam to enter
 dc.w WrtGosub,Wait200orSam-list5
 dc.b facenoun1,0,sue,nullobject ; face sue for intruding
 dc.b waitforpersontoleave,0,sue,nullobject
 dc.b facenoun1,0,kathy
 dc.b racetrackmessage,emphasis
 dc.w 15555 ; "Does that woman have no manners?", stormed William, 
; "Come on, we'd better take a look at the body"
 dc.b telegoto,kathy
 dc.w KathyVisitsBodyM4-list5
;
; examine body with doctor's bag
 dc.w Occupation,16411 ; was on his way to examine Fiona * William
 dc.b open,0,wardrobe,nullobject
 dc.b take,0,doctorbag,nullobject ; take it
 dc.b close,0,wardrobe,nullobject
 dc.b go,0,77,nullobject ; go dining room
 dc.b find,0,window,nullobject ; go behind fiona
 dc.b find,0,fiona,nullobject
 dc.w WRtConversation,WilliamSuspectsBadEggM4-list4
 dc.b drop,0,doctorbag,nullobject ; drop bag
 dc.b examine,0,doctorbag,nullobject
 dc.w WRtGosub,ReachDown2TimesRT-list5 ; reach into bag
 dc.b facenoun1,0,fiona,nullobject
 dc.w WRtMessage,15021 ; William examined the body
 dc.w WRtGosub,Reach2TimesRT-list5 ; reach towards body
 dc.b facenoun1,0,user,nullobject
 dc.b ActorSaidSingleMessage,portrait+emphasis
 dc.w 15022 ; I'm afraid there's no hope for her
 dc.w WRtConversation,0
;
; trigger sue to hide pin in bag, & kathy to seduce sam
 dc.b telegoto,kathy
 dc.w KathySeducesSamM4-list5
;
 dc.w WRtGoto,WilliamStandardLoopRT-list5
;---
; messages 15560...
PMRobertRt4
 dc.w Occupation,16412 ; and the family stared at Fiona * Robert
 dc.w WrtGosub,Wait200orSam-list5
 dc.b animateCD,8
 dc.w StandUpAnimation
 dc.b facenoun1,0,Fiona,nullobject
 dc.b racetrackmessage,emphasis
 dc.w rtmess3+1640 ; "Fiona?!", are you okay?", asked Sir Robert
 dc.b animateCD,8
 dc.w reachleftanimation ; wave arms
 dc.b racetrackmessage,Shock
 dc.w rtmess+1641 ; "She's dead!", yelled Sir Robert
;
; trigger guests in dining room to learn of murder
 dc.b telegoto,kathy
 dc.w KathyLearnsOfMurder4-list5
 dc.b telegoto,william
 dc.w WilliamLearnsOfMurder4-list5
 dc.b telegoto,clifford
 dc.w CliffordLearnsOfMurder4-list5
 dc.b telegoto,anthony
 dc.w AnthonyLearnsOfMurder4-list5
;
 dc.b RevealMurder,0,nullobject,nullobject
 dc.w WRtConversation,RobertLearnsM4-list5
 dc.w WRtGoto,WaitForEverRt-list5
;
RobertSendsJarvisForPolice
 dc.b facenoun1,0,Jarvis,nullobject
 dc.b telegoto,jarvis
 dc.w JarvisLearnsOfMurder4-list5
 dc.b racetrackmessage,anger
 dc.w rtmess+15560 ; "Jarvis!", yelled Sir Robert, "Get the police!"
 dc.w WRtGosub,SitDiningRoomS1-list5 ; sit down again
;
; trigger Sue to arrive
 dc.b waitforpersontoleave,0,william,nullobject
 dc.b telegoto,sue
 dc.w SueLearnsOfMurder4-list5
 dc.b waitforperson,0,sue,nullobject
 dc.b animateCD,8
 dc.w StandUpAnimation
 dc.b facenoun1,0,sue,nullobject
 dc.b actorsinglemessage,emphasis
 dc.w 15561 ; Sir Robert explained to Sue that Fiona had been killed, 
; possibly by food poisoning
 dc.w WRtGosub,reach1timesquicklyRT-list5
 dc.b facenoun1,0,sue,nullobject
 dc.w WRtGosub,SitDiningRoomS1-list5 ; sit down again
 dc.w WRtGoto,WaitForeverRT-list5
;
; Storm out after Sue's attemts to comfort Sir Robert
RobertStormsOutM4
 dc.w WRtGosub,RobertPatrolsGardenRT-list5 
;
; Burn photo with Clifford
 dc.b telegoto,Anthony
 dc.w AnthonyStandardLoopRt-list5 ; put anthony on standard
 dc.b telegoto,Clifford
 dc.w CliffordBurnsPhotoM4-list5 ; trigger meeting with Clifford
;
; Robert & Clifford meet and burn the blackmail photo
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15115 ;$ I think I'll go and sit down in my room for a bit
 dc.b go,0,94,nullobject ; go master bedroom
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.w WRTGoto,WaitForEverRT-list5
;---
; Fiona is dead
PMFionaRt4
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; messages 15580...
PMCliffordRt4
 dc.w WrtGosub,Wait200orSam-list5
 dc.b animateCD,8
 dc.w StandUpAnimation
 dc.b facenoun1,0,fiona,nullobject
 dc.w WRtGoto,WaitForEverRt-list5
;
CliffordLearnsOfMurder4
 dc.b RevealMurder,0,nullobject,nullobject
 dc.w WRtConversation,CCliffordLearnsM4-list4
 dc.b facenoun1,0,william,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15580 ; "What!?", howled Clifford, "William! Examine my 
; wife! Was it food poisoning?"
 dc.w Wwaitforperiod,10
;
; Clifford mourns over Fiona
CliffordWeepsM4
 dc.w Occupation,16413 ; was crying over Fiona's body * Clifford
 dc.b find,0,fiona,nullobject
 dc.w WRtGosub,Reach3TimesSlowlyRT-list5
 dc.b actorvarymessage,emphasis
 dc.w 15581
; wept over Fiona's body
; wept, "I can't bear this"
; stared in silence at Fiona's body
; "This is all too much," cried Clifford
; grieved in silence
 dc.w WRtGoto,CliffordWeepsM4-list5
;
CliffordDrinksWithAnthonyM4
 dc.b waitforpersontoleave,0,robert,nullobject
 dc.b waitforpersontoleave,0,sue,nullobject
 dc.w WRtGosub,DrawingRt-list5
CDWAM4
 dc.w WRtGosub,DrawingRt1-list5
 dc.w WRtGoto,CDWAM4-list5
 dc.b racetrackreturn,0,nullobject,nullobject
;
CliffordBurnsPhotoM4
 dc.w 15587 ; "Excuse me, Anthony," said Clifford, "But I have to meet 
; Sir Robert in his room"
 dc.b go,0,94,nullobject ; go master bedroom
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.b waitforperson,0,Robert,nullobject
 dc.w Occupation,16414 ; and Sir Robert were having a private meeting
 dc.b conditional,0,sam,nullobject
 dc.w WRtGosub,CliffordThrowsSamOutM4-list5
 dc.b iPUT,in,fireplace,photo ; destroy photo
 dc.w WRtConversation,CCliffordBurnsPhotoM4-list4
;
 dc.b telegoto,robert
 dc.w RobertStandardLoopRt-list5 ; put robert on standard rt
 dc.w WRtGoto,CliffordStandardLoopRt-list5
;---
; Wait until Sam has left the room before burning the photo
CliffordThrowsSamOutM4
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15588 ; "Excuse me, Sam," said Clifford, "But Sir Robert and I 
; have some business to discuss..."
 dc.w WRtMessage,4999 ; throw sam out
 dc.b waitforpersontoleave,0,sam,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; messages 15590...
PMJarvisRt4
 dc.w WrtGosub,Wait200orSam-list5
 dc.b facenoun1,0,fiona,nullobject
 dc.w WRtGoto,WaitForEverRt-list5
;
JarvisLearnsOfMurder4
 dc.b RevealMurder,0,nullobject,nullobject
 dc.w WRtConversation,CJarvisLearnsM4-list4
 dc.w WRtGosub,JarvisGetPolice-list5
;
; Find Sam and break the news to him
 dc.b find,0,user,nullobject
 dc.b racetrackmessage,shock+portrait
 dc.w rtmess4+1661 ; "Have you heard the news, Sam!", said Jarvis, 
; "Fiona's died! Probably of my wife's cooking!"
;
 dc.w WRtGoto,JarvisStandardLoopRt-list5
;---
PMInspectorRt4
 dc.w WRtGosub,InspectorArrives-list5
;
; visit people who have no special PM racetracks
 dc.w WRtgosub,InspectorvisitSam-list5
 dc.w WRtGosub,InspectorVisitVera-list5
 dc.w WRtGosub,InspectorVisitJarvis-list5
;
 dc.w WRtGosub,InspectorStandardRT-list5 ; do standart RT once only
;
; visit people who have special PM racetracks
 dc.w WRtGosub,InspectorVisitRobert-list5
 dc.w WRtGosub,InspectorVisitClifford-list5
 dc.w WRtGosub,InspectorVisitAnthony-list5
 dc.w WRtGosub,InspectorVisitKathy-list5
 dc.w WRtGoto,InspectorEnd-list5 ; repeat standard RT
;
;-------------------------------------------------------------------------
; MURDER 9
;-------------------------------------------------------------------------
;
; messages 15700...
SueRt9
 dc.b find,coarse,clifford,nullobject ; chat to robert with clifford
 dc.w WRtGoto,SueRt9-list5
;
; triggered by anthony when he complains to robert
SueCliffRead
 dc.w WRtConversation,CSueLaughsAboutTony-list4 ;*
 dc.w WRtGosub,ReadInLibraryRT-list5 ; go library
 dc.w WRtGoto,SueCliffRead-list5
;
SueChatsJarvis
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
; meet robert after jarvis has talked to her about anthony
SueMeetsRobertM9
 dc.w WRtGosub,SueVisitsRobert-list5 ; chat with robert
 dc.w WRtGoto,SueMeetsRobertM9-list5
;
; sue leaves master bedroom just before robert is killed
SueLeavesRobert
 dc.w WRtConversation,0
 dc.b racetrackmessage,emphasis
 dc.w 15700 ; "I really must lie down for a while", sighed Sue.%
; "Very well," said Sir Robert, "You may use my dressing room"
 dc.b go,0,95,nullobject
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
SueHearsFionaShot
 dc.b racetrackmessage,shock+portrait
 dc.w 15701 ; "Goodness gracious!", said Sue, "First a smash of glass, 
; and then a gunshot!"
 dc.b go,0,94,nullobject ; go master bedroom
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
SueReleased
 dc.w WRtConversation,CSueReleased-list4 ;*
 dc.b facenoun1,0,clifford,nullobject
 dc.b waitforpersontoleave,0,clifford,nullobject
 dc.b go,0,86,nullobject
 dc.b facenoun1,0,kathy,nullobject
 dc.w WRtGoto,WaitForEverRt-list5
;
SueGoesGatehouse
 dc.b waitforpersontoleave,0,william,nullobject
 dc.b go,0,45,nullobject ; outside gatehouse
 dc.b facenoun1,0,william,nullobject
 dc.w WRtGoto,WaitForEverRt-list5
;
SueSeesWilliamKilled
 dc.b facenoun1,0,william,nullobject
 dc.w WRtConversation,CSueSeesWilliamKilled-list4 ;*
 dc.w WRtGosub,Reach4TimesRt-list5
 dc.w WRtGoto,WaitForEverRt-list5
;
SueDiningRoom
 dc.w WRtGosub,SitDiningRoomS1-list5
 dc.b waitforperson,0,inspector,nullobject
 dc.b waitforpersontoleave,0,inspector,nullobject
;
 dc.w WRtGoto,PostMurder5-list5
;---
; messages 15720...
VeraRt9
 dc.w WRtMessage,5259 ; Supposedly free Jarvis to do normal things 
 dc.w IntrusionOn,IntrusionVeraKitchen-list5
VeraRt91
 dc.w WRtGosub,Verainkitchen-list5
 dc.w WRtGosub,Verainkitchen1-list5
 dc.w WRtGosub,Verainkitchen2-list5
 dc.w WRtGosub,Verainkitchen3-list5
 dc.w WRtGosub,Verainkitchen4-list5
 dc.w WRtGoto,VeraRt91-list5
;
; hear robert fall
VeraRushesToRobertsBody
 dc.b racetrackmessage,shock+portrait
 dc.w 15720 ; "Those darned slates are falling in by garden again!", 
; complained Vera
 dc.b go,0,39,nullobject
 dc.b revealmurder,0,robert,allnpcs
 dc.w WRtConversation,CVeraAccusesJarvis-list4 ;*
 dc.b racetrackmessage,shock+portrait
 dc.w 15721 ; "Oh my goodness!", cried Vera, "He's dead!"
 dc.b find,coarse,robert,nullobject ; walk to robert's body
; wait for others to arrive, then point to window, pointing out 
; jarvis
 dc.b waitforperson,0,kathy,nullobject
 dc.b waitforperson,0,fiona,nullobject
 dc.b waitforperson,0,clifford,nullobject
 dc.b animate,15
 dc.w reachleftanimation+7 ; reach up to the west
 dc.b racetrackmessage,shock+portrait
 dc.w 15723 ; "Look!", cried Vera, "There's my husband at the window. 
; I'll bet it was him who pushed Sir Robert out"
 dc.b telegoto,Jarvis
 dc.w AnthonyShootsFiona-list5 ; "jarvis" shoots fiona
 dc.w WRtGoto,waitforeverrt-list5
;
VeraSeesFionaShot
 dc.b revealmurder,0,fiona,allnpcs
 dc.b facenoun1,0,fiona,nullobject
 dc.b waitforpersontoleave,0,clifford,nullobject
 dc.b go,0,86,nullobject
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
VeraBlamesJarvis
 dc.b racetrackmessage,shock+anger
 dc.w 15724 ; "Well, I'm dead certain it was Jarvis who killed 
; them both", huffed Vera
 dc.w WRtGosub,Reach2timesquicklyRt-list5
 dc.w WRtGoto,WaitForEverRt-list5
;
VeraReleasesSue
 dc.w WRtConversation,CVeraHearsSueScream-list4 ;*
 dc.b racetrackmessage,shock
 dc.w 15725 ; "Did you hear that scream?", gasped Vera
 dc.b go,0,95,nullobject ; dressing room
 dc.b facenoun1,0,wardrobe,nullobject
 dc.b waitforperson,0,sue,nullobject ; wait sue released
 dc.w WRtConversation,0
 dc.b waitforpersontoleave,0,clifford,nullobject
 dc.b go,0,86,nullobject
 dc.b facenoun1,0,kathy,nullobject
 dc.w WRtConversation,CVeraSaysJarvisGoneMad-list4 ;*
 dc.b racetrackmessage,shock
 dc.w 15726 ; "Jarvis has gone mad!", shrieked Vera, "He's going to 
; kill us all!"
 dc.w WRtGoto,WaitForEverRt-list5
;
VeraGoesGatehouse
 dc.b waitforpersontoleave,0,william,nullobject
 dc.b go,0,45,nullobject ; outside gatehouse
 dc.b facenoun1,0,william,nullobject
 dc.w WRtGoto,WaitForEverRt-list5
;
VeraSeesWilliamKilled
 dc.b facenoun1,0,william,nullobject
 dc.w WRtConversation,CVeraSeesWilliamKilled-list4 ;*
 dc.w WRtGosub,Reach4TimesRt-list5
 dc.w WRtGoto,WaitForEverRt-list5
;
VeraDiningRoom
 dc.w WRtGosub,SitDiningRoomN3-list5
 dc.b waitforperson,0,inspector,nullobject
 dc.b waitforpersontoleave,0,inspector,nullobject
 dc.w WRtGoto,VeraStandardLoopRt-list5
;---
; messages 15740...
KathyRt9
 dc.w WRtGosub,KathyPutsMakeUpOn-list5 ; put make-up on
 dc.w WRtGoto,KathyRt9-list5
;
; triggered by william, to intrude upon fiona & himself
KathyIntrudesWilliamFiona
 dc.w Wwaitforperiod,100
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15144 ;$ I fancy a quick sherry. I imagine there's a bottle 
; or two in the drawing room
 dc.b find,roomonly,william,nullobject
 dc.w WRtConversation,CKathyIntrudesBill-list4 ;*
 dc.b racetrackmessage,emphasis
 dc.w 15740 ; "William?! What on earth are you whispering?", 
; quizzed kathy
;
; william & fiona resume drinking
 dc.b telegoto,william
 dc.w WilliamStopReassuring-list5
 dc.b telegoto,fiona
 dc.w FionaStopReassuring-list5 ; fiona leaves
;
 dc.w Wwaitforperiod,20 ; time for william to explain to kathy
 dc.b facenoun1,0,fiona,nullobject ; watch fiona leave
 dc.w Wwaitforperiod,10 ; time for william to explain to kathy
 dc.b facenoun1,0,fiona,nullobject ; watch fiona leave
 dc.w Wwaitforperiod,10 ; time for william to explain to kathy
 dc.b facenoun1,0,william,nullobject ; watch fiona leave
 dc.b racetrackmessage,emphasis
 dc.w 15741 ; "I hope you're not interfering with Fiona's marriage 
; again", said Kathy
 dc.w WRtGosub,DrawingRt1-list5 ; drink
 dc.b telegoto,william
 dc.w WilliamHidesBottles-list5 ; william hides bottles
 dc.b waitforpersontoleave,0,william,nullobject
 dc.w WRtGosub,DrawingRt1-list5 ; drink
;
KathySeducesSam
 dc.b find,0,sam,nullobject ; kathy finds sam
 dc.w WRtConversation,CKathySeduceSamM5-list4 ;*
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15742 ; "Hiya, Sam", said Kathy, "How about following me up 
; to my bedroom?"
 dc.b go,0,93,nullobject ; go bedroom
 dc.w WrtGosub,Wait200orSam-list5
 dc.b find,local,sam,nullobject ; walk to sam (within this room only)
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15743 ; "How about a cuddle?", simpered Kathy
 dc.b telegoto,william
 dc.w WilliamIntrudesKathySam-list5 ; make william arrive
;
; william intrudes almost immediately
 dc.b waitforperson,0,william,nullobject
 dc.w WRtConversation,0
 dc.b facenoun1,0,william,nullobject
 dc.w WRtGosub,Reach2TimesQuicklyRt-list5 ; wave arms about
 dc.b waitforpersontoleave,0,william,nullobject
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15744 ; "Oh dear", sighed Kathy, "I'd better go and keep 
; him company"
;
; pass time until robert's fall is heard
 dc.b go,0,79,nullobject ; go drawing room
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.b animateCD,8
 dc.w SitDrinkAni
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
; hear robert fall...
KathyRushesToRobertsBody
 dc.b racetrackmessage,shock+portrait
 dc.w 15745 ; "Whatever was that thud?", wondered Kathy, "It sounded 
; like it came from the kitchen garden"
 dc.b go,0,39,nullobject
 dc.b revealmurder,0,robert,allnpcs
 dc.w WRtConversation,CKathyFindsRobertDead-list4 ;*
 dc.b racetrackmessage,shock+portrait
 dc.w 15746 ; Kathy gasped in shock when she saw Sir Robert's dead body
 dc.b find,coarse,robert,nullobject ; walk to robert's body
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
KathySeesFionaShot
 dc.b revealmurder,0,fiona,allnpcs
 dc.w WRtConversation,CKathySeesFionaShot-list4 ;*
 dc.b racetrackmessage,shock+portrait
 dc.w 15747 ; Kathy screamed
 dc.b facenoun1,0,fiona,nullobject
 dc.b waitforpersontoleave,0,clifford,nullobject
 dc.b go,0,86,nullobject
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
KillKathyM5
;* dc.b Animate,1
;* dc.w 2190-kathy*100 ; -rasteroffset
 dc.w WRtGoto,WaitForEverRt-list5
;---
; messages 15760...
AnthonyRt9
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.b waitforperson,0,jarvis,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15760 ; "Ah, old Jarvis has drinks for us! Good show!", enthused 
; Anthony
 dc.b waitforpersontoleave,0,jarvis,nullobject
 dc.w WRtConversation,CAnthonyRefusedDrink-list4 ;*
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15761 ; "Well I'll be damned", stormed Anthony, "Fancy the old 
; fool not offering me a drink"
 dc.b find,0,table,nullobject
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15762 ; "I'm going to complain to Sir Robert about that 
; idiot of a butler", added Anthony
;
; step on racetracks...
 dc.b telegoto,sue
 dc.w SueCliffRead-list5
 dc.b telegoto,clifford
 dc.w CliffordSueRead-list5
 dc.b telegoto,william
 dc.w WilliamFionaReassuring-list5
 dc.b telegoto,fiona
 dc.w FionaWilliamReassuring-list5
;
; complain to robert
 dc.b go,0,72,nullobject ; go corridor
 dc.b telegoto,robert
 dc.w RobertListensToComplaint-list5
 dc.b find,roomonly,robert,nullobject
 dc.w Occupation,16500 ; was complaining to Sir Robert about Jarvis * Anthony
 dc.w WRtConversation,CAnthonyAngryOverJarvis-list4 ;*
 dc.b find,0,robert,nullobject
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15763 ; "I'm cheesed off with that blasted butler of yours!", 
; huffed Anthony
 dc.w WRtGosub,Reach2TimesQuicklyRt-list5
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15764 ; Anthony explained how Jarvis hadn't been showing him 
; any respect
 dc.b telegoto,robert
 dc.w RobertSummonJarvis-list5
 dc.b iSIT,0,nullobject,nullobject ; sit & wait for Robert to summon 
; Jarvis
 dc.b waitforperson,0,jarvis,nullobject
 dc.w Occupation,0
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
AnthonyIntrudesJarvis
 dc.b go,0,97,nullobject ; go bedroom
 dc.w WRtGosub,AnthonyUnpacks-list5 ; pass time
 dc.b find,roomonly,jarvis,nullobject ; go library
 dc.w WRtMessage,15765 ; Anthony walked in while everyone was joking 
; about him, so he walked away quietly
 dc.b telegoto,jarvis
 dc.w JarvisGetsKilled-list5 ; jarvis goes gatehouse & is soon killed
;
; get rope from cellar
 dc.b go,0,75,nullobject
 dc.b take,0,longrope,nullobject
;
; hang jarvis in the gatehouse
 dc.b go,0,45,nullobject ; go outside gatehouse
 dc.w WRtMessage,8015 ; start murder sequence (& knock sam out if here)
 dc.b go,quick,51,nullobject ; enter all rooms in g/house so that 
 dc.b go,quick,52,nullobject ; sam is thrown out (by knocking out)
 dc.b go,quick,50,nullobject ; go gatehouse kitchen
 dc.b iSIT,0,nullobject,nullobject
 dc.b waitforperson,0,jarvis,nullobject
 dc.b telegoto,jarvis
 dc.w JarvisIsAnthony-list5 ; make "jarvis" do anthony's massacre rt
 dc.b iLOCKDOOR,0,nullobject,nullobject ; lock door from outside
 dc.b drop,0,longrope,nullobject
 dc.w WRtMessage,8075 ; end murder sequence
 dc.w WRtGoto,WaitForEverRt-list5 ; wait until "jarvis" done massacre
;
; wait until "jarvis" has bumped off robert & fiona, and then 
; swap places with him
AnthonySwapsWithJarvis
 dc.w WRtMessage,4980+jarvis ; kill jarvis
 dc.w WRtMessage,8075 ; end murder sequence
;
; anthony is in sue's room - meet with others in entrance hall
AnthonyArrivedInHall
 dc.b go,0,86,nullobject ; go entrance hall
 dc.b facenoun1,0,clifford,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15766 ; "I heard a gunshot!", said Anthony, "What's going on?"
 dc.b setnoun1busy,0,clifford,nullobject
 dc.b telegosub,clifford
 dc.w FaceAnthonyRt-list5
 dc.w WRtConversation,CAnthonyToldNews-list4 ;*
 dc.w WRtMessage,15767 ; Clifford explained how they'd found Sir 
; Robert dead, and then how Fiona was shot
 dc.b waitnoun1free,0,clifford,nullobject
 dc.b telegosub,clifford
 dc.w MoveMouthEmphasisRt-list5
 dc.w WRtMessage,15768 ; "It's got to be Jarvis," repeated Vera
 dc.b setnoun1busy,0,vera,nullobject
 dc.b telegosub,vera
 dc.w MoveMouthEmphasisRt-list5
 dc.b waitnoun1free,0,vera,nullobject
;
; Sue screams from upstairs
 dc.w WRtMessage,15769 ; Just then, Sam heard Sue screaming from 
; upstairs..
 dc.b telegoto,vera
 dc.w VeraReleasesSue-list5
 dc.b telegoto,william
 dc.w WilliamReleaseSue-list5
 dc.b telegoto,clifford
 dc.w CliffordReleaseSue-list5
;
; Anthony kills kathy when everyone's gone to release sue
 dc.b waitforpersontoleave,0,vera,nullobject
 dc.b waitforpersontoleave,0,william,nullobject
 dc.b waitforpersontoleave,0,clifford,nullobject
 dc.w WRtMessage,8015 ; start murder sequence (& knock sam out if here)
 dc.b waitforpersontoleave,0,sam,nullobject ; wait until sam 
; is "knocked out"
 dc.b waitforperson,0,kathy,nullobject
 dc.w WRtMessage,4980+kathy ; kill kathy
 dc.b telegoto,kathy
 dc.w KillKathyM5-list5
; pretend to be knocked out
 dc.b animate,16
 dc.w 2099-500 ; -anthony's r.offset
 dc.w WRtMessage,8075 ; end murder sequence
;
; explain to others that jarvis attacked
 dc.w WRtConversation,CAnthonyAttackedByJarvis-list4 ;*
 dc.b waitforperson,0,clifford,nullobject ; clifford arrives with others
 dc.b find,0,clifford,nullobject ; get up
 dc.b racetrackmessage,shock
 dc.w 15770 ; "Oh my head!", groaned Anthony, "All I remember is 
; seeing Jarvis attacking Kathy and myself!"
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.b waitforperson,0,sue,nullobject
 dc.b waitforperson,0,vera,nullobject
 dc.b waitforperson,0,william,nullobject
 dc.b telegoto,inspector
 dc.w InspectorArrivesM5-list5
 dc.b waitforperson,0,inspector,nullobject ; wait for inspector
;
 dc.b racetrackmessage,emphasis
 dc.w 15771 ; "At last!", said Anthony as the Inspector arrived
 dc.b find,0,inspector,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15772 ; Anthony explained that Jarvis had massacred half of 
; the family
 dc.b telegoto,inspector
 dc.w InspectorGoesGatehouse-list5
 dc.b telegoto,william
 dc.w WilliamGoesGatehouse-list5
 dc.b telegoto,clifford
 dc.w CliffordGoesGatehouse-list5
 dc.b telegoto,vera
 dc.w VeraGoesGatehouse-list5
 dc.b telegoto,sue
 dc.w SueGoesGatehouse-list5
;
 dc.b waitforpersontoleave,0,william,nullobject
 dc.b go,0,45,nullobject ; outside gatehouse
 dc.b facenoun1,0,william,nullobject
 dc.w WRtGoto,WaitForEverRt-list5
;
; William is killed, so Anthony enters gatehouse & hides rope
AnthonyDiscoversJarvis
 dc.b go,0,50,nullobject
 dc.b take,0,longrope,nullobject
 dc.b take,0,penknife,nullobject
 dc.b go,quick,53,nullobject
 dc.b iput,in,chest,longrope ; hide rope
 dc.b iput,in,chest,penknife ; hide knife
 dc.b close,0,chest,nullobject ; close chest
 dc.b go,quick,50,nullobject
 dc.b iUNLOCKDOOR,0,nullobject,nullobject ; allow user entry
 dc.b go,quick,45,nullobject ; meet others
;
; Anthony announces Jarvis's death
 dc.b facenoun1,0,inspector,nullobject
 dc.b revealmurder,0,jarvis,allnpcs
 dc.w WRtConversation,CAnthonySaysJarvisHanged-list4 ;*
 dc.b racetrackmessage,shock+portrait
 dc.w 15773 ; "Jarvis has killed himself!", announced Anthony, 
; "It's not a pretty sight"
;
 dc.b telegoto,inspector
 dc.w InspectorVisitBodyM5-list5
 dc.b telegoto,sue
 dc.w SueDiningRoom-list5
 dc.b telegoto,vera
 dc.w VeraDiningRoom-list5
 dc.b telegoto,clifford
 dc.w CliffordDiningRoom-list5
;
; inspector questions anthony in gatehouse
 dc.b go,0,50,nullobject
 dc.b find,0,jarvis,nullobject
 dc.b waitforperson,0,inspector,nullobject
 dc.b facenoun1,0,inspector,nullobject
 dc.b waitforpersontoleave,0,inspector,nullobject
;
 dc.b go,quick,77,nullobject
 dc.w WRtGosub,SitDiningRoomN1-list5
 dc.b waitforperson,0,inspector,nullobject
 dc.b waitforpersontoleave,0,inspector,nullobject
;
 dc.b racetrackmessage,emphasis
 dc.w 15774 ; "Er, I think I'll take a stroll", quavered Anthony
 dc.b go,0,92,nullobject ; go sue's room
 dc.b conditional,0,wig,nullobject
 dc.w WRtGosub,AnthonyHidesWig-list5
 dc.w WRtGoto,PostMurder5-list5
;---
AnthonyHidesWig
 dc.b take,0,wig,nullobject
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15775 ; "I didn't know Jarvis wore a toupe", sniggered Anthony
 dc.b go,0,81,nullobject ; go study
 dc.b iput,in,fireplace,wig
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15776 ; "That should keep the fire burning for a while", grinned 
; Anthony
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; messages 15780...
WilliamRt9
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
; triggered by jarvis when offered a drink
WilliamTakesDrink
 dc.w WRtConversation,CWillAnthonyDoesntDeserveDrink-list4 ;*
 dc.w WRtGosub,Reach1TimesQuicklyRt-list5
 dc.b animateCD,8
 dc.w SitDrinkAni
 dc.w WrtGoto,WaitForEverRT-list5 ; keep drinking
;
; triggered by anthony when he complains to robert
WilliamFionaReassuring
 dc.w Occupation,16501 ; was comforting Fiona * William
 dc.b waitforpersontoleave,0,anthony,nullobject
 dc.w WRtConversation,0
 dc.w WrtGosub,Wait200orSam-list5
 dc.b racetrackmessage,emphasis
 dc.w 15780 ; "I wish I'd never married Clifford," Fiona sobbed
 dc.b setnoun1busy,0,fiona,nullobject
 dc.b TeleGosub,fiona
 dc.w MoveMouthEmphasisRT-list5         
 dc.b telegoto,kathy
 dc.w KathyIntrudesWilliamFiona-list5 ; kathy intrudes soon
;
WilliamFionaReassuringLoop
 dc.b find,0,fiona,nullobject
 dc.b setnoun1busy,0,fiona,nullobject
 dc.b telegosub,fiona
 dc.w ReachDown1timesRt-list5
 dc.b actorvarymessage,emphasis
 dc.w 15781
; hugged Fiona
; said, "Don't worry, I'm sure you and Clifford will sort things out"
; smiled at Fiona in sympathy
; said, "You shouldn't let Clifford upset you so"
; listened to Fiona revealing her marriage problems
 dc.w WRtGosub,Reach2timesquicklyRt-list5
 dc.b waitnoun1free,0,fiona,nullobject
 dc.w WRtGoto,WilliamFionaReassuringLoop-list5
;
; triggered by kathy when she intrudes
WilliamStopReassuring
 dc.w Occupation,0
 dc.b facenoun1,0,kathy,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15786 ; "Oh, er, hello Kathy", stammered William, "Fiona was 
; just whispering something to me"
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.b animateCD,8
 dc.w SitDrinkAni
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
; hide bottles in cellar
WilliamHidesBottles
 dc.b racetrackmessage,emphasis
 dc.w 15787 ; "I'm off to the bedroom for a while, Kath", said William 
 dc.b go,0,93,nullobject
 dc.b open,0,wardrobe,nullobject
 dc.b take,0,Kathyswhiskybottle,nullobject
 dc.b conditional,0,Kathyswhiskybottle,nullobject
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15107 ;$ I'd better hide this somewhere
 dc.b close,0,wardrobe,nullobject
 dc.b go,0,78,nullobject ; go larder
 dc.b conditional,0,Kathyswhiskybottle,nullobject
 dc.b drop,0,Kathyswhiskybottle,nullobject ; hide bottle in larder
 dc.b telegoto,kathy ; now that the bedroom's empty
 dc.w KathySeducesSam-list5 ; send kathy to seduce sam
;
; pass time until ready to intrude upon kathy & sam
 dc.w WRtGoto,ToiletRt-list5
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
; subroutine, called while william's hiding the bottle
WilliamIntrudesKathySam
 dc.b go,quick,93,nullobject ; go bedroom
 dc.b facenoun1,0,kathy,nullobject
 dc.w WRtConversation,CWilliamIntrudesKathySam-list4 ;*
 dc.b racetrackmessage,shock+portrait
 dc.w 15788 ; "What do you think you're playng at, Kathy!", yelled 
; William
 dc.b find,0,kathy,nullobject
 dc.b racetrackmessage,shock
 dc.w 15789 ; "I thought I told you to stop your damned flirting!", 
; snapped William
 dc.b find,0,kathy,nullobject
 dc.b racetrackmessage,shock
 dc.w 15790 ; "Well, I'm off for a sherry", added William, "I don't 
; want any more trouble from you"
 dc.w WRtConversation,0
;
; pass time until robert's fall is heard
WilliamDrinksM9
 dc.w WRtGosub,DrawingRt1-list5
 dc.w WRtGoto,WilliamDrinksM9-list5
;
WilliamRushesDownstairs
 dc.w WRtConversation,CWilliamHearsRobertFall-list4 ;*
 dc.b racetrackmessage,shock+portrait
 dc.w 15791 ; "Crumbs!", blasted William as he heard a loud 
; thud echo from the side of the house
 dc.w WRtGoto,WilliamDrinksM9-list5
;
WilliamHearsFionaShot
 dc.w WRtConversation,CWilliamHearsOfFionasDeath-list4 ;*
 dc.b racetrackmessage,shock+portrait
 dc.w 15797 ; "What?!", yelled William. "Fiona? Shot?!"
 dc.b go,0,86,nullobject ; go to hall
 dc.b racetrackmessage,shock+portrait
 dc.w 15792 ; "I'd better wait here for the others", said William
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
WilliamReleaseSue
 dc.w WRtConversation,CWilliamHearsSueScream-list4 ;*
 dc.b go,0,95,nullobject ; dressing room
 dc.b facenoun1,0,wardrobe,nullobject
 dc.b waitforperson,0,sue,nullobject ; wait sue released
 dc.w WRtConversation,0
 dc.b waitforpersontoleave,0,clifford,nullobject
 dc.b go,0,86,nullobject
 dc.w WRtConversation,CWilliamFindsKathyDead-list4 ;*
 dc.b facenoun1,0,kathy,nullobject
 dc.b racetrackmessage,shock
 dc.w 15793 ; "Oh, my poor Kathy!", cried William
 dc.b find,0,kathy,nullobject
 dc.w WRtGosub,ReachDown3TimesRt-list5
 dc.w WRtGoto,WaitForEverRt-list5
;
WilliamGoesGatehouse
 dc.b facenoun1,0,inspector,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15794 ; "I think we should visit the gatehouse and find 
; Jarvis," concluded William
 dc.b go,0,45,nullobject ; outside gatehouse
 dc.b igodoor,0,50,nullobject ; go gatehouse door
 dc.b waitforperson,0,sue,nullobject
 dc.b waitforperson,0,vera,nullobject
 dc.b waitforperson,0,anthony,nullobject
 dc.b waitforperson,0,clifford,nullobject
 dc.b waitforperson,0,inspector,nullobject
;
 dc.b igodoor,0,50,nullobject ; go gatehouse door
 dc.b telegosub,Anthony
 dc.w MoveMouthEmphasisRT-list5
; message 15795 triggers a piece of masonry to fall on william
 dc.b racetrackmessage,emphasis
 dc.w 15795 ; Anthony suggested that one of the men should go on 
; ahead into the gatehouse. "I'll do it," said William bravely
;* dc.b animate,1
;* dc.w 2182-600 ; -rasteroffset for william
 dc.w WRtMessage,15796 ; A block of masonry hurtled down and hit 
; William as he went to open the door
 dc.w WRtMessage,4980+william ; William was crushed to death
 dc.b telegoto,anthony
 dc.w AnthonyDiscoversJarvis-list5
 dc.b telegoto,inspector
 dc.w InspectorSeesWilliamKilled-list5
 dc.b telegoto,sue
 dc.w SueSeesWilliamKilled-list5
 dc.b telegoto,vera
 dc.w VeraSeesWilliamKilled-list5
 dc.b telegoto,clifford
 dc.w CliffordSeesWilliamKilled-list5
 dc.w WRtGoto,WaitForEverRt-list5
;---
; messages 15800...
RobertRt9
 dc.w WRtGosub,Robertinstudy1-list5
 dc.w WRtGosub,Robertinstudy2-list5
; dc.w WRtGosub,Robertinstudy3-list5
 dc.w WRtGoto,RobertRt9-list5
;
; anthony complains about jarvis
RobertListensToComplaint
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.b waitforperson,0,anthony,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15800 ; "Ah, Anthony", grinned Sir Robert, "Tell me, what brings 
; you here again?"
 dc.w WRtConversation,CRobertGoingToTellJarvisOff-list4 ;*
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
; robert summons jarvis and gives him a bollocking
RobertSummonJarvis
 dc.b racetrackmessage,emphasis
 dc.w 15801 ; "If this is true," began Sir Robert, "Then I think we 
; should sort it out right now"
 dc.b racetrackmessage,emphasis
 dc.w 15802 ; "Jarvis!", called Sir Robert, "Come to the master bedroom"
 dc.b telegoto,jarvis
 dc.w JarvisToldOff-list5 ; make jarvis arrive
 dc.b waitforperson,0,jarvis,nullobject
 dc.w WRtConversation,CRobertTellsJarvisOff-list4 ;*
 dc.w WRtGosub,Wait200orSam-list5 ; don't wait indefinately for sam here, 
; as this will hold the game up
 dc.b facenoun1,0,jarvis,nullobject
 dc.w Occupation,16502 ; was giving Jarvis a telling off * Robert
 dc.b racetrackmessage,emphasis
 dc.w 15803 ; "Anthony tells me that you've been showing him 
; little respect of late", said Sir Robert to Jarvis
 dc.b telegosub,jarvis
 dc.w Reach2TimesQuicklyRT-list5 ; jarvis waves arms
 dc.b waitnoun1free,0,jarvis,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15804 ; Jarvis held his head in shame as Sir Robert told him off
 dc.w WRtGosub,Reach2TimesQuicklyRT-list5 ; wave arms
 dc.b telegoto,jarvis
 dc.w JarvisChatsCliffSue-list5 ; jarvis meets clifford & sue
;
; reassure anthony
 dc.w WRtConversation,0
 dc.b facenoun1,0,anthony,nullobject
 dc.b waitforpersontoleave,0,jarvis,nullobject
 dc.w Occupation,0
 dc.b telegoto,anthony
 dc.w AnthonyIntrudesJarvis-list5 ; send anthony away
 dc.b racetrackmessage,emphasis
 dc.w 15805 ; "Well, that's sorted him out", concluded Sir Robert, 
; "You may leave now, Anthony"
 dc.b facenoun1,0,anthony,nullobject
 dc.b waitforpersontoleave,0,anthony,nullobject
;
; have a meeting with sue in dressing room
RobertRt91
 dc.w WRtGosub,Robertinstudy1-list5
 dc.w WRtGosub,Robertinstudy2-list5
 dc.w WRtGoto,RobertRt91-list5
;
KillRobertM5
;* dc.b Animate,1
;* dc.w 2194-robert*100 ; -rasteroffset
 dc.w WRtGoto,WaitForEverRt-list5
;---
; messages 15820...
FionaRt9
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
; triggered by jarvis when offered a drink
FionaTakesDrink
 dc.w WRtConversation,CFionaAnthonyDoesntDeserveDrink-list4 ;*
 dc.w WRtGosub,Reach1TimesQuicklyRt-list5
 dc.b animateCD,8
 dc.w SitDrinkAni
 dc.w WrtGoto,WaitForEverRT-list5 ; keep drinking
;
; triggered by anthony when he complains to robert
FionaWilliamReassuring
 dc.w WRtConversation,0
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
; triggered by kathy when she intrudes
FionaStopReassuring
 dc.w Wwaitforperiod,20 ; time for william to explain to kathy
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15141 ;$ I think I'll take a wander through the grounds
 dc.b go,0,37,nullobject ; go shed
 dc.b conditional,0,clifford,nullobject
 dc.w WRtGoto,FionaMeetingWithClifford-list5
 dc.b iLOCKDOOR,0,nullobject,nullobject ; lock door while waiting for
 dc.b waitforperson,0,clifford,nullobject ; clifford, as she does 
 dc.b iUNLOCKDOOR,0,nullobject,nullobject ; nothing until he arrives
;
FionaMeetingWithClifford
 dc.w Occupation,16503 ; was having a secret meeting with Clifford * Fiona
 dc.b find,0,clifford,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 11060 ; Fiona's words were too quiet to hear. 
 dc.b facenoun1,0,sam,nullobject
 dc.b racetrackmessage,emphasis+portrait
 dc.w 11056 ; "How dare you follow us!..." 
 dc.w WRtMessage,4999 ; throw sam out
 dc.w WRtGoto,FionaMeetingWithClifford-list5 ; until hear robert's fall
;
FionaRushesToRobertsBody
 dc.w Occupation,0
 dc.b waitforpersontoleave,0,clifford,nullobject ; clifford leads
 dc.b go,0,39,nullobject
 dc.b revealmurder,0,robert,allnpcs
 dc.w WRtConversation,CFionaSeesRobertDead-list4 ;*
 dc.b racetrackmessage,shock+portrait
 dc.w 15820 ; Fiona cringed ;*
 dc.b find,coarse,robert,nullobject ; walk to robert's body
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever
;
FionaGetsShot
;* dc.b animate,1
;* dc.w 2098-800 ; body-rasteroffset
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;---
; messages 15840...
CliffordRt9
 dc.w WRtGosub,CliffordVisitsRobert-list5 ; chat with robert
 dc.w WRtGoto,CliffordRt9-list5
;
; triggered by anthony when he complains to robert
CliffordSueRead
 dc.w WRtConversation,CCliffordMakesFunOfAnthony-list4 ;*
 dc.b go,0,88,nullobject ; go library
 dc.b iSIT,0,nullobject,nullobject
 dc.b waitforperson,0,sue,nullobject
 dc.w Wwaitforperiod,100 ; out of sync with sue's reading rt
CliffSueRead1
 dc.w WRtGosub,libraryRT1-list5
 dc.w WRtGoto,CliffSueRead1-list5
;
CliffChatsJarvis
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
CliffordMeetsFiona
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15141 ;$ I think I'll take a wander through the grounds
 dc.b go,0,37,nullobject ; go shed
 dc.b conditional,0,fiona,nullobject
 dc.w WRtGoto,CliffordMeetingWithFiona-list5
 dc.b iLOCKDOOR,0,nullobject,nullobject ; lock door while waiting for
 dc.b waitforperson,0,fiona,nullobject ; fiona, as he does 
 dc.b iUNLOCKDOOR,0,nullobject,nullobject ; nothing until he arrives
;
CliffordMeetingWithFiona
 dc.w WRtConversation,0
 dc.w WrtGosub,Wait200orSam-list5
 dc.b find,0,fiona,nullobject
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
; hear robert fall...
CliffordRushesToRobertsBody
 dc.b racetrackmessage,shock+portrait
 dc.w 15840 ; "Bloody hell!", rasped Clifford, "That sounded 
; like a bomb dropping in the garden"
 dc.b go,0,39,nullobject
 dc.b revealmurder,0,robert,allnpcs
 dc.w WRtConversation,CCliffordSeesRobertDead-list4 ;*
 dc.b racetrackmessage,shock+portrait
 dc.w 15841 ; Clifford shouted the news through the house that Sir 
; Robert had been killed
 dc.b find,coarse,robert,nullobject ; walk to robert's body
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever
;
CliffordSeesFionaShot
 dc.b revealmurder,0,fiona,allnpcs
 dc.w WRtConversation,CCliffordSeesFionaShot-list4 ;*
 dc.b racetrackmessage,shock+portrait
 dc.w 15842 ; "Oh dear God!", Sam heard Clifford 
; shout, "Fiona's been shot!" * OMNI message
 dc.b telegoto,william
 dc.w WilliamHearsFionaShot-list5
 dc.b telegoto,sue
 dc.w SueHearsFionaShot-list5
 dc.b facenoun1,0,fiona,nullobject
 dc.b racetrackmessage,shock+portrait
 dc.w 15843 ; "Let's phone the police!", Clifford added
;
; Clifford 'phones police
 dc.w Occupation,16036 ; had decided to 'phone the police * STANDARD
 dc.b go,0,86,nullobject ; go to hall
 dc.b iDial,0,telephone,nullobject ; pick up receiver
 dc.b racetrackmessage,shock+portrait
 dc.w 15844 ; Clifford called the police and demanded that someone 
; be sent immediately
 dc.b animate,3
 dc.w DropPhone
 dc.w Occupation,0
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
;
; speculate until anthony arrives
 dc.w Occupation,16504 ; was discussing the day's events * Clifford
 dc.b racetrackmessage,emphasis
 dc.w 15845 ; Everyone talked in horrified tones about Robert and 
; Fiona's murder
 dc.b telegosub,william
 dc.w MoveMouthEmphasisRt-list5
 dc.b telegosub,kathy
 dc.w MoveMouthEmphasisRt-list5
 dc.b telegoto,vera
 dc.w VeraBlamesJarvis-list5
 dc.b telegoto,Anthony
 dc.w AnthonyArrivedInHall-list5 ; trigger anthony to arrive
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever
;
CliffordReleaseSue
 dc.w Occupation,0
 dc.w WRtConversation,CCliffordHearsSueScream-list4 ;*
 dc.b racetrackmessage,shock+portrait
 dc.w 15846 ; "Come on, William," said Clifford, "It sounds as if 
; Sue's in trouble!"
 dc.b go,0,95,nullobject ; dressing room
 dc.w Occupation,16505 ; was rescuing Sue from the wardrobe * Clifford
 dc.w WRtMessage,15847 ; Another scream came from the wardrobe
 dc.b open,0,wardrobe,nullobject
 dc.w WRtConversation,0
 dc.b racetrackmessage,shock
 dc.w 15848 ; "My god!", said Clifford, "Are you okay, Sue?"
 dc.w WRtGosub,Reach2timesquicklyrt-list5
 dc.b racetrackmessage,shock
 dc.w 15849 ; "It was Jarvis!", said Sue, trembling, "He locked me 
; in here after he fired the gun"
 dc.b take,0,sue,nullobject
 dc.b drop,0,sue,nullobject ; remove sue from wardrobe
 dc.b telegoto,sue
 dc.w SueReleased-list5
 dc.b racetrackmessage,shock
 dc.w 15850 ; "I'm afraid Robert and Fiona are dead", revealed Clifford 
; solemnly. "Come on, the police should be here soon"
 dc.w Occupation,0
;
; return to find anthony "knocked out", & kathy dead
 dc.b go,0,86,nullobject
 dc.b revealmurder,0,kathy,allnpcs
 dc.w WRtConversation,CCliffordCantTakeAnyMore-list4 ;*
 dc.b facenoun1,0,kathy,nullobject
 dc.b racetrackmessage,shock
 dc.w 15851 ; "I don't think I can take any more of this!", roared 
; Clifford
 dc.w WRtGoto,WaitForEverRt-list5
;
CliffordGoesGatehouse
 dc.b waitforpersontoleave,0,william,nullobject
 dc.b go,0,45,nullobject ; outside gatehouse
 dc.b facenoun1,0,william,nullobject
 dc.w WRtGoto,WaitForEverRt-list5
;
CliffordSeesWilliamKilled
 dc.b facenoun1,0,william,nullobject
 dc.w WRtConversation,CCliffordSeesWilliamKilled-list4 ;*
 dc.w WRtGosub,Reach4TimesRt-list5
 dc.w WRtGoto,WaitForEverRt-list5
;
CliffordDiningRoom
 dc.w WRtConversation,CCliffordToldJarvisDead-list4 ;*
 dc.w WRtGosub,SitDiningRoomS2-list5
 dc.b waitforperson,0,inspector,nullobject
 dc.b waitforpersontoleave,0,inspector,nullobject
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15144 ; STANDARD
;
PostMurder5
 dc.w WRtGosub,DrawingRt1-list5
 dc.w WRtGoto,PostMurder5-list5
;---
; messages 15860...
JarvisRt9
 dc.w IntrusionOff,0
 dc.b find,roomonly,sam,nullobject ; find sam
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15860 ; "Good day, Sir," began Jarvis, "You must excuse me, 
; I have drinks to serve"
 dc.b go,0,79,nullobject
 dc.w WRTConversation,JarvisHasDrinksForWF-list4
 dc.w Occupation,16506 ; was serving drinks to everyone except Anthony * Jarvis
;
; offer drink to fiona
 dc.b find,0,Fiona,nullobject ; find fiona
 dc.b ActorSaidSingleMessage,Emphasis 
 dc.w 11008                       ; Drinkies, modom? 
 dc.b setnoun1busy,0,fiona,nullobject
 dc.b TeleGosub,Fiona 
 dc.w MoveMouthEmphasisRT-list5         
 dc.w WRtMessage,15861 ; "Why, thank you, Jarvis", said, Fiona
 dc.w WRtGosub,reach1timesquicklyrt-list5 ; pass drink
 dc.b waitnoun1free,0,fiona,nullobject
 dc.b telegoto,fiona
 dc.w FionaTakesDrink-list5
;
; offer drink to william
 dc.b find,0,Fiona,nullobject ; find fiona
 dc.b ActorSaidSingleMessage,Emphasis 
 dc.w 11002                       ; Drinkies, william? 
 dc.b setnoun1busy,0,william,nullobject
 dc.b TeleGosub,william
 dc.w MoveMouthEmphasisRT-list5         
 dc.w WRtMessage,15862 ; "Don't mind if I do", muttered William
 dc.w WRtGosub,reach1timesquicklyrt-list5 ; pass drink
 dc.b waitnoun1free,0,william,nullobject
 dc.b telegoto,william
 dc.w WilliamTakesDrink-list5
 dc.w Occupation,0
;
 dc.w WRTConversation,JarvisDislikesAnthony-list4
;
 dc.w WRtGoto,JarvisStandardLoopRT-list5 ; tidy house etc.
;
; triggered by robert, to tell jarvis off
JarvisToldOff
 dc.b racetrackmessage,emphasis+portrait
 dc.w 15863 ; Sam heard Sir Robert shouting for Jarvis. "Oh, dear", 
; sighed Jarvis, "He doesn't sound very happy"
 dc.b go,quick,94,nullobject
 dc.w WRTConversation,0
 dc.w WrtGosub,Wait200orSam-list5
 dc.b find,0,robert,nullobject
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
; Jarvis chats with Clifford & Sue
JarvisChatsCliffSue
 dc.w WRTConversation,JarvisDetestesAnthony-list4
 dc.b find,roomonly,clifford,nullobject
 dc.w Occupation,16507 ; was maknig fun of Anthony * Jarvis
 dc.b telegoto,clifford
 dc.w CliffChatsJarvis-list5
 dc.b telegoto,sue
 dc.w SueChatsJarvis-list5
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
;
JarvisChatsCliffSueLoop
 dc.b actorsinglemessage,anger
 dc.w 15864 ; It's just like Anthony to go telling tales
 dc.w WRTGosub,Reach2TimesQuicklyrt-list5
 dc.b racetrackmessage,anger
 dc.w 15865 ; Jarvis explained how he'd just been told off after 
; Anthony's interference
 dc.b setnoun1busy,0,sue,nullobject
 dc.b telegosub,sue
 dc.w MoveMouthEmphasisRT-list5 ; sue speaks
; dc.b facenoun1,0,sue,nullobject
 dc.b waitnoun1free,0,sue,nullobject
 dc.w WRtMessage,15866 ; "Anthony's so pathetic," laughed Sue
 dc.b setnoun1busy,0,clifford,nullobject
 dc.b telegosub,clifford
 dc.w MoveMouthEmphasisRT-list5 ; clifford speaks
; dc.b facenoun1,0,clifford,nullobject
 dc.b waitnoun1free,0,clifford,nullobject
 dc.w WRtMessage,15867 ; "Isn't he just...", smirked Clifford
 dc.w WRtGoto,JarvisChatsCliffSueLoop-list5
;
; Jarvis goes to gatehouse & gets killed
JarvisGetsKilled
 dc.w Occupation,0
 dc.b facenoun1,0,anthony,nullobject
 dc.b waitforpersontoleave,0,anthony,nullobject ; watch anthony leave
 dc.b facenoun1,0,clifford,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15868 ; "What a fool Anthony is!", said Jarvis before heading 
; to the Gatehouse
;
 dc.b go,0,86,nullobject ; leave the library
 dc.b telegoto,clifford
 dc.w CliffordMeetsFiona-list5 ; clifford meets fiona
 dc.b telegoto,sue
 dc.w SueMeetsRobertM9-list5 ; sue meets robertfiona
;
JarvisAwaitsMurder
 dc.w WRtGosub,JarvisDrinksIngateHouse-list5
 dc.w WRtGoto,JarvisAwaitsMurder-list5
;
; "jarvis" is used to carry out anthony's massacre RT, since 
; anthony is supposed to be dressed as jarvis
JarvisIsAnthony
 dc.w WRTConversation,JarvisOnMassacre-list4 ; refuse conversation
; push robert out of the window
 dc.b go,0,72,nullobject
 dc.w WRtMessage,8015 ; start murder sequence (& knock sam out if here)
 dc.b telegoto,sue
 dc.w SueLeavesRobert-list5 ; get sue out of the way
 dc.b go,0,94,nullobject
 dc.b waitforpersontoleave,0,sue,nullobject
 dc.w WRtMessage,4980+robert ; kill robert
; send kathy, fiona, clifford & vera to where robert has fallen
 dc.b telegoto,robert
 dc.w KillRobertM5-list5
 dc.b telegoto,kathy
 dc.w KathyRushesToRobertsBody-list5
 dc.b telegoto,clifford
 dc.w CliffordRushesToRobertsBody-list5
 dc.b telegoto,vera
 dc.w VeraRushesToRobertsBody-list5
 dc.b telegoto,fiona
 dc.w FionaRushesToRobertsBody-list5
 dc.b telegoto,william
 dc.w WilliamRushesDownstairs-list5
 dc.w WrtGoto,WaitForEverRT-list5 ; wait forever 
;
; shoot fiona when people arrive below window
AnthonyShootsFiona
 dc.w WRtMessage,4980+fiona ; kill fiona
 dc.b telegoto,fiona
 dc.w FionaGetsShot-list5 ; fiona dies
 dc.b telegoto,kathy
 dc.w KathySeesFionaShot-list5
 dc.b telegoto,vera
 dc.w VeraSeesFionaShot-list5
 dc.b telegoto,clifford
 dc.w CliffordSeesFionaShot-list5
 dc.b waitforperson,0,sue,nullobject
 dc.b take,0,sue,nullobject ; grab sue
;
 dc.b go,0,95,nullobject ; go dressing room
 dc.b iPUT,in,wardrobe,sue ; put her in wardrobe
 dc.b close,0,wardrobe,nullobject ; wardrove closed
 dc.b telegoto,anthony
 dc.w AnthonySwapsWithJarvis-list5 ; exchange places with anthony
; (antyhony's racetrack kills jarvis & ends the murder sequence)
;
;* dc.b Animate,1
;* dc.w 2189-jarvis*100 ; -rasteroffset
 dc.w WRtGoto,WaitForEverRt-list5 ; jarvis is now dead
;---
; messages 15880...
InspectorRt9
 dc.w WRtGoto,WaitForEverRt-list5
InspectorArrivesM5
 dc.b go,quick,86,nullobject ; meet others in entrance hall
 dc.b find,0,anthony,nullobject ; anthony suggests to go to shed
 dc.b racetrackmessage,emphasis+portrait
 dc.w rtmess+3060 ; "Hello, I'm Inspector Gormley", said 
; the Inspector.
;
InspectorGoesGatehouse
 dc.b waitforpersontoleave,0,william,nullobject
 dc.b go,0,45,nullobject ; outside gatehouse
 dc.b facenoun1,0,william,nullobject
 dc.w WRtGoto,WaitForEverRt-list5
;
InspectorSeesWilliamKilled
 dc.b facenoun1,0,william,nullobject
 dc.w WRtMessage,15880 ; Everyone stared in shock at William
 dc.w WRtGosub,Reach4TimesRt-list5
 dc.w WRtGoto,WaitForEverRt-list5
;
InspectorVisitBodyM5
 dc.b facenoun1,0,Sue,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15881 ; "I'm going to take a look with Anthony", said the 
; Inspector to Sue and Vera, "I'd like you to wait in the dining 
; room"
 dc.b go,0,50,nullobject
 dc.b find,0,jarvis,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15882 ; "Hmm! Certainly not a pretty sight," said the inspector
 dc.b facenoun1,0,anthony,nullobject
 dc.w Occupation,16252 ; was questioning Anthony * Insp.
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b racetrackmessage,1
 dc.w rtmess+4053 ; The Inspector questioned Anthony and stroked 
; his chin
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.w Occupation,0
;
 dc.b go,quick,77,nullobject
 dc.w WRtGosub,SitDiningRoomN2-list5
 dc.b animateCD,3
 dc.w readanimation ; read
; make sure everyone's here
 dc.b waitforperson,0,sue,nullobject
 dc.b waitforperson,0,vera,nullobject
 dc.b waitforperson,0,clifford,nullobject
 dc.b waitforperson,0,anthony,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 15883 ; The inspector began questioning everyone in turn
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,emphasis
 dc.w 15884 ; The inspector sribbled in hi notepad and said, "That should 
; do for now..."
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
;
 dc.w WRtGoto,InspectorStandardRt-list5
; 
;-------------------------------------------------------------------------
; ARRIVALS OF Kathy+William, Anthony, Fiona/Clifford, Sue
;-------------------------------------------------------------------------
;
; Kathy arrives at the front door
KathyArrivesNoJarvis
 dc.w WRtGosub,KathyArrivesAtDoor-list5
 dc.b go,0,93,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
;
KathyArrivesRt
 dc.b go,0,45,nullobject ; go to archway
 dc.w WRtMessage,rtmess+3080 ; trigger 'personarriving'
 dc.w WRtGosub,KathyArrivesAtDoor-list5
;
; Kathy rings the bell and waits for the door to open
KathywaitsforJarvis
 dc.w Occupation,16100 ; and William were waiting for Jarvis 
; to answer the door * Kathy
 dc.b iplay,0,doorbell,nullobject ; ring doorbell
 dc.w WRtGosub,WaitAtFrontDoor-list5
 dc.w Occupation,0
;
; was door opened by Jarvis?
 dc.b conditional,0,Jarvis,nullobject ; Jarvis here?
 dc.w WRtGoto,KathyfollowJarvis-list5 ; yes
;
; someone other than Jarvis has opened the door
 dc.b racetrackmessage,emphasis
 dc.w rtmess+20 ; "Thank's for letting us in," said Kathy. 
 dc.b go,0,86,nullobject ; go entrance hall
 dc.b racetrackmessage,emphasis
 dc.w rtmess+20 ; "Thank's for letting us in," said Kathy. 
 dc.b conditional,0,Jarvis,nullobject ; Jarvis here?
 dc.w WRtGoto,KathyfollowJarvis-list5 ; yes
 dc.b racetrackmessage,anger
 dc.w rtmess+21 ; "Jarvis?", shouted William, "Come and 
; help us with our luggage!"
 dc.b waitforperson,0,Jarvis,nullobject
;
; Jarvis has arrived, and Kathy follows as he leads the way to her room
KathyfollowJarvis
 dc.b ifollow,0,Jarvis,nullobject ; follow him
 dc.b Rconditional,0,93,nullobject ; reached our room yet?
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.b wait,0,nullobject,nullobject ; prevents hang-up (wait 1 turn)
 dc.w WRtGoto,KathyfollowJarvis-list5
;
KathyArrivesAtDoor
 dc.b go,0,45,nullobject ; go to archway
 dc.b waitforperson,0,William,nullobject
 dc.w WRtMessage,rtmess+0 ; "What a fine day this is for the reunion," 
; sighed William
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,emphasis
 dc.w rtmess+north ; "It's a good while since I've seen your 
; folks", replied Kathy
 dc.b go,0,47,nullobject ; go to front of house
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,emphasis
 dc.w rtmess+2 ; "I hope we're not too early," said Kathy
 dc.w Wwaitforperiod,10
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; Actor has just arrived, and waits at front door for someone 
; to open it.
waitatfrontdoor
; message rtmess+10 is specially intercepted at an early stage, to 
; check if the door has been opened. If so, a racetrack return is 
; executed. Otherwise, the message is printed at random
 dc.w WRtActorVaryMessage,rtmess+10 ; sighed, "Come on, Jarvis."
; tapped lightly on the door.
; yawned and said, "I wish somebody would answer"
; shouted, "Hello? Is anyone home?"
; banged on the door.
 dc.w WRtGoto,waitatfrontdoor-list5
;---
; William follows Kathy until his room is reached
WilliamArrivesRt
 dc.b ifollow,0,Kathy,nullobject
 dc.b Rconditional,0,93,nullobject ; reached our room yet?
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.b wait,0,nullobject,nullobject ; prevents hang-up (wait 1 turn)
 dc.w WRtGoto,WilliamArrivesRt-list5
;---
JarvisGreetsKathyRt
; (kills any previous occupations, such as polishing bannister...)
 dc.w Occupation,16260 ; was answering the door * Jarvis
 dc.b racetrackmessage,emphasis
 dc.w rtmess+200 ; "Is that the doorbell I can hear?", muttered 
; Jarvis.
 dc.b find,0,Kathy,nullobject ; find Kathy
 dc.b racetrackmessage,emphasis
 dc.w rtmess+201 ; "Hello William", said Jarvis. "And good day 
; to you, m'lady. This way please."
 dc.w Occupation,16101 ; was escorting Kathy and William to 
; their room * Jarvis
 dc.b go,0,86,nullobject ; go entrance hall
 dc.b iGODOOR,0,83,nullobject ; go next door
 dc.b waitforperson,0,Kathy,nullobject
 dc.w WRtMessage,rtmess+202 ; "I see you've been keeping the place tidy, 
; Jarvis," commented Kathy.
 dc.b go,0,83,nullobject ; go hall
 dc.b iGODOOR,0,84,nullobject ; go next door
 dc.b waitforperson,0,Kathy,nullobject
 dc.w WRtMessage,rtmess+203 ; Kathy chatted to Jarvis about the weather. 
; William tagged along, looking increasingly bored.
 dc.b go,0,84,nullobject ; go landing
 dc.b igodoor,0,93,nullobject ; go next door
 dc.b waitforperson,0,Kathy,nullobject
 dc.b racetrackmessage,emphasis
 dc.w rtmess+204 ; "Same room as usual, m'lady," said Jarvis with 
; a gesture towards the door.
 dc.b go,0,93,nullobject ; go green bedroom
 dc.b waitforperson,0,William,nullobject
 dc.b find,0,William,nullobject
 dc.w WRtMessage,rtmess+205 ; "Many thanks, Jarvis", said William.
 dc.w WWaitforperiod,30
 dc.b racetrackmessage,emphasis
 dc.w rtmess+250 ; "Much appreciated," replied Jarvis. "Dinner 
; will be served at six. Until then, feel free to wander around"
 dc.w Occupation,0
 dc.w WRtGoto,JarvisInterruptible1-list5
;---
; Anthony arrives at the front door
AnthonyArrivesNoJarvis
 dc.w WRtGosub,AnthonyArrivesAtDoor-list5
 dc.b go,0,97,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
;
AnthonyArrivesRt
 dc.b go,0,45,nullobject ; go to archway
 dc.w WRtMessage,rtmess+3080 ; trigger 'personarriving'
 dc.w WRtGosub,AnthonyArrivesAtDoor-list5
;
; Anthony rings the bell and waits for Jarvis
AnthonywaitsforJarvis
 dc.b iplay,0,doorbell,nullobject ; ring doorbell
 dc.w Occupation,16102 ; was waiting for Jarvis to answer the door * Anthony
 dc.w WRtGosub,WaitAtFrontDoor-list5
 dc.w Occupation,0
;
; was door opened by Jarvis?
 dc.b conditional,0,Jarvis,nullobject ; Jarvis here?
 dc.w WRtGoto,AnthonyfollowJarvis-list5 ; yes
;
; someone other than Jarvis has opened the door
 dc.b racetrackmessage,emphasis
 dc.w rtmess+50 ; "Thank's for letting me in," said Anthony. 
 dc.b go,0,86,nullobject ; go entrance hall
 dc.b racetrackmessage,emphasis
 dc.w rtmess+50 ; "Thank's for letting me in," said Anthony. 
 dc.b conditional,0,Jarvis,nullobject ; Jarvis here?
 dc.w WRtGoto,AnthonyfollowJarvis-list5 ; yes
 dc.b racetrackmessage,anger
 dc.w rtmess+51 ; "Jarvis?", shouted Anthony, "Where are 
; you?"
 dc.b waitforperson,0,Jarvis,nullobject
;
; Jarvis has arrived, and Anthony follows as he leads the way to his room
AnthonyfollowJarvis
 dc.b ifollow,0,Jarvis,nullobject ; follow him
 dc.b Rconditional,0,97,nullobject ; reached our room yet?
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.b wait,0,nullobject,nullobject ; prevents hang-up (wait 1 turn)
 dc.w WRtGoto,AnthonyfollowJarvis-list5
;
AnthonyArrivesAtDoor
 dc.b go,0,45,nullobject ; go to archway
 dc.w Wwaitforperiod,5
 dc.w WRtMessage,rtmess+40 ; Anthony whistled merrily to himself
 dc.b go,0,47,nullobject ; go to front of house
 dc.w WRtMessage,rtmess+41 ; Anthony hummed a little tune
 dc.b racetrackreturn,0,nullobject,nullobject
;---
JarvisGreetsAnthonyRt
 dc.w Occupation,16260 ; was answering the door * Jarvis
 dc.b racetrackmessage,emphasis
 dc.w rtmess+210 ; "Ah," began Jarvis. "There goes the 
; doorbell."
 dc.b find,0,Anthony,nullobject ; find Anthony
 dc.b racetrackmessage,emphasis
 dc.w rtmess+211 ; "Good day to you, Anthony", said Jarvis. 
 dc.w Wwaitforperiod,20
 dc.w WRtMessage,rtmess+212 ; "Yes," replied Anthony, "A fine day 
; indeed."
 dc.w Occupation,16103 ; was escorting Anthony to his room * Jarvis
 dc.b go,0,86,nullobject ; go entrance hall
 dc.b iGODOOR,0,83,nullobject ; go next door
 dc.b waitforperson,0,Anthony,nullobject
 dc.w WRtMessage,rtmess+213 ; Anthony wiped his feet on the doormat.
 dc.b go,0,83,nullobject ; go hall
 dc.b iGODOOR,0,84,nullobject ; go next door
 dc.b waitforperson,0,Anthony,nullobject
 dc.w WRtMessage,rtmess+214 ; "Mmm," said Anthony as he sniffed the 
; air. "I wonder what's cooking?"
 dc.b go,0,84,nullobject ; go landing
 dc.b igodoor,0,97,nullobject ; go next door
 dc.b waitforperson,0,Anthony,nullobject
 dc.b racetrackmessage,emphasis
 dc.w rtmess+215 ; "I hope your room's to your satisfaction," 
; said Jarvis as he reached to open the door
 dc.b go,0,97,nullobject
 dc.b waitforperson,0,Anthony,nullobject
 dc.b find,0,Anthony,nullobject
 dc.w WRtMessage,rtmess+216 ; "Just right," said Anthony, "I see you've 
; kept it tidy as usual, Jarvis"
 dc.w WWaitforperiod,30
 dc.b racetrackmessage,emphasis
 dc.w rtmess+251 ; "Thank you, Sir," replied Jarvis. "Dinner's 
; at six. Feel free to do as you please until then"
 dc.w Occupation,0
 dc.w WRtGoto,JarvisInterruptible2-list5
;---
; Clifford arrives at the front door
CliffordArrivesNoJarvis
 dc.w WRtGosub,CliffordArrivesAtDoor-list5
 dc.b go,0,91,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
;
CliffordArrivesRt
 dc.b go,0,45,nullobject ; go to archway
 dc.w WRtMessage,rtmess+3080 ; trigger 'personarriving'
 dc.w WRtGosub,CliffordArrivesAtDoor-list5
;
; Clifford rings the bell and waits for Jarvis
CliffordwaitsforJarvis
 dc.b iplay,0,doorbell,nullobject ; ring doorbell
 dc.w Occupation,16104 ; and Fiona were waiting for Jarvis 
; to answer the door * Clifford
 dc.w WRtGosub,WaitAtFrontDoor-list5
 dc.w Occupation,0
;
; was door opened by Jarvis?
 dc.b conditional,0,Jarvis,nullobject ; Jarvis here?
 dc.w WRtGoto,CliffordfollowJarvis-list5 ; yes
;
; someone other than Jarvis has opened the door
 dc.b racetrackmessage,emphasis
 dc.w rtmess+90 ; "Thank's for letting us in," said Clifford. 
 dc.b go,0,86,nullobject ; go entrance hall
 dc.b racetrackmessage,emphasis
 dc.w rtmess+90 ; "Thank's for letting us in," said Clifford. 
 dc.b conditional,0,Jarvis,nullobject ; Jarvis here?
 dc.w WRtGoto,CliffordfollowJarvis-list5 ; yes
 dc.b racetrackmessage,anger
 dc.w rtmess+91 ; "Where's Jarvis got to?", mumbled Clifford.
 dc.b waitforperson,0,Jarvis,nullobject
;
; Jarvis has arrived, and Clifford follows as he leads the way to his room
CliffordfollowJarvis
 dc.b ifollow,0,Jarvis,nullobject ; follow him
 dc.b Rconditional,0,91,nullobject ; reached our room yet?
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.b wait,0,nullobject,nullobject ; prevents hang-up (wait 1 turn)
 dc.w WRtGoto,CliffordfollowJarvis-list5
;
CliffordArrivesAtDoor
 dc.b go,0,45,nullobject ; go to archway
 dc.b waitforperson,0,Fiona,nullobject
 dc.b racetrackmessage,emphasis
 dc.w rtmess+80 ; "Why the frown?", Clifford asked Fiona.
 dc.w Wwaitforperiod,20
 dc.w WRtMessage,rtmess+81 ; "Oh," sighed Fiona, "I'm just a bit worried 
; about the way my father's letting the business drift."
 dc.b go,0,47,nullobject ; go to front of house
 dc.b waitforperson,0,Fiona,nullobject
 dc.w WRtMessage,rtmess+82 ; Clifford gave Fiona a friendly peck 
; on the cheek.
 dc.b animate,3
 dc.w KissAnimation+south ; kiss south
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; Fiona follows Clifford until her room is reached
FionaArrivesRt
 dc.b ifollow,0,Clifford,nullobject
 dc.b Rconditional,0,91,nullobject ; reached our room yet?
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.b wait,0,nullobject,nullobject ; prevents hang-up (wait 1 turn)
 dc.w WRtGoto,FionaArrivesRt-list5
;---
JarvisGreetsCliffordRt
 dc.w Occupation,16260 ; was answering the door * Jarvis
 dc.w IntrusionOn,IntrusionJarvisRoom-list5 ; turned off when all guests have arrived
 dc.b racetrackmessage,emphasis
 dc.w rtmess+220 ; "I'd better answer that," sighed Jarvis 
; as the doorbell rang.
 dc.b find,0,Clifford,nullobject ; find Clifford
 dc.b racetrackmessage,emphasis
 dc.w rtmess+221 ; "Well, if it isn't Fiona and Clifford," 
; enthused Jarvis.
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,emphasis
 dc.w rtmess+222 ; "I trust you've both been keeping well," 
; continued Jarvis as he took the couple's luggage.
 dc.w Occupation,16105 ; was escorting Clifford and Fiona to their 
; room * Jarvis
 dc.b go,0,86,nullobject ; go entrance hall
 dc.b iGODOOR,0,83,nullobject ; go next door
 dc.b waitforperson,0,Clifford,nullobject
 dc.w WRtMessage,rtmess+223 ; Clifford droned on and on about his 
; journey to the Grange.
 dc.b go,0,83,nullobject ; go hall
 dc.b iGODOOR,0,84,nullobject ; go next door
 dc.b waitforperson,0,Clifford,nullobject
 dc.w WRtMessage,rtmess+224 ; "...they should make the roads wider," 
; added Clifford in a stern tone.
 dc.b go,0,84,nullobject ; go landing
 dc.b igodoor,0,91,nullobject ; go next door
 dc.b waitforperson,0,Clifford,nullobject
 dc.w WRtMessage,rtmess+225 ; Clifford continues his monotonous 
; protest about the British highways. Jarvis got increasingly bored. 
; a gesture towards the door.
 dc.b go,0,91,nullobject
 dc.b waitforperson,0,Fiona,nullobject
 dc.b find,0,Clifford,nullobject
 dc.w WRtMessage,rtmess+226 ; Clifford fumbled in his wallet to find a tip.
 dc.w WWaitforperiod,15
 dc.b animate,3
 dc.w reachleftanimation+west ; reach west
 dc.w WWaitforperiod,15
 dc.b racetrackmessage,emphasis
 dc.w rtmess+252 ; "Many thanks," said Jarvis as he 
; took Clifford's tip. "Have a pleasant day."
 dc.w Occupation,0
 dc.w WRtGoto,JarvisInterruptible3-list5
;---
; Sue arrives at the front door
SueArrivesNoJarvis
 dc.w WRtGosub,SueArrivesAtDoor-list5
 dc.b go,0,92,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
;
SueArrivesRt
 dc.b go,0,45,nullobject ; go to archway
 dc.w WRtMessage,rtmess+3080 ; trigger 'personarriving'
 dc.w WRtGosub,SueArrivesAtDoor-list5
;
; Sue rings the bell and waits for Jarvis
SuewaitsforJarvis
 dc.b iplay,0,doorbell,nullobject ; ring doorbell
 dc.w Occupation,16106 ; was waiting for Jarvis to answer the 
; door * Sue
 dc.w WRtGosub,WaitAtFrontDoor-list5
 dc.w Occupation,0
;
; was door opened by Jarvis?
 dc.b conditional,0,Jarvis,nullobject ; Jarvis here?
 dc.w WRtGoto,SuefollowJarvis-list5 ; yes
;
; someone other than Jarvis has opened the door
 dc.b racetrackmessage,emphasis
 dc.w rtmess+130 ; "Thank you," said Sue, "I'm always forgetting 
; my keys, you know"
 dc.b go,0,86,nullobject ; go entrance hall
 dc.b racetrackmessage,emphasis
 dc.w rtmess+130
 dc.b conditional,0,Jarvis,nullobject ; Jarvis here?
 dc.w WRtGoto,SuefollowJarvis-list5 ; yes
 dc.b racetrackmessage,emphasis
 dc.w rtmess+131 ; "Now where's Jarvis goto to?", said Sue
 dc.b waitforperson,0,Jarvis,nullobject
;
; Jarvis has arrived, and Sue follows as he leads the way to her room
SuefollowJarvis
 dc.b ifollow,0,Jarvis,nullobject ; follow him
 dc.b Rconditional,0,92,nullobject ; reached our room yet?
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.b wait,0,nullobject,nullobject ; prevents hang-up (wait 1 turn)
 dc.w WRtGoto,SuefollowJarvis-list5
;
SueArrivesAtDoor
 dc.b go,0,45,nullobject ; go to archway
 dc.w Wwaitforperiod,5
 dc.b racetrackmessage,emphasis
 dc.w rtmess+120 ; "Hello, Sam", said Sue. "Isn't it a lovelly 
; day?"
 dc.b go,0,47,nullobject ; go to front of house
 dc.b racetrackmessage,emphasis
 dc.w rtmess+121 ; "Meeting the family will be an experience," 
; concluded Sue
 dc.b racetrackreturn,0,nullobject,nullobject
;---
JarvisGreetsSueRt
 dc.w Occupation,16260 ; was answering the door * Jarvis
 dc.b racetrackmessage,emphasis
 dc.w rtmess+230 ; "That must be Sue" said Jarvis
 dc.b find,0,Sue,nullobject ; find Anthony
 dc.b racetrackmessage,emphasis
 dc.w rtmess+231 ; "Hello, Sue", said Jarvis. "Let me help 
; you with your things"
 dc.w Wwaitforperiod,20
 dc.w WRtMessage,rtmess+232 ; "Many thanks, Jarvis," replied Sue
 dc.w Occupation,16107 ; was escorting Sue to her room * Jarvis
 dc.b go,0,86,nullobject ; go entrance hall
 dc.b iGODOOR,0,83,nullobject ; go next door
 dc.b waitforperson,0,Sue,nullobject
 dc.w WRtMessage,rtmess+233 ; "And how's your Vera today?", asked Sue
 dc.w Wwaitforperiod,10
 dc.b racetrackmessage,emphasis
 dc.w rtmess+234 ; "Oh, much the same as usual," sighed Jarvis, 
; "Still not speaking to me..."
 dc.b go,0,83,nullobject ; go hall
 dc.b iGODOOR,0,84,nullobject ; go next door
 dc.b waitforperson,0,Sue,nullobject
 dc.w WRtMessage,rtmess+235 ; "Well, at least Vara's cooking smells up to 
; scratch," said Sue, sniffing the air
 dc.b go,0,84,nullobject ; go landing
 dc.b igodoor,0,92,nullobject ; go next door
 dc.b waitforperson,0,Sue,nullobject
 dc.b racetrackmessage,emphasis
 dc.w rtmess+236 ; "Your room's as you left it last night, Sue" 
; said Jarvis.
 dc.w Wwaitforperiod,20 ;;
 dc.b racetrackmessage,emphasis
 dc.w rtmess+237 ; "The bed didn't appear to need making", added 
; Jarvis quietly
 dc.b go,0,92,nullobject
 dc.b waitforperson,0,Sue,nullobject
 dc.b find,0,Sue,nullobject
 dc.w Wwaitforperiod,10 ;;20
 dc.w WRtMessage,rtmess+238 ; "Thank you Jarvis," said Sue. "I'll call if 
; I need you"
 dc.w WWaitforperiod,30
 dc.b racetrackmessage,emphasis
 dc.w rtmess+253 ; "Very well ma'am," said Jarvis
 dc.w Occupation,0
 dc.w WRtGoto,JarvisInterruptible-list5
;---
; General Rt for Jarvis answering door to somebody other than a new 
; arrival.
JarvisAnswerDoor
 dc.b go,0,47,nullobject
 dc.b animate,1
 dc.w standinganimation+south ; stand south
 dc.b racetrackmessage,emphasis
 dc.w rtmess+240 ; "You rang sir?", said Jarvis.
 dc.w Wwaitforperiod,20
 dc.w WRtMessage,rtmess+241 ; Jarvis shrugged his shoulders.
 dc.w WRtGoto,JarvisInterruptible-list5
;
;-------------------------------------------------------------------------
; Jarvis INTITIAL RACETRACK - USED WHILE GUESTS ARRIVE
;-------------------------------------------------------------------------
;
JarvisInitial
 dc.b go,0,83,nullobject ; go hall (user should be here)
 dc.w Wwaitforperiod,30
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis
 dc.w rtmess+261 ; "If you'll excuse me," said Jarvis, "I've 
; got plenty of work to do."
;
; Jarvis returns at some point in this loop when he's answered the door 
; and/or finished showing someone to their room...
JarvisInterruptible
 dc.w WRtGosub,JarvisLanding-list5
JarvisInterruptible1
 dc.w WRtGosub,JarvisLibrary-list5
JarvisInterruptible2
 dc.b go,0,88,nullobject ; go games room
 dc.w WWaitforperiod,40
JarvisInterruptible3
 dc.b go,0,77,nullobject ; go dining room
 dc.w WWaitforperiod,20
 dc.w WRtMessage,rtmess+264 ; Jarvis polished the table.
 dc.w WrtGosub,polishDiningRoomTableRT-list5
 dc.w WRtGoto,JarvisInterruptible-list5
;
JarvisLanding
 dc.b go,0,84,nullobject ; go landing
 dc.w Occupation,16108 ; was dusting the bannister * Jarvis
 dc.w WWaitforperiod,20
 dc.w WRtMessage,rtmess+262 ; Jarvis polished the bannister.
 dc.w WRtGosub,polishLandingBannister-list5 
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
JarvisLibrary
 dc.b go,0,88,nullobject ; go library
 dc.w Occupation,16109 ; was cleaning the bookshelves * Jarvis
 dc.w WWaitforperiod,20
 dc.w WRtMessage,rtmess+263 ; Jarvis dusted the bookshelves.
 dc.w WRtGosub,dustLibraryBookshelves-list5 
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
;-------------------------------------------------------------------------
; Jarvis PREPARES DINNER TABLE UNTIL ALL GUESTS ARRIVE
;-------------------------------------------------------------------------
;
JarvisPrepareTable
 dc.w WRtGosub,JarvisSetsTableRT-list5
;
; Only really used for first murder, to make sure Jarvis is in 
; the dining room at the time Sue is killed
 dc.b conditional,0,readyformurder,nullobject
 dc.w WRtGoto,SkipLibraryPrep-list5
 dc.w WRtGosub,JarvisLibrary-list5
;
SkipLibraryPrep
 dc.b go,0,77,nullobject ; go dining room
 dc.b localmove,0,14,9 ; walk to front left of table
 dc.w WActorSingleMessage,rtmess+270 ; prepared the table for dinner
 dc.w WRTGosub,prepareDiningRoomTable-list5 
;
; Only really used for first murder, to make sure Jarvis is in 
; the dining room at the time Sue is killed
 dc.b conditional,0,readyformurder,nullobject
 dc.w WRtGoto,SkipLandingPrep-list5
 dc.w WRtGosub,JarvisLanding-list5
SkipLandingPrep
;
 dc.w WRtGoto,JarvisPrepareTable-list5
;
JarvisSetsTableRT ; Used in several murders... 
 dc.b go,0,77,nullobject ; go dining room
 dc.w WActorSingleMessage,rtmess+270 ; prepared the table for dinner
 dc.w WRtGoto,prepareDiningRoomTable-list5 
;
;-------------------------------------------------------------------------
; VARIOUS GUESTS EATING DINNER
;-------------------------------------------------------------------------
;
RobertEatsDinner
 dc.b waitforperson,0,Jarvis,nullobject
 dc.w Wwaitforperiod,50 ; allow Jarvis to serve dinner
 dc.w Occupation,16112 ; was eating his dinner * Male NPC
 dc.w WRtActorVaryMessage,rtmess+1680
; "Ate quietly"
; "Chewed loudly"
; "Wiped his mouth with a napkin"
; said, "Delicious"
; said, "Vera can certainly cook!"
 dc.w Wwaitforperiod,140-10
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
WilliamEatsDinner
 dc.b waitforperson,0,Jarvis,nullobject
 dc.w Wwaitforperiod,70 ; allow Jarvis to serve dinner
 dc.w Occupation,16112 ; was eating his dinner * Male NPC
 dc.w Wwaitforperiod,120-10
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
AnthonyEatsDinner
 dc.b waitforperson,0,Jarvis,nullobject
 dc.w Wwaitforperiod,90 ; allow Jarvis to serve dinner
 dc.w Occupation,16112 ; was eating his dinner * Male NPC
 dc.b animate,16
 dc.w eating
 dc.w WRtActorVaryMessage,rtmess+1680
 dc.w Wwaitforperiod,100
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
KathyEatsDinner
 dc.b waitforperson,0,Jarvis,nullobject
 dc.w Wwaitforperiod,110 ; allow Jarvis to serve dinner
 dc.w Occupation,16113 ; was eating her dinner * Female NPC
 dc.w WRtActorVaryMessage,rtmess+1680
 dc.w Wwaitforperiod,80-10
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
FionaEatsDinner
 dc.b waitforperson,0,Jarvis,nullobject
 dc.w Wwaitforperiod,130 ; allow Jarvis to serve dinner
 dc.w Occupation,16113 ; was eating her dinner * Female NPC
 dc.b animate,16
 dc.w eating
 dc.w WRtActorVaryMessage,rtmess+1680
 dc.w Wwaitforperiod,60
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
CliffordEatsDinner
 dc.b waitforperson,0,Jarvis,nullobject
 dc.w Wwaitforperiod,150 ; allow Jarvis to serve dinner
 dc.w Occupation,16112 ; was eating his dinner * Male NPC
 dc.b animate,16
 dc.w eating
 dc.w WRtActorVaryMessage,rtmess+1680
 dc.w Wwaitforperiod,40
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
SueEatsDinner
 dc.b waitforperson,0,Jarvis,nullobject
 dc.w Wwaitforperiod,170 ; allow Jarvis to serve dinner
 dc.w Occupation,16113 ; was eating her dinner * Female NPC
 dc.w WRtActorVaryMessage,rtmess+1680
 dc.w Wwaitforperiod,20
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
;
;-------------------------------------------------------------------------
; VARIOUS GUESTS GO TO DINNER & CHAT UNTIL ALL OTHER GUESTS HAVE ARRIVED
;-------------------------------------------------------------------------
;
RobertPreDinner
 dc.w WRtActorVaryMessage,rtmess+1300
; said, "Smells like dinner's ready"
; said, "I wonder if dinner's ready"
; said, "I think it's time for dinner"
; said, "Dinner should be ready by now"
; said, "I'm starving"
 dc.w WRtGosub,SitDiningRoomS1-list5
RPDLoop
 dc.w Occupation,16114 ; was waiting for dinner * Any NPC
; dc.b conditional,251,random,15
 dc.w WRtActorVaryMessage,rtmess+1310
; said, "It's nice to see the family again"
; said, "Is everyone ready for dinner?"
; chatted about business
; toyed with his knife and fork
; shouted, "Come on Vera, I'm starving"
 dc.b wait,0,nullobject,nullobject ; prevent hang-up (wait 1 turn)
 dc.b racetrackreturn,0,nullobject,nullobject
;---
WilliamPreDinner
 dc.w WRtActorVaryMessage,rtmess+1300
; said, "Smells like dinner's ready"
; said, "I wonder if dinner's ready"
; said, "I think it's time for dinner"
; said, "Dinner should be ready by now"
; said, "I'm starving"
 dc.w WRtGosub,SitDiningRoomS2-list5
WPDLoop
 dc.w Occupation,16114 ; was waiting for dinner * Any NPC
; dc.b conditional,251,random,15
 dc.w WRtActorVaryMessage,rtmess+1320
; said, "I'm ready for dinner"
; sniffed the air. "Dinner smells good," he said
; licked his lips hungrily
; talked about his practice at the surgery
; commented on the placemats
 dc.b wait,0,nullobject,nullobject ; prevent hang-up (wait 1 turn)
 dc.b racetrackreturn,0,nullobject,nullobject
;---
KathyPreDinner
 dc.w WRtActorVaryMessage,rtmess+1300
; said, "Smells like dinner's ready"
; said, "I wonder if dinner's ready"
; said, "I think it's time for dinner"
; said, "Dinner should be ready by now"
; said, "I'm starving"
 dc.w WRtGosub,SitDiningRoomS3-list5
KPDLoop
 dc.w Occupation,16114 ; was waiting for dinner * Any NPC
; dc.b conditional,251,random,15
 dc.w WRtActorVaryMessage,rtmess+1330
; said, "I'm famished"
; flirted with everyone at the table
; talked about the flowers in the garden
; straightened her place mat
; adjusted her napkin
 dc.b wait,0,nullobject,nullobject ; prevent hang-up (wait 1 turn)
 dc.b racetrackreturn,0,nullobject,nullobject
;---
AnthonyPreDinner
 dc.w WRtActorVaryMessage,rtmess+1300
; said, "Smells like dinner's ready"
; said, "I wonder if dinner's ready"
; said, "I think it's time for dinner"
; said, "Dinner should be ready by now"
; said, "I'm starving"
 dc.b go,0,83,nullobject ; go via hall (enter through N door!)
 dc.w WRtGosub,SitDiningRoomN1-list5
APDLoop
 dc.w Occupation,16114 ; was waiting for dinner * Any NPC
; dc.b conditional,251,random,15
 dc.w WRtActorVaryMessage,rtmess+1340
; grinned as his stomach rumbled
; talked about his sports car
; rubbed his stomach
; commented on the garden
; said, "I wonder what's for dinner,"
 dc.b wait,0,nullobject,nullobject ; prevent hang-up (wait 1 turn)
 dc.b racetrackreturn,0,nullobject,nullobject
;---
FionaPreDinner
 dc.w WRtActorVaryMessage,rtmess+1300
; said, "Smells like dinner's ready"
; said, "I wonder if dinner's ready"
; said, "I think it's time for dinner"
; said, "Dinner should be ready by now"
; said, "I'm starving"
 dc.b go,0,83,nullobject ; go via hall (enter through N door!)
 dc.w WRtGosub,SitDiningRoomN2-list5
FPDLoop
 dc.w Occupation,16114 ; was waiting for dinner * Any NPC
; dc.b conditional,251,random,15
 dc.w WRtActorVaryMessage,rtmess+1350
; talked about her horses
; said, "Something smells good"
; talked about the family business
; chatted about horse riding
; straightened her knife and fork
 dc.b wait,0,nullobject,nullobject ; prevent hang-up (wait 1 turn)
 dc.b racetrackreturn,0,nullobject,nullobject
;---
CliffordPreDinner
 dc.w WRtActorVaryMessage,rtmess+1300
; said, "Smells like dinner's ready"
; said, "I wonder if dinner's ready"
; said, "I think it's time for dinner"
; said, "Dinner should be ready by now"
; said, "I'm starving"
 dc.b go,0,83,nullobject ; go via hall (enter through N door!)
 dc.w WRtGosub,SitDiningRoomN3-list5
CPDLoop
 dc.w Occupation,16114 ; was waiting for dinner * Any NPC
; dc.b conditional,251,random,15
 dc.w WRtActorVaryMessage,rtmess+1360 ; Clifford idle chat
; said, "I could eat a horse,"
; attempted a few jokes
; cracked a joke and laughed loudly
; droned on about his journey to the Grange
; looked towards the kitchen
 dc.b wait,0,nullobject,nullobject ; prevent hang-up (wait 1 turn)
 dc.b racetrackreturn,0,nullobject,nullobject
;---
SuePreDinner
 dc.w WRtActorVaryMessage,rtmess+1300
; said, "Smells like dinner's ready"
; said, "I wonder if dinner's ready"
; said, "I think it's time for dinner"
; said, "Dinner should be ready by now"
; said, "I'm starving"
 dc.b go,0,83,nullobject ; go via hall (enter through N door!)
 dc.w WRtGosub,SitDiningRoomE-list5
 dc.b go,0,77,nullobject ; go to dining room
 dc.b iSIT,0,EWchair,nullobject
SPDLoop
 dc.w Occupation,16114 ; was waiting for dinner * Any NPC
; dc.b conditional,251,random,15
 dc.w WRtActorVaryMessage,rtmess+1370
; smiled politely
; said, "I'm so hungry"
; smiled at the guests
; waited quietly
; edged her chair in a little
 dc.b wait,0,nullobject,nullobject ; prevent hang-up (wait 1 turn)
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Sit routines used for each npc in the dining room
SitDiningRoomN1
 dc.b go,0,77,nullobject ; go to dining room
 dc.b localmove,0,7,7 ; rear left chair
 dc.b animate,3
 dc.w CrouchAndSit+south ; sit south
 dc.b animate,3
 dc.w SitAnimation+south ; sit south
 dc.b racetrackreturn,0,nullobject,nullobject
;
SitDiningRoomN3
 dc.b go,0,77,nullobject ; go to dining room
 dc.b iSIT,0,Schair,nullobject ; rear right chair
 dc.b racetrackreturn,0,nullobject,nullobject
;
SitDiningRoomN2
 dc.b go,0,77,nullobject ; go to dining room
 dc.b localmove,0,9,7 ; rear middle chair
 dc.b animate,3
 dc.w CrouchAndSit+south ; sit south
 dc.b animate,3
 dc.w SitAnimation+south ; sit south
 dc.b racetrackreturn,0,nullobject,nullobject
;
SitDiningRoomS1
 dc.b go,0,77,nullobject ; go to dining room
 dc.b localmove,0,7,9 ; walk to table
 dc.b animate,3
 dc.w CrouchAndSit+north ; sit north
 dc.b animate,3
 dc.w SitAnimation+north ; sit north
 dc.b racetrackreturn,0,nullobject,nullobject
;
SitDiningRoomS3
 dc.b go,0,77,nullobject ; go to dining room
 dc.b localmove,0,11,9 ; walk to table
 dc.b animate,3
 dc.w CrouchAndSit+north ; sit north
 dc.b animate,3
 dc.w SitAnimation+north ; sit north
 dc.b racetrackreturn,0,nullobject,nullobject
;
SitDiningRoomS2
 dc.b go,0,77,nullobject ; go to dining room
 dc.b localmove,0,9,9 ; walk to table
 dc.b animate,3
 dc.w CrouchAndSit+north ; sit north
 dc.b animate,3
 dc.w SitAnimation+north ; sit north
 dc.b racetrackreturn,0,nullobject,nullobject
;
SitDiningRoomE
 dc.b go,0,77,nullobject ; go to dining room
 dc.b iSIT,0,EWchair,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
;
;-------------------------------------------------------------------------
; Kathy+William, Anthony, Fiona/Clifford, Sue UNPACK IN THEIR ROOMS
;-------------------------------------------------------------------------
;
Kathyunpacks
 dc.w Occupation,16120 ; and William were unpacking * Kathy
 dc.w IntrusionOn,IntrusionKathyRoom-list5
 dc.b waitforpersontoleave,0,Jarvis,nullobject ; Jarvis gone?
 dc.b waitforperson,0,William,nullobject ; wait for William
 dc.b find,0,William,nullobject ; make sure William reaches us locally 
; so that he stops following
 dc.b find,0,bed,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,6,8 ; go bed
 dc.b animate,3
 dc.w CrouchAndSit+south ; sit
 dc.b animate,3
 dc.w SitAnimation+south ; sit south
 dc.b waitforpersontoleave,0,William,nullobject ; wait until William's gone
 dc.w WWaitforperiod,20
 dc.w WRtMessage,rtmess+300 ; "I thought he'd never leave," said Kathy 
; with a smile.
KathyPutsMakeUpOn
 dc.w Occupation,16121 ; was putting her make-up on * Kathy
 dc.b find,coarse,table,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,4,10 ;>>mike 8/9/89. 9 ; go to dresser
 dc.b animate,3
 dc.w reachleftAnimation+south ; reach south
 dc.w WRtMessage,rtmess+301 ; Kathy put on some make-up
 dc.w WWaitforperiod,20
 dc.b find,coarse,table,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,4,10 ;>>mike 8/9/89. 9 ; go to dresser
 dc.b animate,3
 dc.w reachrightAnimation+south ; reach south
 dc.w WRtMessage,rtmess+302 ; Kathy blew a kiss to the mirror
 dc.b find,coarse,table,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,4,10 ;>>mike 8/9/89. 9 ; go to dresser
 dc.b animate,3
 dc.w KissAnimation+south ; kiss south
 dc.w IntrusionOff,0
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
Williamunpacks
 dc.w IntrusionOn,IntrusionWilliamroom-list5
 dc.b waitforpersontoleave,0,Jarvis,nullobject ; Jarvis gone?
 dc.b find,coarse,table,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,6,6 ; go bed
 dc.w WRtMessage,rtmess+310 ; William began to unpack
 dc.b animate,3
 dc.w reachleftAnimation+south ; reach south
 dc.b open,0,wardrobe,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,12,5 ; go wardrobe
 dc.w WRtMessage,rtmess+311 ; William sorted through his wardrobe
 dc.b animate,3
 dc.w reachleftAnimation+north ; reach north
 dc.b find,0,Kathy,nullobject ; return to Kathy
 dc.b racetrackmessage,emphasis
 dc.w rtmess+312 ; William kissed Kathy
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,emphasis
 dc.w rtmess+313 ; "I'm going to have a wander around,"
; William announced
 dc.w WWaitforperiod,30
 dc.w WRtMessage,rtmess+314 ; "Oh, I think I'll just relax for a while," 
; replied Kathy
 dc.w IntrusionOff,0
 dc.b go,0,84,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
;---
Anthonyunpacks
 dc.w Occupation,16122 ; was unpacking * Any NPC
 dc.w IntrusionOn,IntrusionAnthonyRoom-list5
 dc.b waitforpersontoleave,0,Jarvis,nullobject ; Jarvis gone?
 dc.b find,coarse,bed,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,13,8 ; go bed
 dc.w WRtMessage,rtmess+320 ; Anthony began to unpack
 dc.b animate,3
 dc.w reachleftAnimation+south ; reach south
 dc.w Wwaitforperiod,20
 dc.b open,0,wardrobe,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,12,5 ; go wardrobe
 dc.w WRtMessage,rtmess+321 ; Anthony rummidged through his wardrobe
 dc.b find,0,wardrobe,nullobject
 dc.b animate,3
 dc.w reachrightAnimation+north ; reach north
 dc.b find,0,wardrobe,nullobject
 dc.b animate,3
 dc.w reachleftAnimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,emphasis
 dc.w rtmess+322 ; "Right," said Anthony, "I'm going for a 
; browse around"
 dc.w IntrusionOff,0
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
Fionaunpacks
 dc.w Occupation,16123 ; and Clifford were unpacking * Fiona
 dc.w IntrusionOn,IntrusionFionaRoom-list5
 dc.b waitforpersontoleave,0,Jarvis,nullobject ; Jarvis gone?
 dc.b open,0,wardrobe,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,12,6 ; go wardrobe
 dc.w WRtMessage,rtmess+330 ; Fiona dumped her belongings in the wardrobe 
; while Clifford sat sighing.
 dc.b animate,3
 dc.w reachleftAnimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,emphasis
 dc.w rtmess+331 ; "I'm off for a chat with daddy," said Fiona
 dc.w IntrusionOff,0
 dc.w Occupation,0
 dc.b go,0,71,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
;---
Cliffordunpacks
 dc.w IntrusionOn,IntrusionCliffordRoom-list5
 dc.b waitforpersontoleave,0,Jarvis,nullobject ; Jarvis gone?
 dc.b waitforperson,0,Fiona,nullobject ; wait for Fiona
 dc.b find,0,Fiona,nullobject ; make sure Fiona reaches us locally 
; so that she stops following
 dc.b find,0,bed,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,4,8 ; go bed
 dc.b animate,3
 dc.w CrouchAndSit+north ; sit
 dc.b animate,3
 dc.w SitAnimation+north ; sit north
 dc.b waitforpersontoleave,0,Fiona,nullobject ; wait until Fiona's gone
 dc.w WWaitforperiod,20
 dc.b racetrackmessage,emphasis
 dc.w rtmess+340 ; "I suppose I'd better unpack," said Clifford
; dc.b animate,3
; dc.w StandupAnimation+north ; stand up north
 dc.b open,0,wardrobe,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,11,6 ; go wardrobe
 dc.w WRtMessage,rtmess+341 ; Clifford hung his clothes in the wardrobe
 dc.b animate,14
 dc.w reachdownAnimation+north ; reach north
 dc.b animate,3
 dc.w reachleftAnimation+north ; reach north
 dc.b animate,14
 dc.w reachdownAnimation+north ; reach north
 dc.b animate,3
 dc.w reachrightAnimation+north ; reach north
 dc.b racetrackmessage,emphasis
 dc.w rtmess+342 ; "That should do," said Clifford
 dc.w IntrusionOff,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
Sueunpacks
 dc.w Occupation,16122 ; was unpacking * Any NPC
 dc.w IntrusionOn,IntrusionSueRoom-list5
 dc.b waitforpersontoleave,0,Jarvis,nullobject ; Jarvis gone?
 dc.b find,0,bed,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,4,9 ; go bed
 dc.w WRtMessage,rtmess+350 ; Sue sat uneasily on the bed
 dc.b animate,3
 dc.w CrouchAndSit+south ; sit
 dc.b animate,3
 dc.w SitAnimation+south ; sit south
 dc.w Wwaitforperiod,20
 dc.w WRtMessage,rtmess+351 ; "I hope everything goes well today," she
; sighed
 dc.w Wwaitforperiod,50
 dc.w WRtMessage,rtmess+352 ; "I think I'll go and see how things are
; getting on," said Sue
 dc.w IntrusionOff,0
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
;-------------------------------------------------------------------------
; Robert STAYS IN STUDY AND AWAITS VISITS FROM HIS FAMILY
;-------------------------------------------------------------------------
;
; while no guests are present, Robert will talk to user etc.
Robertinstudy1
 dc.b go,0,94,nullobject ; go bedroom
 dc.w Occupation,16124 ; was busily working * Sir Robert
 dc.w Wwaitforperiod,20
 dc.b iSIT,0,Nsofa,nullobject ; walk to sofa
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.w WActorSingleMessage,rtmess+360 ; shuffled through some papers
 dc.b animate,3
 dc.w readnewspaper+north ; read north
 dc.w Wwaitforperiod,75
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.w WActorSingleMessage,rtmess+361 ; studied some paperwork
 dc.b animate,3
 dc.w readnewspaper+north ; read n
 dc.w Wwaitforperiod,75
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.w WRtConversation,CRobertM2-list4 ; same as 2nd meeting conv.
 dc.b racetrackmessage,emphasis
 dc.w rtmess+362 ; "Well, Sam," said Robert, "How's 
; your work doing?"
 dc.w Wwaitforperiod,75
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.b racetrackmessage,anger
 dc.w rtmess+363 ; "Why not meet some of my family?",
; said Robert
 dc.w Wwaitforperiod,30
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.b racetrackmessage,emphasis
 dc.w rtmess+364 ; "I'm sure they'd be pleased to chat 
; with you", added Sir Robert
 dc.w Wwaitforperiod,30
 dc.w WRtConversation,0
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
Robertinstudy2
 dc.w Occupation,16125 ; was casually browsing around his room * Sir Robert
 dc.b find,coarse,window,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,15,7 ; walk to window
 dc.b animate,3
 dc.w ReachRightAnimation+east ; reach/face east
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.w WActorSingleMessage,rtmess+365 ; gazed out of the window
 dc.w Wwaitforperiod,75
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.b racetrackmessage,anger
 dc.w rtmess+366 ; "When is Jarvis going to mow 
; the lawns?", sighed Sir Robert
 dc.w Wwaitforperiod,75
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.b facenoun1,0,user,nullobject
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.b racetrackmessage,emphasis
 dc.w rtmess+367 ; "Everything okay with the security 
; systems, Sam?", asked Sir Robert
 dc.w Wwaitforperiod,75
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.b racetrackmessage,emphasis
 dc.w rtmess+368 ; "Why don't you check out the 
; grounds, Sam?", urged Sir Robert
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
Robertinstudy3
 dc.b go,0,95,nullobject ; go dressing room
 dc.w Occupation,16124 ; was busily working * Sir Robert
 dc.w Wwaitforperiod,20
 dc.b iSIT,0,Nsofa,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,12,7 ; walk to desk
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.w WActorSingleMessage,rtmess+369 ; searched for some papers
 dc.b animate,3
 dc.w readnewspaper+north ; read n
 dc.w Wwaitforperiod,75
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.w WActorSingleMessage,rtmess+370 ; said, "I really ought to change 
; my will"
 dc.b animate,3
 dc.w readnewspaper+north ; read n
 dc.w Wwaitforperiod,75
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Robert busy with guests?
 dc.w WActorSingleMessage,rtmess+371 ; scribled onto some paper
; my will"
 dc.b animate,3
 dc.w readnewspaper+north ; read n
 dc.w Wwaitforperiod,75
; dc.b animate,3
; dc.w StandUpAnimation+north ; stand up n
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
SuevisitsRobert
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15130 ;$ I wonder where my darling Bob is? Maybe he's still 
; in his room
SuevisitsRobert1
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w Occupation,16130 ; was talking to Sir Robert * Any NPC
 dc.b racetrackmessage,emphasis
 dc.w rtmess+400 ; "How are you, dear?", Sue asked Sir Robert
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+401 ; "Oh, so and so," replied Sir Robert
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+402 ; "I've been thinking about changing my will", 
; added Robert
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,emphasis
 dc.w rtmess+403 ; "I'll be glad to help," said Sue
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+404 ; Sir Robert gave Sue a warm smile
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+405 ; "Don't worry about the reunion," said Robert. 
; "My family aren't going to bite your head off"
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,emphasis
 dc.w rtmess+406 ; Sue smiled back at Sir Robert. "I'll see you 
; at dinner", she said
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
KathyvisitsRobert
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15131 ;$ Well, I guess I'd better pay daddy a visit
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w Occupation,16130 ; was talking to Sir Robert * Any NPC
 dc.b racetrackmessage,emphasis
 dc.w rtmess+410 ; "Hi, Robert," said Kathy
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+411 ; "Hello there Kathy", enthused Sir Robert
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+412 ; "How was the journey?", continued Sir Robert
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,emphasis
 dc.w rtmess+413 ; "Oh, long and tiring," sighed Kathy
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+414 ; Sir Robert smirked. "That's William's 
; driving for you," he laughed
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+415 ; Sir Robert chatted to Kathy about the 
; weather.
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,emphasis
 dc.w rtmess+416 ; Kathy muffled a yawn. "I must dash," she 
; said
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
AnthonyvisitsRobert
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15132 ;$ I'd better go and see old Bob. He must still be upset 
; about his wife being murdered and all
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w Occupation,16130 ; was talking to Sir Robert * Any NPC
 dc.b racetrackmessage,emphasis
 dc.w rtmess+420 ; "It feels good to be here again," said 
; Anthony
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+421 ; Sir Robert smiled at Anthony
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+422 ; "How's the sports car running?", asked 
; Sir Robert
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,emphasis
 dc.w rtmess+423 ; "Much better since I've had it tuned," 
; replied Anthony
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+424 ; "And the cash situation?", added Sir Robert
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+425 ; Anthony shrugged his shoulders
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+426 ; "I see," laughed Sir Robert
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,emphasis
 dc.w rtmess+427 ; "And I'll see you," laughed said Anthony. 
; "At dinner"
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
WilliamvisitsRobert
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15133 ;$ I wonder how Bob is? I hope he's getting over his wife's 
; death
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w Occupation,16130 ; was talking to Sir Robert * Any NPC
 dc.w WRtMessage,rtmess+430 ; "Hello there, William," said Sir Robert
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,emphasis
 dc.w rtmess+431 ; William smiled. "Nice to see you again, 
; father," he said
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+432 ; "Likewise," replied Sir Robert. "And how's 
 dc.w Wwaitforperiod,20
; that lovelly wife of yours"
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,emphasis
 dc.w rtmess+433 ; "Still the same old tease," sighed William
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+434 ; Sir Robert grinned
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,emphasis
 dc.w rtmess+435 ; "And Sue?", asked William
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+436 ; "Prettier than ever," replied Sir Robert. 
; "We're getting along fine"
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,anger
 dc.w rtmess+437 ; William frowned slightly. "Well, can't hang 
; around here all day," he said
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
FionavisitsRobert
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15134 ;$ I'd better find out how daddy's coping with the 
; business, what with all the pressure after his wife was killed
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w Occupation,16130 ; was talking to Sir Robert * Any NPC
 dc.b racetrackmessage,emphasis
 dc.w rtmess+440 ; "Well, father," began Fiona, "how's the 
; business going?"
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+441 ; "Good as always, Fiona," replied Sir Robert
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,anger
 dc.w rtmess+442 ; "Come on, father," frowned Fiona. "You've 
; been letting things go adrift"
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,anger
 dc.w rtmess+443 ; "Ever since you met that Sue woman," added 
; Fiona
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+444 ; Sir Robert frowned
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+445 ; "I'll speak to you later, young lady", 
; growled Sir Robert
 dc.w Wwaitforperiod,20
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+446 ; Fiona shook her head in irritation
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
CliffordvisitsRobert
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15135 ;$ I think I'll go and see how Robert's handling business. 
; I'll bet he's making a pigs ear of things, eh, what?
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w Occupation,16130 ; was talking to Sir Robert * Any NPC
 dc.b racetrackmessage,emphasis
 dc.w rtmess+450 ; "Good day, Sir Robert," said Clifford
 dc.w Wwaitforperiod,10
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+451 ; "Well if it isn't our Clifford," enthused 
; Sir Robert
 dc.w Wwaitforperiod,10
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+452 ; "And how was the ride over," asked Sir 
; Robert
 dc.w Wwaitforperiod,10
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,anger
 dc.w rtmess+453 ; "A snail would have arrived sooner," 
; protested Clifford
 dc.w Wwaitforperiod,10
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+454 ; "Traffic eh?", asked Sir Robert
 dc.w Wwaitforperiod,10
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,anger
 dc.w rtmess+455 ; "If you want to call it that," droned 
; Clifford
 dc.w Wwaitforperiod,10
 dc.b find,0,Robert,nullobject ; find Robert
 dc.w WRtMessage,rtmess+456 ; "Well, you're here now," concluded Sir 
; Robert
 dc.w Wwaitforperiod,10
 dc.b find,0,Robert,nullobject ; find Robert
 dc.b racetrackmessage,emphasis
 dc.w rtmess+457 ; "Er, yes," said Clifford as he wandered 
; off
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
;-------------------------------------------------------------------------
; Vera STAYS IN KITCHEN AND AWAITS GUESTS
;-------------------------------------------------------------------------
;
; while no guests are present, Vera will talk to user etc.
Verainkitchen
 dc.w Occupation,16135 ; was cooking the dinner * Vera
 dc.b find,0,stove,nullobject
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.w WActorSingleMessage,rtmess+500 ; turned the chicken on the spit
 dc.b find,0,stove,nullobject
 dc.b animate,14
 dc.w reachleftanimation+north ; reach up north
 dc.w Wwaitforperiod,20
 dc.b find,0,stove,nullobject
 dc.b animate,14
 dc.w reachleftanimation+north ; reach up north
 dc.w Wwaitforperiod,20
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.w WActorSingleMessage,rtmess+501 ; stirred a pan on the stove
 dc.b find,0,stove,nullobject
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b find,0,stove,nullobject
 dc.b animate,3
 dc.w reachrightanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b conditional,0,isroomemptyexceptuser,nullobject
 dc.b facenoun1,0,user,nullobject
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.b racetrackmessage,emphasis
 dc.w rtmess+502 ; "It's a nice day, Sam," said 
; Vera
 dc.b find,0,stove,nullobject
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b find,0,stove,nullobject
 dc.b animate,3
 dc.w reachrightanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
Verainkitchen1
 dc.w Occupation,16136 ; was making some soup * Vera
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.w WActorSingleMessage,rtmess+503 ; Vera sipped the soup
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b animate,3
 dc.w reachrightanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b conditional,0,isroomemptyexceptuser,nullobject
 dc.b facenoun1,0,user,nullobject
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.b racetrackmessage,emphasis
 dc.w rtmess+504 ; "Mmm, delicious," said Vera
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b animate,3
 dc.w reachrightanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b conditional,0,isroomemptyexceptuser,nullobject
 dc.b facenoun1,0,user,nullobject
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.b racetrackmessage,emphasis
 dc.w rtmess+505 ; "Thirsty work, this cooking," 
; said Vera
 dc.w Occupation,0 ; was cooking the dinner * Vera
 dc.b racetrackreturn,0,nullobject,nullobject
;
Verainkitchen2
 dc.b open,0,fridge,nullobject
 dc.w Occupation,16137 ; was having a sneaky swig of sherry * Vera
 dc.w Wwaitforperiod,20
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.w WActorSingleMessage,rtmess+506 ; took a bottle of sherry from the 
; fridge
 dc.b animate,3
 dc.w reachleftanimation+east ; reach east
 dc.w Wwaitforperiod,20
 dc.b animate,28
 dc.w pouranimation ; reach north
 dc.w Wwaitforperiod,20
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.w WActorSingleMessage,rtmess+507 ; descreetly swigged the sherry
 dc.b animate,3
 dc.w reachleftanimation+north ; reach up north
 dc.w Wwaitforperiod,20
 dc.b animate,28
 dc.w pouranimation ; reach up north
 dc.w Wwaitforperiod,20
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.w WActorSingleMessage,rtmess+508 ; put the bottle back
 dc.b animate,3
 dc.w reachleftanimation+east ; reach east
 dc.w Wwaitforperiod,20
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
Verainkitchen3
 dc.w Occupation,16138 ; was doing the washing up * Vera
 dc.b find,0,sink,nullobject
 dc.w Wwaitforperiod,20
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.w WActorSingleMessage,rtmess+509 ; filled the sink with water
 dc.b find,0,sink,nullobject
 dc.b animate,3
 dc.w reachrightanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b find,0,sink,nullobject
 dc.b animate,3
 dc.w reachrightanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.w WActorSingleMessage,rtmess+510 ; washed up some dishes
 dc.b find,0,sink,nullobject
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b find,0,sink,nullobject
 dc.b animate,3
 dc.w reachrightanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b conditional,0,isroomemptyexceptuser,nullobject
 dc.b facenoun1,0,user,nullobject
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.w WActorSingleMessage,rtmess+511 ; said, "My, that sherry is strong"
 dc.b find,0,sink,nullobject
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b find,0,sink,nullobject
 dc.b animate,3
 dc.w reachrightanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
Verainkitchen4
 dc.w Occupation,16138 ; was doing the washing up * Vera
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.w WActorSingleMessage,rtmess+512 ; finished washing up
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; is Vera busy with guests?
 dc.w WActorSingleMessage,rtmess+513 ; dried her hands
 dc.b animate,3
 dc.w reachrightanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b find,0,washer,nullobject ; go washer
 dc.w Occupation,16272 ; was prodding the washing * Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,washer,nullobject ; go washer
 dc.b animate,3
 dc.w VeraProdWashing
 dc.w Wwaitforperiod,20
 dc.b find,0,washer,nullobject ; go washer
 dc.b animate,3
 dc.w VeraProdWashing
 dc.w Wwaitforperiod,20
 dc.b find,0,washer,nullobject ; go washer
 dc.b animate,3
 dc.w VeraProdWashing
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; Vera goes to herb garden to collect parsley for cooking
VeraPicksWeed
 dc.b facenoun1,0,user,nullobject ; face Sam
 dc.b ActorSaidSingleMessage,emphasis
 dc.w 15000 ; Darn it! I've run out of parsley again
 dc.b go,0,82,nullobject ; go via scullery to avoid F/Ptr breaks
 dc.b go,0,40,nullobject ; go herb garden
VeraPicksWeed1
 dc.w Occupation,16139 ; was picking some herbs for dinner * Vera
 dc.b localmove,0,6,7 ; front left of herb garden
 dc.b facenoun1,0,user,nullobject ; face user
 dc.b RaceTrackMessage,emphasis
 dc.w 15001 ; Mmm, just smell those lovelly herbs
 dc.w Wwaitforperiod,10
 dc.b animate,14
 dc.w ReachDownAnimation+3 ; reach down, east
 dc.w WRtMessage,15002 ; Vera picked some herbs
 dc.b localmove,0,14,7 ; front right of herb garden
 dc.b facenoun1,0,user,nullobject ; face user
 dc.b RaceTrackMessage,emphasis
 dc.w 15003 ; I wish Jarvis wouldn't plant his mouldy old cabbages 
; in my herb garden
 dc.w Wwaitforperiod,10
 dc.b animate,14
 dc.w ReachDownAnimation+7 ; reach down, west
 dc.w WRtMessage,15004 ; "That should be enough," said Vera as she picked 
; some more herbs
 dc.b animate,14
 dc.w ReachDownAnimation+7 ; reach down, west
 dc.w Occupation,0
 dc.b go,0,82,nullobject ; go via scullery to avoid F/Ptr breaks
 dc.b go,0,77,nullobject ; return to the kitchen
 dc.b racetrackreturn,0,nullobject,nullobject
;---
SuevisitsVera
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15120 ;$ I'd better see Vera and make up for the argument we 
; had earlier
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w Occupation,16140 ; was arguing with Vera * Sue <E>
 dc.w WRtMessage,rtmess+520 ; "What do you want, Sue?" snapped Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,anger
 dc.w rtmess+521 ; "Just thought I'd pop in," said Sue 
; apologetically
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+522 ; "Can't you see I'm busy," replied Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,anger
 dc.w rtmess+523 ; "Sorry to bother you," sighed Sue
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
KathyvisitsVera
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15121 ;$ I think I'll pay Vera a visit. She's usually good 
; company
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w Occupation,16145 ; was chatting with Vera * Any NPC
 dc.b racetrackmessage,emphasis
 dc.w rtmess+530 ; "Hi, Vera", said Kathy. "What's cooking?"
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+531 ; "Today's dinner," replied Vera. "Like the 
; smell?"
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+532 ; "Smells delicious," complemented Kathy
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+533 ; "Why thank you," said Vera, "I just hope it 
; tastes as good"
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+534 ; "Oh, I'm sure it will," replied Kathy
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+535 ; "Well Vera, I'll leave you to it," added 
; Kathy
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
AnthonyvisitsVera
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15122 ;$ I wonder if Vera's cooking is up to scratch today
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w Occupation,16145 ; was chatting with Vera * Any NPC
 dc.b racetrackmessage,emphasis
 dc.w rtmess+540 ; "Nice smell of cooking," said Anthony
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+541 ; "Thank you, Anthony," replied Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+542 ; "You're looking good these days," added 
; Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+543 ; "Well, the sun-tan's from the Bahama's," 
; enthused Anthony
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+544 ; "Expensive, was it?", asked Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+545 ; "Just about spent-up," laughed Anthony
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+546 ; "That's my Anthony," sniggered Vera. "Money's 
; for spending, eh?"
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+547 ; "Certainly is," said Anthony
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+548 ; "I'll leave you to the cooking," said Anthony
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
WilliamvisitsVera
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15123 ;$ Hmm, I think I'll go and find out what's for dinner
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w Occupation,16145 ; was chatting with Vera * Any NPC
 dc.b racetrackmessage,emphasis
 dc.w rtmess+550 ; "What's for dinner?," asked William
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+551 ; "Wait and see," replied Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+552 ; "Certainly smells good," complemented 
; William
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+553 ; "Glad you think so," said Vera. "And 
; how are you today?"
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+554 ; "Top of the world," said William
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+555 ; "And your wife?" continued Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,anger
 dc.w rtmess+556 ; "Kathy's fine," sighed William
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+557 ; "Does that mean she's still flirting 
; with everything in trousers?", laughed Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+558 ; Willaim frowned and decided to leave
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
FionavisitsVera
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15124 ;$ Hmm, I can smell the dinner! I think I'll 
; have a sneaky look to see what's being cooked
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w Occupation,16145 ; was chatting with Vera * Any NPC
 dc.b racetrackmessage,emphasis
 dc.w rtmess+560 ; "Just thought I'd see what was cooking," 
; said Fiona
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+561 ; "Can't you wait until dinner," joked 
; Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+562 ; "Is it going to be good?", asked Fiona
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+563 ; "Have I ever failed you?", replied Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+564 ; "Never," reassured Fiona
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,anger
 dc.w rtmess+565 ; "I just hope there's no arguments at the 
; table," added Fiona. "You know what Kathy's like"
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+566 ; Vera shook her head. "It's about time 
; you two made up," she sighed
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,anger
 dc.w rtmess+567 ; "Some chance!", huffed Fiona
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
CliffordvisitsVera
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15125 ;$ I think I'll go and charm the socks off Vera
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w Occupation,16145 ; was chatting with Vera * Any NPC
 dc.b racetrackmessage,emphasis
 dc.w rtmess+570 ; "Good afternoon, Vera," said Clifford
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+571 ; "It certainly is," replied Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+572 ; "Your cooking smells lovelly," complemented 
; Clifford
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+573 ; "Flattery will get you nowhere," sighed 
; Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+574 ; "And how's your wife?", asked Vera
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+575 ; "Going strong," answered Clifford. "But I 
; wish she'd quit arguing with Kathy"
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WRtMessage,rtmess+576 ; "So do I," agreed Vera. "But my business 
; is just in the kitchen"
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.b racetrackmessage,emphasis
 dc.w rtmess+577 ; "And you're good at it," charmed Clifford
 dc.w Wwaitforperiod,20
 dc.b find,0,Vera,nullobject ; find Vera
 dc.w WActorSingleMessage,rtmess+578 ; smiled
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
;-------------------------------------------------------------------------
; VARIOUS ACTIVITIES AROUND THE HOUSE (used by various npcs)
;-------------------------------------------------------------------------
;
pmlibraryrt
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15140 ;$ I fancy a nice read. I wonder if there are any new 
; books in the library?
 dc.b go,0,88,nullobject ; go library
 dc.b conditional,0,toomanypeople,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.w WRtGosub,libraryrt1-list5
 dc.w WRtGoto,libraryrt1-list5
;
libraryRT
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15140
libraryRT1
 dc.b go,0,88,nullobject ; go library
 dc.w Occupation,16150 ; was browsing through some books * Any NPC
 dc.w Wwaitforperiod,20
 dc.b find,0,bookcase,nullobject ; walk to rear right bookcase
 dc.b animate,3
 dc.w reachleftanimation+north ; reach n
 dc.w WActorSingleMessage,rtmess+600 ; searched through the books
 dc.w Wwaitforperiod,30
 dc.b find,0,bookcase,nullobject ; walk to rear right bookcase
 dc.b animate,3
 dc.w reachrightanimation+north ; reach n
 dc.w WActorSingleMessage,rtmess+601 ; browsed through the book titles
 dc.w Wwaitforperiod,30
 dc.w WActorSingleMessage,rtmess+602 ; removed a book from the case
 dc.b find,0,bookcase,nullobject ; walk to rear right bookcase
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w WActorSingleMessage,rtmess+603 ; blew the dust off the book
; sit with nullobject finds nearest chair/sofa
 dc.b iSIT,0,nullobject,nullobject
 dc.w WRtGosub,Read3timesRT-list5 ; read 3 times in current dirn. 
 dc.w WActorSingleMessage,rtmess+605 ; said, "what a boring book"
 dc.w WRtGosub,Read1timesRT-list5 ; read 1 times in current dirn. 
 dc.b find,0,bookcase,nullobject ; walk to rear right bookcase
 dc.w WActorSingleMessage,rtmess+606 ; put back the book
 dc.b find,0,bookcase,nullobject ; walk to rear right bookcase
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w WActorSingleMessage,rtmess+607 ; searched through the books
 dc.w Wwaitforperiod,20
 dc.w WActorSingleMessage,rtmess+608 ; pulled out a book
 dc.b find,0,bookcase,nullobject ; walk to rear right bookcase
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w WActorSingleMessage,rtmess+609 ; said, "Hmm, this looks 
; interesting"
 dc.b iSIT,0,nullobject,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,4,6 ; move to chair
 dc.w Wwaitforperiod,50
 dc.w WActorSingleMessage,rtmess+610 ; began reading the book
 dc.w WRtGosub,Read3timesRT-list5 ; read 3 times in current dirn. 
 dc.w WActorSingleMessage,rtmess+611 ; read the book
 dc.w WRtGosub,Read2timesRT-list5 ; read 2 times in current dirn. 
 dc.w WActorSingleMessage,rtmess+612 ; folded over a page in the book
 dc.w WRtGosub,Read2timesRT-list5 ; read 2 times in current dirn. 
 dc.w WActorSingleMessage,rtmess+613 ; said, "I'll finish this later"
 dc.b find,0,bookcase,nullobject ; walk to rear right bookcase
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w WActorSingleMessage,rtmess+614 ; crammed the book into the case
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
leftgardenrt
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15141 ;$ I think I'll take a wander through the grounds
 dc.w WRtGosub,WatchFishRT-list5 ; Watch the fish  
;
 dc.w Occupation,16151 ; was relaxing in the garden * Any NPC
 dc.b go,0,44,nullobject ; go left side garden
 dc.w Wwaitforperiod,20
 dc.b localmove,0,5,7 ; walk to chair
 dc.b animate,3
 dc.w CrouchAndSit+south ; sit
 dc.b animate,3
 dc.w sitanimation+south ; sit south
 dc.w WActorSingleMessage,rtmess+623 ; sat back and relaxed
 dc.w Wwaitforperiod,75
 dc.w WActorSingleMessage,rtmess+624 ; yawned tiredly
 dc.w Wwaitforperiod,75
 dc.w WActorSingleMessage,rtmess+625 ; said, "I'd better get up before 
; I nod off"
; dc.b animate,3
; dc.w standupanimation+south ; stand up south
;
 dc.b go,0,46,nullobject ; go back left garden
 dc.w Wwaitforperiod,20
 dc.b localmove,0,3,9 ; walk to flowers
 dc.w WActorSingleMessage,rtmess+626 ; picked a flower
 dc.b animate,14
 dc.w reachdownanimation+west ; reach west
 dc.w Wwaitforperiod,20
 dc.w WActorSingleMessage,rtmess+627 ; sniffed the flower admirably
;
 dc.b go,0,48,nullobject ; go back of house
 dc.w Wwaitforperiod,20
 dc.b localmove,0,16,8 ; walk to gargoyle
 dc.w WActorSingleMessage,rtmess+628 ; pulled a face at the gargoyle
 dc.b animate,3
 dc.w kissanimation+north ; kiss north (can't see)
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;--- 
WatchFishRT 
 dc.b go,0,5,nullobject ; go water garden
 dc.w Occupation,16152 ; was admiring the fish in the stream * Any NPC
 dc.w Wwaitforperiod,20
 dc.b localmove,0,9,6 ; walk to bridge
 dc.w WActorSingleMessage,rtmess+620 ; stood on the bridge admiring 
; the fish
 dc.w Wwaitforperiod,30
 dc.w WActorSingleMessage,rtmess+621 ; picked up a few pebbles
 dc.b animate,14
 dc.w reachdownanimation+south ; reach south
 dc.w Wwaitforperiod,20
 dc.w WActorSingleMessage,rtmess+622 ; tossed a pebble into the water
 dc.b animate,3
 dc.w reachleftanimation+south ; reach south
 dc.w Wwaitforperiod,30
 dc.b animate,3
 dc.w reachleftanimation+south ; reach south
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
rightgardenviasculleryrt
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15142 ;$ I could certainly do with a breath of fresh air in 
; the garden
 dc.b go,0,82,nullobject ; scullery
 dc.b go,0,40,nullobject ; right side garden
 dc.w WRtGosub,rightgarden2-list5 ; do north part first
 dc.w WRtGosub,rightgarden1-list5 ; and then south part
 dc.b go,0,40,nullobject ; right side garden
 dc.b go,0,82,nullobject ; scullery
 dc.b racetrackreturn,0,nullobject,nullobject
;
rightgardenrt
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15142
 dc.w WRtGosub,rightgarden1-list5 ; do south part first 
 dc.w WRtGosub,rightgarden2-list5 ; and then north part
 dc.b racetrackreturn,0,nullobject,nullobject
;
rightgarden1
 dc.b go,0,43,nullobject ; go to lawn
 dc.w Occupation,16153 ; was strolling casually through the garden * 
; Any NPC
 dc.w Wwaitforperiod,20
 dc.b localmove,0,12,6 ; walk to sundial
 dc.w WActorSingleMessage,rtmess+630 ; checked the time on the sundial
 dc.b animate,3
 dc.w reachleftanimation+south ; reach south
;
 dc.b go,0,39,nullobject ; go front right garden
 dc.w Occupation,16151 ; was relaxing in the garden * Any NPC
 dc.w Wwaitforperiod,20
 dc.b localmove,0,14,7 ; walk to chair
 dc.w WActorSingleMessage,rtmess+631 ; said, "I could do with a rest"
 dc.b animate,3
 dc.w CrouchAndSit+south ; sit
 dc.b animate,3
 dc.w sitanimation+south ; sit south
 dc.w Wwaitforperiod,75
 dc.w WActorSingleMessage,rtmess+632 ; sat back admiring the garden
 dc.w Wwaitforperiod,75
 dc.w WActorSingleMessage,rtmess+633 ; said, "I wonder how the veg is 
; doing"
; dc.b animate,3
; dc.w standupanimation+south ; stand up south
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
rightgarden2
 dc.b go,0,40,nullobject ; go veg garden
 dc.w Occupation,16154 ; was sneakily eating the vegetables from the 
; kitchen garden * Any NPC
 dc.w Wwaitforperiod,20
 dc.b localmove,0,6,6 ; walk to peas
 dc.w WActorSingleMessage,rtmess+634 ; reached for a pea pod
 dc.b animate,3
 dc.w reachrightanimation+south ; reach south
 dc.w Wwaitforperiod,20
 dc.w WActorSingleMessage,rtmess+635 ; popped open a pea pod
 dc.w Wwaitforperiod,20
 dc.w WActorSingleMessage,rtmess+636 ; ate some peas
 dc.w Occupation,16153 ; was strolling casually through the garden * 
;
 dc.b go,0,42,nullobject ; go back right garden
 dc.w Wwaitforperiod,20
 dc.b find,coarse,beehive,nullobject ;; GMJ 25/9/89 ;; dc.b localmove,0,15,8 ; walk to beehive
 dc.w WActorSingleMessage,rtmess+637 ; peered briefly into the beehive
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
pmstudyrt
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15143 ;$ I think I'll go and relax in the study for a while
 dc.b go,0,81,nullobject
 dc.b conditional,0,toomanypeople,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.w WRtGosub,studyrt1-list5
 dc.b find,coarse,table,nullobject ; used to prevent repeated sitting
 dc.w WRtGoto,studyrt1-list5
;
studyrt
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15143
studyrt1
 dc.b go,0,81,nullobject ; go to study
 dc.w Wwaitforperiod,20
; sit with nullobject finds nearest chair/sofa
 dc.b iSIT,0,nullobject,nullobject
 dc.w Occupation,16160 ; was passing time by reading a newspaper * Any NPC
 dc.w WRtGosub,READN1timesRT-list5 ; read 1 times in current dirn. 
 dc.w WActorSingleMessage,rtmess+640 ; opened up a newspaper
 dc.w WRtGosub,READN2timesRT-list5 ; read 2 times in current dirn. 
 dc.w WActorSingleMessage,rtmess+641 ; read the newspaper
 dc.w WRtGosub,READN2timesRT-list5 ; read 2 times in current dirn. 
 dc.w WActorSingleMessage,rtmess+642 ; sighed and said, "The trains 
; are still on strike"
 dc.b animateCD,3
 dc.w readnewspaper ; read n
 dc.w Wwaitforperiod,75
 dc.w WActorSingleMessage,rtmess+643 ; browsed through the horoscopes 
; and laughed
 dc.w WRtGosub,READN2timesRT-list5 ; read 2 times in current dirn. 
 dc.w WActorSingleMessage,rtmess+644 ; put away the newspaper
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; taste various vintages etc. in the drawing room
pmdrawingrt
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15144 ;$ I fancy a quick sherry. I imagine there's a bottle 
; or two in the drawing room
 dc.b go,0,79,nullobject
 dc.b conditional,0,toomanypeople,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.w WRtGosub,drawingrt1-list5
 dc.w WRtGoto,drawingrt1-list5
;
DrawingRT
 dc.b actorsaidsinglemessage,emphasis
 dc.w 15144
DrawingRT1
 dc.b go,0,79,nullobject ; go to drawing room
 dc.w Occupation,16161 ; was drinking sherry * Any NPC
 dc.w Wwaitforperiod,20
 dc.b find,0,table,nullobject
 dc.w WActorSingleMessage,rtmess+651 ; searched through some bottles
 dc.b find,0,table,nullobject
 dc.b animate,3
 dc.w reachleftanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.b find,0,table,nullobject
 dc.b animate,3
 dc.w reachrightanimation+north ; reach north
 dc.w Wwaitforperiod,20
 dc.w WActorSingleMessage,rtmess+652 ; poured a glass of sherry
 dc.b find,0,table,nullobject
 dc.b animate,28
 dc.w PourAnimation
 dc.w Wwaitforperiod,20
 dc.b iSIT,0,nullobject,nullobject
 dc.b animateCD,8
 dc.w SitDrinkAni
 dc.w Wwaitforperiod,50
 dc.w WActorSingleMessage,rtmess+655 ; sipped the sherry
 dc.b animateCD,8
 dc.w SitDrinkAni
 dc.w Wwaitforperiod,200
 dc.w WActorSingleMessage,rtmess+655 ; sipped the sherry
 dc.w Wwaitforperiod,50
 dc.b animateCD,8
 dc.w SitDrinkAni
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; upstairs loo
toiletrt
 dc.w WActorSingleMessage,rtmess+660 ; said "Excuse me, but nature calls"
gotoilet
 dc.b go,0,63,nullobject
 dc.w Occupation,16162 ; was annoyed at Sam for barging into the 
; bathroom * Any NPC
 dc.b facenoun1,0,toilet,nullobject
 dc.b conditional,0,user,nullobject ; user on toilet?
 dc.w WRtGoto,somebodyontoilet-list5
 dc.b conditional,0,isroomempty,nullobject ; any guests on toilet?
; toilet is vacant
 dc.w WRtGoto,HaveACrapOrWhatever1-list5
;
somebodyontoilet
 dc.w Occupation,0
 dc.w WActorSingleMessage,rtmess+661 ; said "Oh, do excuse me!"
 dc.b go,0,71,nullobject ; go outside toilet
 dc.w WRtMessage,rtmess+662 ; "Where are your manners?", came an angry voice 
; from the bathroom
 dc.w WRtGoto,gotoilet1-list5 ; try downstairs loo
;---
; downstairs loo
toiletrt1
 dc.w WActorSingleMessage,rtmess+660 ; said "Excuse me, but nature calls"
gotoilet1
 dc.b go,0,65,nullobject
 dc.w Occupation,16162 ; was annoyed at Sam for barging into the 
; bathroom * Any NPC
 dc.b facenoun1,0,toilet,nullobject
 dc.b conditional,0,user,nullobject ; user on toilet?
 dc.w WRtGoto,somebodyontoilet1-list5
 dc.b conditional,0,isroomempty,nullobject ; any guests on toilet?
 dc.w WRtGoto,haveacraporwhatever1-list5
 dc.w WRtGoto,somebodyontoilet1-list5
;
; toilet is vacant
HaveACrapOrWhatever1
 dc.b isit,0,toilet,nullobject
;
; Complain if user enters
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,PlayerWatchesActorShitting-list5
 dc.w WWaitForPeriod,50
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,PlayerWatchesActorShitting-list5
 dc.w WWaitForPeriod,50
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,PlayerWatchesActorShitting-list5
 dc.w WWaitForPeriod,50
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,PlayerWatchesActorShitting-list5
 dc.w WWaitForPeriod,50
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,PlayerWatchesActorShitting-list5
; dc.b animate,3
; dc.w StandupAnimation+west ; stand up east
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
; player walks in while actor is having a crap!
PlayerWatchesActorShitting
; INTERCEPT THIS MESSAGE TO MAKE PLAYER LOSE POINTS
 dc.w WRtActorVaryMessage,rtmess+670 ; shouted, "Hey! Do you mind?"
; yelled, "Get out!"
; shrieked, "Don't you have any manners?"
; shouted, "Why don't you try knocking!"
; cursed, "Get out! I'm busy!"
 dc.w WWaitForPeriod,20
 dc.w WRtMessage,rtmess+680 ; "Oops, Sorry!", apologised Sam
 dc.b racetrackreturn,0,nullobject,nullobject
;
somebodyontoilet1
 dc.w WActorSingleMessage,rtmess+661 ; said "Oh, do excuse me!"
 dc.b go,0,83,nullobject ; go outside toilet
 dc.b racetrackmessage,anger
 dc.w rtmess+662 ; "Where are your manners?", came an angry voice 
; from the bathroom
 dc.w Occupation,0
 dc.w WRtGoto,gotoilet-list5 ; try upstairs loo
; 
; --------------------------------------------------------------- 
; 
polishDiningRoomTableRT
 dc.w Occupation,16170 ; was polishing the table * Jarvis
 dc.b localmove,0,6,9
 dc.b animate,3
 dc.w ReachleftAnimation+south ; reach south
 dc.b localmove,0,8,9
 dc.b animate,3
 dc.w ReachrightAnimation+south ; reach south
 dc.b localmove,0,10,9
 dc.b animate,3
 dc.w ReachleftAnimation+south ; reach south
 dc.w WWaitforperiod,20
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
; 
polishLandingBannister
 dc.w Occupation,16108 ; was dusting the bannister * Jarvis
 dc.b localmove,0,6,7
 dc.b animate,3
 dc.w ReachleftAnimation+north ; reach north
 dc.b localmove,0,8,7
 dc.b animate,3
 dc.w ReachrightAnimation+north ; reach north
 dc.b localmove,0,10,7
 dc.b animate,3
 dc.w ReachleftAnimation+north ; reach north
 dc.w WWaitforperiod,20
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
; 
dustLibraryBookshelves
 dc.w Occupation,16109 ; was cleaning the bookshelves * Jarvis
 dc.b LocalMove,0,6,5 ; move to bookcase
 dc.b animate,3
 dc.w reachrightanimation+north ; reach north
 dc.b localmove,0,5,5
 dc.b animate,3
 dc.w ReachleftAnimation+north ; reach north
 dc.b localmove,0,4,5
 dc.b animate,3
 dc.w ReachrightAnimation+north ; reach north
 dc.w WWaitforperiod,20
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
; 
prepareDiningRoomTable
 dc.w Occupation,16111 ; was setting the table * Jarvis
 dc.b localmove,0,7,7 ; walk to front left of table
 dc.b animate,3
 dc.w ReachleftAnimation+south
 dc.b localmove,0,9,7 ; walk right 1 cell
 dc.b animate,3
 dc.w ReachleftAnimation+south
 dc.b localmove,0,11,7 ; walk right 1 cell
 dc.b animate,3
 dc.w ReachleftAnimation+south
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
;-------------------------------------------------------------------------
; VARIOUS ACTIVITIES AFTER THE MURDER
;-------------------------------------------------------------------------
;
; Jarvis phone's the police
JarvisGetPolice
 dc.w Occupation,16036 ; had decided to 'phone the police * Jarvis
 dc.b go,0,86,nullobject ; go to hall
 dc.b iDial,0,telephone,nullobject ; pick up receiver
 dc.w Wwaitforperiod,20
 dc.w WRtMessage,rtmess+3050 ; "Hello," said Jarvis, "We have an 
; emergency..."
 dc.w Wwaitforperiod,30
 dc.w WRtMessage,rtmess+3051 ; "Grange Manor," said Jarvis into the 
; phone
 dc.w Wwaitforperiod,30
 dc.w WRtMessage,rtmess+3052 ; "Thank you," said Jarvis as he replaced 
; the receiver
 dc.b animate,3
 dc.w DropPhone
 dc.b telegoto,inspector
 dc.w IA1-list5
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
InspectorArrives
 dc.w WRtGoto,WaitForeverRt-list5
;
IA1
; don't arrive until Sam knows about the murder
 dc.b conditional,0,Samknowsaboutmurder,nullobject
 dc.w WRtGoto,IA2-list5
 dc.b wait,0,nullobject,nullobject
 dc.w WRtGoto,IA1-list5
;
IA2
 dc.b RevealMurder,0,nullobject,nullobject
 dc.b find,roomonly,user,nullobject ; find player
 dc.w WRtConversation,CInspectorInrtoduction-list4
 dc.b racetrackmessage,emphasis+portrait
 dc.w rtmess+3060 ; "Hello, I'm Inspector Gormley", said 
; the Inspector.
 dc.w Wwaitforperiod,30
 dc.b facenoun1,0,user,nullobject ; face player
 dc.b racetrackmessage,emphasis+portrait
 dc.w rtmess+3065 ; "You must be Sam, the security bloke", added 
; the Inspector, "I seem to remember Bob telling me" ; $
 dc.w Wwaitforperiod,30
 dc.b facenoun1,0,user,nullobject ; face player
 dc.b racetrackmessage,emphasis+portrait
 dc.w rtmess+3061 ; "Well, the city police should be here soon, 
; but I'll keep an eye on things until then", said the Inspector
 dc.w WRtConversation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; Visit Robert
InspectorVisitRobert
 dc.b find,roomonly,Robert,nullobject
 dc.w Occupation,16180 ; was arranging a meeting with Sir Robert * Insp.

; trigger Robert's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10000+Robert ; 
 dc.b TeleGosub,Robert+resume
 dc.w FollowInspector-list5
 dc.w Occupation,0
 dc.b go,0,94,nullobject ; go bob's room
 dc.w Occupation,16181 ; was waiting for Sir Robert
 dc.b iSIT,0,nullobject,nullobject ; sit on a vacant chair
 dc.b waitforperson,0,Robert,nullobject
 dc.w Occupation,16182 ; was questioning Sir Robert
 dc.w Wwaitforperiod,20

 dc.b racetrackmessage,1
 dc.w rtmess+4000 ; "What can I do for you, Inspector" said Sir Robert
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,1
 dc.w rtmess+4001 ; The Inspector chatted with Robert and scribbled 
; into his notebook
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.w Wwaitforperiod,20
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,1
 dc.w rtmess+4002 ; "And what do you think," the Inspector asked Sam
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,1
 dc.w rtmess+4003 ; "Well, Robert" said the Inspector, "That will be 
; all"

; terminate Robert's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10050+Robert ; 

 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Visit Clifford
InspectorVisitClifford
 dc.b find,roomonly,Clifford,nullobject
 dc.w Occupation,16190 ; was arranging a meeting with Clifford * Insp.

; trigger Clifford's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10000+Clifford ; 
 dc.b TeleGosub,Clifford+resume
 dc.w FollowInspector-list5
 dc.b go,0,91,nullobject ; go clifford's room
 dc.w Occupation,16191 ; was waiting for Clifford * Insp.
 dc.b iSIT,0,nullobject,nullobject ; sit on a vacant chair
 dc.b waitforperson,0,Clifford,nullobject
 dc.w Occupation,16192 ; was questioning Clifford * Insp.
 dc.w Wwaitforperiod,40

 dc.b racetrackmessage,1
 dc.w rtmess+4010 ; "Hello, Inspector" said Clifford
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.w Wwaitforperiod,40
 dc.b racetrackmessage,1
 dc.w rtmess+4011 ; "Just a few questions," said the Inspector
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.b animateCD,3
 dc.w readanimation ; read n

; terminate Clifford's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10050+Clifford ; 

 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Visit Fiona
InspectorVisitFiona
 dc.b find,roomonly,Fiona,nullobject
 dc.w Occupation,16200 ; was arranging a meeting with Fiona * Insp.

; trigger Fiona's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10000+Fiona ; 
 dc.b TeleGosub,Fiona+resume
 dc.w FollowInspector-list5
 dc.b go,0,91,nullobject ; go fiona's room
 dc.w Occupation,16201 ; was waiting for Fiona * Insp.
 dc.b iSIT,0,nullobject,nullobject ; sit on a vacant chair
 dc.b waitforperson,0,Fiona,nullobject
 dc.w Occupation,16202 ; was questioning Fiona * Insp.
 dc.w Wwaitforperiod,20

 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b racetrackmessage,1
 dc.w rtmess+4012 ; The Inspector questioned Fiona about the murder
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.w Wwaitforperiod,20
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,1
 dc.w rtmess+4013 ; "Hmm," said the Inspector
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out

; terminate Fiona's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10050+Fiona ; 

 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Visit William
InspectorVisitWilliam
 dc.b find,roomonly,William,nullobject
 dc.w Occupation,16210 ; was arranging a meeting with William * Insp.

; trigger William's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10000+William ; 
 dc.b TeleGosub,William+resume
 dc.w FollowInspector-list5
 dc.b go,0,93,nullobject ; go William's room
 dc.w Occupation,16211 ; was waiting for William * Insp.
 dc.b iSIT,0,nullobject,nullobject ; sit on a vacant chair
 dc.b waitforperson,0,William,nullobject
 dc.w Occupation,16212 ; was questioning William * Insp.
 dc.w Wwaitforperiod,20

 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b racetrackmessage,1
 dc.w rtmess+4020 ; "Good evening, Inspector" said William
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,1
 dc.w rtmess+4022 ; "And what have you got to say?", the Inspector 
; asked William
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,1
 dc.w rtmess+4023 ; "Very good, Sir," muttered the Inspector

; terminate William's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10050+William ; 

 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Visit Kathy
InspectorVisitKathy
 dc.b find,roomonly,Kathy,nullobject
 dc.w Occupation,16220 ; was arranging a meeting with Kathy * Insp.

; trigger Kathy's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10000+Kathy ; 
 dc.b TeleGosub,Kathy+resume
 dc.w FollowInspector-list5
 dc.b go,0,93,nullobject ; go Kathy's room
 dc.w Occupation,16221 ; was waiting for Kathy * Insp.
 dc.b iSIT,0,nullobject,nullobject ; sit on a vacant chair
 dc.b waitforperson,0,Kathy,nullobject
 dc.w Occupation,16222 ; was questioning Kathy * Insp.
 dc.w Wwaitforperiod,40

 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b racetrackmessage,1
 dc.w rtmess+4021 ; The Inspector put a few questions to Kathy
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.w Wwaitforperiod,40
 dc.b animateCD,3
 dc.w readanimation ; read n

; terminate Kathy's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10050+Kathy ; 

 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Visit Jarvis
InspectorVisitJarvis
 dc.b find,roomonly,Jarvis,nullobject
 dc.w Occupation,16230 ; was arranging a meeting with Jarvis * Insp.

; trigger Jarvis's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10000+Jarvis ; 
 dc.b TeleGosub,Jarvis+resume
 dc.w FollowInspector-list5
 dc.b go,0,85,nullobject ; go games room
 dc.w Occupation,16231 ; was waiting for Jarvis * Insp.
 dc.b iSIT,0,nullobject,nullobject ; sit on a vacant chair
 dc.b waitforperson,0,Jarvis,nullobject
 dc.w Occupation,16232 ; was questioning Jarvis * Insp.
 dc.w Wwaitforperiod,20

 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b racetrackmessage,1
 dc.w rtmess+4030 ; "Ah, Inspector," stammered Jarvis
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,1
 dc.w rtmess+4031 ; "Just a few little questions, Jarvis", said the 
; Inspector
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,1
 dc.w rtmess+4032 ; "I'm not very good at questions," excused Jarvis
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,1
 dc.w rtmess+4033 ; The Inspector talked quietly with Jarvis
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out

; terminate Jarvis's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10050+Jarvis ; 

 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Visit Vera
InspectorVisitVera
 dc.b find,roomonly,Vera,nullobject
 dc.w Occupation,16240 ; was arranging a meeting with Vera * Insp.

; trigger Vera's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10000+Vera ; 
 dc.b TeleGosub,Vera+resume
 dc.w FollowInspector-list5
 dc.b go,0,85,nullobject ; go games room
 dc.w Occupation,16241 ; was waiting for Vera * Insp.
 dc.b iSIT,0,nullobject,nullobject ; sit on a vacant chair
 dc.b waitforperson,0,Vera,nullobject
 dc.w Occupation,16242 ; was questioning Vera * Insp.
 dc.w Wwaitforperiod,20

 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b racetrackmessage,1
 dc.w rtmess+4040 ; "Er, hello, Inspector" said Vera
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.w Wwaitforperiod,20
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b racetrackmessage,1
 dc.w rtmess+4041 ; "Isn't it terrible", said Vera while the Inspector 
; jotted into his notebook
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.w Wwaitforperiod,20
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,1
 dc.w rtmess+4042 ; The Inspector asked Vera a few questions quietly
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.w Wwaitforperiod,20
 dc.b racetrackmessage,1
 dc.w rtmess+4043 ; "Well," said the Inspector, "I must circulate"

; terminate Vera's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10050+Vera ; 

 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Visit Anthony
InspectorVisitAnthony
 dc.b find,roomonly,Anthony,nullobject
 dc.w Occupation,16250 ; was arranging a meeting with Anthony * Insp.

; trigger Anthony's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10000+Anthony ; 
 dc.b TeleGosub,Anthony+resume
 dc.w FollowInspector-list5
 dc.b go,0,97,nullobject ; go Anthony's room
 dc.w Occupation,16251 ; was waiting for Anthony * Insp.
 dc.b iSIT,0,nullobject,nullobject ; sit on a vacant chair
 dc.b waitforperson,0,Anthony,nullobject
 dc.w Occupation,16252 ; was questioning Anthony * Insp.
 dc.w Wwaitforperiod,20

 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b racetrackmessage,1
 dc.w rtmess+4050 ; "There you are, Anthony" remarked the Inspector
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.w Wwaitforperiod,20
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b racetrackmessage,1
 dc.w rtmess+4051 ; "'Just fancied a wander", said Anthony
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.w Wwaitforperiod,20
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b racetrackmessage,1
 dc.w rtmess+4052 ; "Is that so?", smirked the Inspector, taking 
; notes
 dc.b conditional,0,user,nullobject
 dc.w WRtGosub,throwSamout-list5 ; throw Sam out
 dc.w Wwaitforperiod,20
 dc.b animateCD,3
 dc.w readanimation ; read n
 dc.b racetrackmessage,1
 dc.w rtmess+4053 ; The Inspector questioned Anthony and stroked 
; his chin

; terminate Anthony's questioning rt...
 dc.b racetrackmessage,1
 dc.w 10050+Anthony ; 

 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Finally, visit Sam
InspectorVisitSam
 dc.b find,roomonly,user,nullobject
 dc.w WRtConversation,CInspectorSuspectsSam-list4
 dc.b racetrackmessage,1+portrait
 dc.w rtmess+4062 ; "Hmm," began the Inspector. "I'm sure I've seen 
; you somewhere before, Sam" ; $
 dc.w Wwaitforperiod,20
 dc.b facenoun1,0,user,nullobject ; face player
 dc.b racetrackmessage,1
 dc.w rtmess+4063 ; "You're certainly a suspicious looking 
; fellow, if you excuse my bluntness", added the Inspector ;$
 dc.w Wwaitforperiod,20
 dc.b facenoun1,0,user,nullobject ; face player
 dc.b racetrackmessage,1
 dc.w rtmess+4061 ; "I just hope you can convince me that you're 
; clean," he grunted ;$
 dc.w WRtConversation,0
 dc.b racetrackreturn,0,nullobject,nullobject
;
InspectorEnd
 dc.w WRtGoto,InspectorStandardLoopRT-list5 
;---
; Inspector throws Sam out
throwSamout
 dc.b facenoun1,0,user,nullobject ; face player
 dc.b racetrackmessage,anger
; this message is intercepted to physically throw Sam out of the 
; room
 dc.w rtmess+4070 ; "Excuse me, Sam," began the Inspector, "But I'd 
; prefer it if you left us in private" ;$
 dc.w Wwaitforperiod,20
 dc.b facenoun1,0,user,nullobject ; face player
 dc.b animateCD,3
 dc.w reachleftanimation ; reach out
 dc.b animateCD,3
 dc.w reachrightanimation ; reach out
 dc.w Wwaitforperiod,30
 dc.b facenoun1,0,user,nullobject ; face player
 dc.b racetrackmessage,anger+portrait
 dc.w rtmess+4071 ; "I won't tell you again, Sam!", growled the Inspector
 dc.w Wwaitforperiod,20
 dc.b iSIT,0,nullobject,nullobject ; sit down again
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; npc is triggered by 10000+npc to follow Inspector and await questioning
; (uses a TELEPATHIC GOSUB)
FollowInspector
 dc.b conditional,0,Inspectorquestioning,nullobject ; still questioning?
 dc.w WRTgoto,Inspectorquestions-list5 ; yes
 dc.b racetrackreturn,0,nullobject,nullobject
Inspectorquestions
 dc.b find,0,Inspector,nullobject
 dc.b wait,0,nullobject,nullobject ; prevent hang-up (wait 1 turn)
 dc.w WRtGoto,FollowInspector-list5
;---
; Inspector analyses an object
InspectorAnalyse
 dc.b go,0,3,nullobject ; go to car (leave the game briefly)
 dc.w Wwaitforperiod,20
 dc.b find,roomonly,user,nullobject
; message intercepted for code to handle the analyse message
 dc.b racetrackmessage,emphasis+portrait
 dc.w rtmess+4101 ; "Well then, Sam", began the Inspector
 dc.b racetrackreturn,0,nullobject,nullobject
;---
; Guests lounge around after the murder, and are obedient to 
; commands given by the player
PMRacetrack181
 dc.b go,0,81,nullobject ; go to study
 dc.w WRtGoto,PmRacetrack1-list5
PMRacetrack177
 dc.b go,0,77,nullobject ; go to dining room
 dc.w WRtGoto,PmRacetrack1-list5
PMRacetrack179
 dc.b go,0,79,nullobject ; go to drawing room
PMRacetrack1
 dc.b iSIT,0,nullobject,nullobject
PMRacetrack1Sitting
;
; Group message 3040 makes the corresponding npc obedient to FOLLOW 
; commands etc.
;
 dc.w WRtActorVaryMessage,rtmess+3040
; puffed a cigarette nervously
; took a sip of brandy
; said, "How unfortunate,"
; looked down solemnly
; speculated about the murder
;
PMRt1
 dc.b conditional,0,Inspector,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.b conditional,0,random,3
 dc.w WRtActorVaryMessage,rtmess+3040
 dc.b wait,0,nullobject,nullobject
; do various animations if not sitting
 dc.b conditional,0,actorsitting,nullobject
 dc.w WRtGoto,PMRtNotSmoking-list5
 dc.b conditional,2,random,3
 dc.b animate,15
 dc.w Smoking
 dc.b wait,0,nullobject,nullobject
 dc.b animate,3
 dc.w reachrightanimation+south ; reach south
 dc.b wait,0,nullobject,nullobject
 dc.b conditional,2,random,3
 dc.b facenoun1,0,user,nullobject ; face player
PMRtNotSmoking
 dc.b wait,0,nullobject,nullobject
 dc.w WRtGoto,PMRt1-list5
;
;-------------------------------------------------------------------------
; SPECIAL RACETRACKS TO BE USED WHEN THE PLAYER INTRUDES ON AN 
; NPC WHILE IN A PARTICULAR ROOM
;-------------------------------------------------------------------------
;
; Sue in her room
IntrusionSueRoom
 dc.b find,local,user,nullobject
 dc.b racetrackmessage,emphasis+portrait
 dc.w 10100 ; "Hello, Sam", said Sue, "Do you like the new wallpaper 
; in my room?"
 dc.b animateCD,3
 dc.w reachleftanimation ; reach out
 dc.b facenoun1,0,user,nullobject
 dc.b animateCD,3
 dc.w reachrightanimation ; reach out
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 10101 ; "I think it adds a bit of sparkle to the place", Sue 
; continued
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Vera in the kitchen
IntrusionVeraKitchen
 dc.b find,local,user,nullobject
 dc.b racetrackmessage,anger+portrait
 dc.w 10110 ; "I hope you haven't come in here to bother me, Sam", 
; snapped Vera
 dc.b animateCD,14
 dc.w reachleftanimation ; reach out
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 10111 ; "I've got a lot of work to do, and I don't want you 
; getting under my feet, Sam", continued Vera
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Vera picks some weed in the "herb" garden
IntrusionVeraPicksWeed
 dc.w WRtGosub,VeraPicksWeed-list5
 dc.w IntrusionOn,IntrusionVeraKitchen-list5 ; use standard Vera intrusion 
; next time
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Kathy in her room
IntrusionKathyRoom
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis+portrait
 dc.w 10120 ; nice of you to come and visit me
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; are we alone?
 dc.w WRtGoto,DoSexScene-list5
 dc.w WRtGosub,NoSexYet-list5
 dc.w IntrusionOn,IntrusionKathyRoom2-list5
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Kathy in her room #2
IntrusionKathyRoom2
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis+portrait
 dc.w 10122 ; "I'm so glad you came to see me, Sam," said Kathy
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; are we alone?
 dc.w WRtGoto,DoSexScene-list5
 dc.w WRtGosub,NoSexYet-list5
 dc.w IntrusionOn,IntrusionKathyRoom3-list5
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Kathy in her room #3
IntrusionKathyRoom3
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,anger+portrait
 dc.w 10150 ; "For goodness sake, Sam", snapped Kathy, "Stop hounding me, 
; you creep!"
 dc.b animateCD,3
 dc.w reachleftanimation ; reach out
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Sex with Kathy!
DoSexScene
 dc.w WRtMessage,10123 ; "Quick, behind here! Nobody's looking", invited 
; Kathy (Message also prevents anyone else entering)
 dc.b find,coarse,user,nullobject
 dc.b iGODOOR,0,84,nullobject ; go to door
 dc.w WRtMessage,10125 ; Null message to trigger lock door
 dc.b localmove,0,3,6 ; walk behind screen
 dc.b telegoto,user
 dc.w SamHidesBehindScreen-list5 ; make Sam join her
 dc.b waitforpersontoleave,0,user,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
;
SamHidesBehindScreen
 dc.b find,0,Kathy,nullobject ; walk behind screen
 dc.w WRtMessage,10124 ; Null message to trigger sex animation
 dc.b racetrackreturn,0,nullobject,nullobject
;
NoSexYet
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 10121 ; "But, Sam," whispered Kathy, "It would be better if you 
; went away and came back when I'm alone..."
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Anthony in his room
IntrusionAnthonyRoom
 dc.b find,local,user,nullobject
 dc.b racetrackmessage,anger+portrait
 dc.w 10160 ; "Fair go, old chap," said Anthony, "Can't a man have any 
; privacy in his own bedroom?"
 dc.b animateCD,3
 dc.w reachleftanimation ; reach out
 dc.b facenoun1,0,user,nullobject
 dc.b animateCD,3
 dc.w reachrightanimation ; reach out
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 10161 ; "You really are persistent, aren't you, Sam?", frowned 
; Anthony
 dc.b racetrackreturn,0,nullobject,nullobject
;
; William in his room
IntrusionWilliamRoom
 dc.b find,local,user,nullobject
 dc.b racetrackmessage,anger+portrait
 dc.w 10170 ; "Isn't the wallpaper in here disgusting!", protested
; William
 dc.b animate,3
 dc.w reachleftanimation+west ; reach west
 dc.b animate,3
 dc.w reachrightanimation+east ; reach east
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 10171 ; "I always hated green," William droned on
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Robert in his room
IntrusionRobertRoom
 dc.b find,local,user,nullobject
 dc.b racetrackmessage,emphasis+portrait
 dc.w 10180 ; "Well, Sam", began Sir Robert
 dc.b animateCD,3
 dc.w reachleftanimation ; reach up
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 10181 ; "I hope you're finding it pleasant working here,"
; continued Sir Robert
 dc.b facenoun1,0,user,nullobject
 dc.b animateCD,14
 dc.w reachleftanimation ; reach up
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,anger
 dc.w 10182 ; "And I'm sure you're too busy to hang around here all day", 
; snapped Sir Robert
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Fiona in her bedroom
IntrusionFionaRoom
 dc.b find,local,user,nullobject
 dc.b racetrackmessage,anger+portrait
 dc.w 10190 ; "What are you doing snooping around in my bedroom, Sam?" 
; sniffed Fiona
 dc.b animateCD,14
 dc.w reachleftanimation ; reach out
 dc.b facenoun1,0,user,nullobject
 dc.b animateCD,3
 dc.w reachrightanimation ; reach out
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 10191 ; "If you insist on staying here, then I'll choose to 
; ignore you!", snapped Fiona
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Clifford in his bedroom
IntrusionCliffordRoom
 dc.b find,local,user,nullobject
 dc.b racetrackmessage,emphasis+portrait
 dc.w 10200 ; "Oh, I do hope my wife hasn't been yelling at you too, 
; Sam", droned Clifford
 dc.b animateCD,14
 dc.w reachleftanimation ; reach out
 dc.b facenoun1,0,user,nullobject
 dc.b animateCD,3
 dc.w reachrightanimation ; reach out
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 10201 ; "Fiona's in one of her moods today," shrugged Clifford, 
; "You'd be better off keeping out of her way"
 dc.b racetrackreturn,0,nullobject,nullobject
;
; Jarvis in entrance hall
IntrusionJarvisRoom
 dc.b Rconditional,0,84,nullobject ; main hall?
 dc.w WRtGoto,IJR1-list5
 dc.b Rconditional,0,86,nullobject ; entrance hall?
 dc.w WRtGoto,IJR1-list5
 dc.b racetrackreturn,0,nullobject,nullobject
IJR1
 dc.b find,local,user,nullobject
 dc.b racetrackmessage,anger+portrait
 dc.w 10210 ; "The doorbell hasn't stopped ringing today," moaned 
; Jarvis
 dc.b animateCD,14
 dc.w reachleftanimation ; reach out
 dc.b facenoun1,0,user,nullobject
 dc.b animateCD,3
 dc.w reachrightanimation ; reach out
 dc.b facenoun1,0,user,nullobject
 dc.b racetrackmessage,emphasis
 dc.w 10211 ; "Between you and me," continued Jarvis, "I'm getting 
; pig-sick of all this running around!"
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; ----------------------------------------------------------------- 
;   STANDARD RACETRACKS FOR USE WHEN SPECIAL ONES RUN OUT...  
; -----------------------------------------------------------------
; 
RobertStandardLoopRT ; For ever 
 dc.w WRtGosub,RobertStandardRT-list5
 dc.w WRtGoto,RobertStandardLoopRT-list5
; 
RobertStandardRT     ; Just once 
 dc.w WRtGosub,RobertPatrolsGardenRT-list5 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
; 
WilliamStandardLoopRT ; For ever 
 dc.w WRtGosub,WilliamStandardRT-list5
 dc.w WRtGoto,WilliamStandardLoopRT-list5
; 
WilliamStandardRT     ; Just once 
 dc.w WRtGosub,ReadInLibraryRT-list5 ; read books in library  
 dc.w WRtGosub,WhisperToKathyRT-list5 ; whisper to Kathy 
 dc.w WRtGosub,SearchHouseRT-list5 ; search house 
 dc.w WRtGosub,WilliamMeetsKathyInGardenRT-list5 ; meet Kathy in Garden 
 dc.w WRtGosub,WhisperToFionaRT-list5 ; whisper to Fiona 
 dc.w WRtGosub,ReadInLibraryRT-list5 ; read books in library  
 dc.w WRtGosub,WilliamMeetsFionaInShedRT-list5 ; meet Fiona in Shed 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
; 
KathyStandardLoopRT ; For ever 
 dc.w WRtGosub,KathyStandardRT-list5
 dc.w WRtGoto,KathyStandardLoopRT-list5
; 
KathyStandardRT     ; Just once 
 dc.w WRTgosub,drawingRT-list5 ; for now, drink in drawing room 
 dc.b go,0,90,nullobject ; go blue bedroom 
 dc.b open,0,Wardrobe,nullobject 
 dc.w Wwaitforperiod,10
 dc.b animate,28
 dc.w PourAnimation
 dc.w Wwaitforperiod,10
 dc.b close,0,Wardrobe,nullobject 
 dc.b iSIT,0,nullobject,nullobject
 dc.w Wwaitforperiod,100
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
; 
AnthonyStandardLoopRT ; For ever 
 dc.w WRtGosub,AnthonyStandardRT-list5
 dc.w WRtGoto,AnthonyStandardLoopRT-list5
; 
AnthonyStandardRT     ; Just once 
 dc.w WRtGosub,pmstudyrt-list5
 dc.w WRtGosub,pmdrawingrt-list5
 dc.w WRtGosub,pmlibraryrt-list5
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
; 
FionaStandardLoopRT ; For ever 
 dc.b Conditional,0,ActorDead,Clifford 
 dc.w WRtGoto,wsCliffordDead-list5 
 dc.b ifollow,0,Clifford,nullobject ; follow Clifford 
 dc.b Conditional,0,ActorDead,Clifford 
 dc.w WRtGoto,wsCliffordDead-list5 
 dc.w WActorSingleMessage,11046 ; whispered to Clifford (11041-9) 
 dc.w WRTgosub,MoveMouthEmphasisRT-list5  
 dc.b TeleGosub,Clifford
 dc.w FaceFionaRT-list5 
 dc.w WRtGosub,ReadInLibraryRT-list5 ; read books in library  
fslLoop 
 dc.w WRTgosub,FionaAndCliffordMeetingRT-list5  
 dc.w WRtGoto,fslLoop-list5 
; 
wsCliffordDead 
 dc.w WRtGosub,ReadInLibraryRT-list5 ; read books in library  
 dc.w WRtGoto,wsCliffordDead-list5 
; 
; --- 
; 
CliffordStandardLoopRT ; For ever 
 dc.w WRtGosub,CliffordStandardRT-list5
 dc.w WRtGoto,CliffordStandardLoopRT-list5
; 
CliffordStandardRT     ; Just once 
 dc.b go,0,90,nullobject ; go blue bedroom 
 dc.b iSIT,0,nullobject,nullobject
 dc.w Wwaitforperiod,200
 dc.b find,coarse,window,nullobject ; walk to window 
 dc.w Wwaitforperiod,50
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
; 
JarvisStandardLoopRT ; For ever 
 dc.w WRtGosub,JarvisStandardRT-list5
 dc.w WRtGoto,JarvisStandardLoopRT-list5
; 
JarvisStandardRT     ; Just once 
 dc.w WRtGosub,DustHouseRT-list5
 dc.w WRtMessage,15100 ; switch on Jarvis' tray animation
 dc.w WRtGosub,JarvisOffersDrinksRT-list5
 dc.w WRtMessage,15101 ; switch off Jarvis' tray animation
 dc.w WRtGosub,LeftGardenRT-list5
 dc.w WRtGosub,WaterAllPlantsRT-list5
 dc.w WRtGosub,RightGardenRT-list5
 dc.w WRtGosub,JarvisReadsInKitchenRT-list5
 dc.w WRtGosub,JarvisReadsInKitchenRT-list5
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
; 
VeraStandardLoopRT ; For ever 
 dc.w WRtGosub,VeraStandardRT-list5
 dc.w WRtGoto,VeraStandardLoopRT-list5
; 
VeraStandardRT     ; Just once 
 dc.w WRtGosub,VeraInKitchen3-list5
 dc.w WRtGosub,VeraInKitchen4-list5 ; do washing up in kitchen
 dc.w WRtGosub,VeraGoesPantry-list5 ; inspect food in pantry
 dc.w WRtGosub,VeraGoesHerbGarden-list5 ; pick herbs in garden
 dc.w WRtGosub,VeraGoesArchway-list5 ; go archway
 dc.w WRtGosub,VeraDrinksInGatehouse-list5 ; drink tea in gatehouse
 dc.w WRtGosub,VeraGoesToilet-list5 ; go upstairs loo
 dc.w WRtGosub,VeraReadsInBedroom-list5 ; go upstairs loo
 dc.b racetrackreturn,0,nullobject,nullobject
; 
VeraGoesArchway
 dc.b go,0,45,nullobject ; go archway
 dc.b Examine,0,bin,nullobject ; examine dustbins
 dc.w WRtGosub,Reach3TimesRT-list5
 dc.b Examine,0,window,nullobject ; examine window
 dc.w WRtGosub,Reach3TimesRT-list5
 dc.b racetrackreturn,0,nullobject,nullobject
; 
VeraDrinksIngateHouse
JarvisDrinksIngateHouse
 dc.b go,0,50,nullobject ; go gatehouse kitchen
 dc.b find,0,stove,nullobject ; go to stove
 dc.b ActorSingleMessage,emphasis
 dc.w 15090 ; boiled the kettle
 dc.w WRtGosub,Reach3TimesRT-list5
 dc.w Wwaitforperiod,100
 dc.w WRtGosub,Reach3TimesRT-list5
 dc.w Wwaitforperiod,100
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.w WActorSingleMessage,15091 ; Vera sat drinking a cup of tea
 dc.b animateCD,8
 dc.w SitDrinkAni
 dc.w Wwaitforperiod,100
 dc.b racetrackreturn,0,nullobject,nullobject
; 
VeraGoesToilet
 dc.b go,0,84,nullobject ; go landing
 dc.w WrtGosub,Wait200orSam-list5
 dc.w WRtGoto,ToiletRt-list5 ; use standard toilet rt
; 
VeraReadsInBedroom
 dc.b go,0,53,nullobject ; go bedroom
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.w WRtGosub,READN12timesRT-list5 ; read 12 times in current dirn. 
 dc.w WRtGosub,READN12timesRT-list5 ; read 12 times in current dirn. 
 dc.w WRtGosub,READN12timesRT-list5 ; read 12 times in current dirn. 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
VeraGoesHerbGarden
 dc.b go,0,82,nullobject ; go via scullery to avoid F/P breaks
 dc.b go,0,40,nullobject ; go herb garden
 dc.w WrtGosub,Wait200orSam-list5
 dc.w WRtGoto,VeraPicksWeed1-list5 ; pick herbs in garden
;
VeraGoesPantry
 dc.b go,0,78,nullobject ; go pantry
 dc.w WrtGosub,Wait200orSam-list5
 dc.b Examine,0,shelves,nullobject ; examine shelves
 dc.w WRtGosub,Reach3TimesRT-list5
 dc.b Examine,0,sack,nullobject ; examine sack
 dc.w WRtGosub,Reach4TimesRT-list5
 dc.w WRtGosub,Reach4TimesRT-list5
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
; 
SueStandardLoopRT ; For ever 
 dc.w WRtGosub,SueStandardRT-list5 ; read books in library  
 dc.w WRtGoto,SueStandardLoopRT-list5
; 
SueStandardRT     ; Just once (read book in library)
 dc.w WRTgosub,ReadInLibraryRT-list5  
 dc.b find,coarse,window,nullobject ; walk to window 
 dc.w Wwaitforperiod,50
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
; 
InspectorStandardLoopRT ; For ever 
 dc.w WRtGosub,InspectorStandardRT-list5
 dc.w WRtGoto,InspectorStandardLoopRT-list5
; 
InspectorStandardRT     ; Just once 
 dc.w WRtGosub,SearchDownstairsRoomsRT-list5
 dc.w WRtGosub,toiletrt-list5
 dc.w WRtGosub,SearchUpstairsRoomsRT-list5
 dc.w WRtGosub,SearchLodgeRoomsRT-list5
 dc.w WRtGosub,libraryrt-list5
 dc.w WRtGosub,studyrt-list5
 dc.w WRtGosub,drawingrt-list5
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; ----------------------------------------------------------------- 
;   END OF STANDARD RACETRACKS (FOR WHEN SPECIAL ONES RUN OUT)...  
; -----------------------------------------------------------------
; 
; Sir Robert patrols the gardens with his gun, searching out signs 
; that outsiders have crept in and murdered someone. 
; 
RobertPatrolsGardenRT; 
 dc.b go,0,47,nullobject  ; go to Front of House 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,5,nullobject   ; go to Front Left Garden 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,44,nullobject  ; go to Left Side Garden 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,46,nullobject  ; go to Back Left Garden 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,48,nullobject  ; go to Back of House 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,42,nullobject  ; go to Back Right Garden 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,37,nullobject  ; go to Shed 
 dc.w WRTgosub,rpgGuardHouseLocnRT-list5 
 dc.b go,0,40,nullobject  ; go to Right Side Garden 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,78,nullobject  ; go to Scullery 
 dc.w WRTgosub,rpgGuardHouseLocnRT-list5 
 dc.b go,0,80,nullobject  ; go to Kitchen 
 dc.w WRTgosub,rpgGuardHouseLocnRT-list5 
 dc.b go,0,39,nullobject  ; go to Front Right Garden 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,43,nullobject  ; go to Lawn 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,36,nullobject  ; go to Lawn+Bushes 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,45,nullobject  ; go to Archway 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,50,nullobject  ; go to GatehouseKitchen 
 dc.w WRTgosub,rpgGuardHouseLocnRT-list5 
 dc.b go,0,29,nullobject  ; go to Driveway 
 dc.w WRTgosub,rpgGuardGardenLocnRT-list5 
 dc.b go,0,86,nullobject  ; go to Entrance Hall 
 dc.w WRTgosub,rpgGuardHouseLocnRT-list5 
 dc.b go,0,83,nullobject  ; go to Main Hall 
 dc.w WRTgosub,rpgGuardHouseLocnRT-list5 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
rpgGuardGardenLocnRT
 dc.b animate,1
 dc.w StandingAnimation+West  
 dc.w Wwaitforperiod,30    
 dc.b conditional,1,random,7
 dc.w WRTgosub,rpgNWrt-list5
 dc.b animate,1
 dc.w StandingAnimation+South 
 dc.w Wwaitforperiod,20    
 dc.b conditional,1,random,7
 dc.w WRTgosub,rpgSErt-list5
 dc.b animate,1
 dc.w StandingAnimation+North
 dc.w Wwaitforperiod,30    
 dc.b conditional,1,random,7
 dc.w WRTgosub,rpgNErt-list5
 dc.b animate,1
 dc.w StandingAnimation+East   
 dc.w Wwaitforperiod,20    
 dc.b conditional,1,random,7
 dc.w WRTgosub,rpgSWrt-list5
 dc.b racetrackreturn,0,nullobject,nullobject
; 
rpgGuardHouseLocnRT
 dc.b conditional,1,random,7
 dc.w WRtActorVaryMessage,11075
 dc.w Wwaitforperiod,20   
 dc.b racetrackreturn,0,nullobject,nullobject
; 
rpgNWrt 
 dc.b localmove,0,6,8
 dc.w WRtGoto,rpgAimGunRT-list5
rpgNErt 
 dc.b localmove,0,14,8 
 dc.w WRtGoto,rpgAimGunRT-list5
rpgSWrt 
 dc.b localmove,0,6,10 
 dc.w WRtGoto,rpgAimGunRT-list5
rpgSErt 
 dc.b localmove,0,14,10 
rpgAimGunRT
 dc.w WRTgosub,reach2timesRT-list5 
 dc.b conditional,1,random,7
 dc.w WRtActorVaryMessage,11070
 dc.b conditional,1,random,31 
 dc.b racetrackmessage,emphasis+SamAdjacent
 dc.w 11080 ; Sam heard a gunshot. 
 dc.w Wwaitforperiod,20   
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
;
; William whispers to Kathy to arrange a subsequent meeting... 
WhisperToKathyRT; whisper to Kathy 
 dc.b ActorSingleMessage,Emphasis 
 dc.w 11042                       ; whispered to Kathy 
 dc.b TeleGosub,Kathy 
 dc.w FaceWilliamRT-list5 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; William whispers to Fiona to arrange a subsequent meeting... 
WhisperToFionaRT ; whisper to Fiona 
 dc.b ActorSingleMessage,Emphasis 
 dc.w 11044                       ; whispered to Fiona 
 dc.b TeleGosub,Fiona 
 dc.w FaceWilliamRT-list5 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
;
; William meets Kathy in the Garden... 
WilliamMeetsKathyInGardenRT ; meet Kathy in Garden 
 dc.b TeleGosub,Kathy 
 dc.w MeetWilliamInGardenRT-list5 
 dc.b go,0,48,nullobject                 ; go to Back of House 
 dc.b waitforperson,0,Kathy,nullobject   ; Wait for William 
 dc.b find,0,Kathy,nullobject            ; walk to Kathy 
 dc.b FaceNoun1,0,Kathy,NullObject 
 dc.w Wwaitforperiod,10
 dc.b ActorSingleMessage,Emphasis 
 dc.w 11085                              ; said something to Kathy 
 dc.w Wwaitforperiod,20 
 dc.b ActorSingleMessage,Emphasis 
 dc.w 11087                              ; hissed a reply
 dc.b racetrackreturn,0,nullobject,nullobject
; 
MeetWilliamInGardenRT 
 dc.b go,0,48,nullobject                 ; go to Back of House 
 dc.b waitforperson,0,William,nullobject ; Wait for William 
 dc.b find,0,William,nullobject          ; walk to William 
 dc.b FaceNoun1,0,William,NullObject 
 dc.w Wwaitforperiod,20
 dc.b ActorSingleMessage,Shock
 dc.w 11086                       ; seemed not to believe him
 dc.w Wwaitforperiod,20
 dc.b ActorSingleMessage,Anger
 dc.w 11088                       ; looked worried 
 dc.w Wwaitforperiod,20
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
;
; William meets Fiona in the Shed... 
WilliamMeetsFionaInShedRT ; meet Fiona in Shed 
 dc.b TeleGosub,Fiona 
 dc.w MeetWilliamInShedRT-list5 
 dc.b go,0,37,nullobject                 ; go to Shed 
 dc.b waitforperson,0,Fiona,nullobject   ; Wait for Fiona 
 dc.b find,0,Fiona,nullobject            ; walk to Fiona 
 dc.b FaceNoun1,0,Fiona,NullObject 
 dc.w Wwaitforperiod,10
 dc.b ActorSingleMessage,Emphasis 
 dc.w 11090                              ; said something to Fiona 
 dc.w Wwaitforperiod,20 
 dc.b ActorSingleMessage,Emphasis 
 dc.w 11092                              ; hissed a reply
 dc.b racetrackreturn,0,nullobject,nullobject
; 
MeetWilliamInShedRT 
 dc.b go,0,37,nullobject                 ; go to Shed 
 dc.b waitforperson,0,William,nullobject ; Wait for William 
 dc.b find,0,William,nullobject          ; walk to William 
 dc.b FaceNoun1,0,William,NullObject 
 dc.w Wwaitforperiod,20
 dc.b ActorSingleMessage,Shock
 dc.w 11091                       ; seemed not to believe him
 dc.w Wwaitforperiod,20
 dc.b ActorSingleMessage,Anger
 dc.w 11093                       ; looked worried 
 dc.w Wwaitforperiod,20
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
;
; Actor wanders around the house, searching each major room...  
SearchHouseRT ; search house 
 dc.b go,0,83,nullobject                 ; go to Entrance Hall 
 dc.b iSIT,0,nullobject,nullobject
 dc.w WRTGosub,READN3timesRT-list5 
 dc.w WRTGosub,READN3timesRT-list5 
 dc.b go,0,83,nullobject                 ; go to Dining Room 
 dc.b iSIT,0,nullobject,nullobject
 dc.w Wwaitforperiod,20
 dc.b go,0,83,nullobject                 ; go to Kitchen  
 dc.b find,coarse,sink,nullobject             ; walk to sink 
 dc.w WRTGosub,Reach2timesRT-list5 
 dc.b go,0,82,nullobject                 ; go to Scullery 
 dc.b go,0,69,nullobject                 ; go to Servants' Stairs 
 dc.w WRTGosub,Reach2timesRT-list5 
 dc.b go,0,93,nullobject                 ; go to Green Bedroom 
 dc.b iSIT,0,nullobject,nullobject
 dc.w Wwaitforperiod,40
 dc.b go,0,90,nullobject                 ; go to Blue Bedroom 
 dc.b find,coarse,window,nullobject           ; walk to window 
 dc.w WRTGosub,Reach2timesRT-list5 
 dc.b go,0,74,nullobject                 ; go to Corridor 
 dc.b go,0,97,nullobject                 ; go to Oriental B
 dc.b iSIT,0,nullobject,nullobject
 dc.w Wwaitforperiod,40
 dc.b go,0,94,nullobject                 ; go to Master B
 dc.b find,coarse,window,nullobject           ; walk to window 
 dc.w Wwaitforperiod,40
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
; 
; Fiona and Clifford have an extensive secret meeting, moving from 
; room to room if interrupted by User... 
; 
FionaAndCliffordMeetingRT 
facmFionaToGamesRoom
 dc.b TeleGoto,Clifford 
 dc.w facmCliffordToGamesRoom-list5 
 dc.b go,0,85,nullobject                     ; go to Games Room 
 dc.w Wwaitforperiod,20   
 dc.b conditional,0,User,nullobject        ; If User here, 
 dc.w WRtGoto,facmFionaToCloakRoom-list5   ; goto Cloakroom 
 dc.b waitforperson,0,Clifford,nullobject    ; Sit and wait for Clifford 
 dc.w WrtGosub,Wait200orSam-list5
 dc.b racetrackmessage,emphasis
 dc.w 11051 ; Fiona whispered something to Clifford... 
facmFionaToCloakRoom 
 dc.b TeleGoto,Clifford 
 dc.w facmCliffordToCloakRoom-list5 
 dc.w Wwaitforperiod,5  
 dc.b go,0,64,nullobject                     ; go to Cloak Room 
 dc.w Wwaitforperiod,20   
 dc.b conditional,0,User,nullobject        ; If User here, 
 dc.w WRtGoto,facmFionaComplainsToLarder-list5 ; goto Cloakroom 
 dc.b waitforperson,0,Clifford,nullobject    ; Sit and wait for Clifford 
 dc.w WrtGosub,Wait200orSam-list5
 dc.b racetrackmessage,emphasis
 dc.w 11054 ; "And I don't trust him either..." 
 dc.w WRtGoto,facmFionaToLarder-list5        ; goto Larder
facmFionaComplainsToLarder 
 dc.b racetrackmessage,emphasis
 dc.w 11056 ; "How dare you follow us!..." 
 dc.b TeleGoto,Clifford 
 dc.w facmCliffordQuietlyToLarder-list5 
 dc.w WRtGoto,facmFionaGoesToLarder-list5 
facmFionaToLarder 
 dc.b TeleGoto,Clifford 
 dc.w facmCliffordToLarder-list5 
facmFionaGoesToLarder 
 dc.w Wwaitforperiod,5  
 dc.b go,0,78,nullobject                     ; go to Larder 
 dc.w Wwaitforperiod,20   
 dc.b conditional,0,User,nullobject        ; If User here, 
 dc.w WRtGoto,facmFionaComplainsToBlue-list5 ; goto Cloakroom 
 dc.b waitforperson,0,Clifford,nullobject    ; Sit and wait for Clifford 
 dc.w WrtGosub,Wait200orSam-list5
 dc.b racetrackmessage,emphasis
 dc.w 11057 ; "The sooner he's dead the better..." 
 dc.w WRtGoto,facmFionaToBlue-list5          ; goto Blue Bedroom 
facmFionaComplainsToBlue 
 dc.b racetrackmessage,emphasis
 dc.w 11059 ; "How dare you follow us!..." 
 dc.b TeleGoto,Clifford 
 dc.w facmCliffordQuietlyToBlue-list5 
 dc.w WRtGoto,facmFionaGoesToBlue-list5 
facmFionaToBlue 
 dc.b TeleGoto,Clifford 
 dc.w facmCliffordToBlue-list5 
facmFionaGoesToBlue 
 dc.w Wwaitforperiod,5  
 dc.b go,0,90,nullobject                     ; go to Blue Bedroom 
 dc.b find,coarse,Ssofa,nullobject                ; walk to a sofa  
 dc.b conditional,0,User,nullobject        ; If User here, 
 dc.w WRtGoto,facmFionaComplainsToDining-list5 ; goto Cloakroom 
 dc.b iSIT,0,nullobject,nullobject
 dc.b waitforperson,0,Clifford,nullobject    ; Sit and wait for Clifford 
 dc.w WrtGosub,Wait200orSam-list5
 dc.b racetrackmessage,emphasis
 dc.w 11060 ; Fiona's words were too quiet to hear. 
 dc.w WRtGoto,facmFionaToDining-list5        ; goto Dining
facmFionaComplainsToDining 
 dc.b racetrackmessage,emphasis
 dc.w 11062 ; "How dare you follow us!..." 
 dc.b TeleGoto,Clifford 
 dc.w facmCliffordQuietlyToDining-list5 
 dc.w WRtGoto,facmFionaGoesToDining-list5 
facmFionaToDining 
 dc.b TeleGoto,Clifford 
 dc.w facmCliffordToDining-list5 
facmFionaGoesToDining 
 dc.w Wwaitforperiod,5  
 dc.b go,0,77,nullobject                     ; go to Dining Room 
;;?? dc.b find,0,chair,nullobject            ; walk to a chair 
 dc.b conditional,0,User,nullobject        ; If User here, 
 dc.w WRtGoto,facmFionaComplainsToGamesRoom-list5 ; goto Cloakroom 
 dc.b iSIT,0,nullobject,nullobject
 dc.b waitforperson,0,Clifford,nullobject    ; Sit and wait for Clifford 
 dc.w WrtGosub,Wait200orSam-list5
 dc.b racetrackmessage,emphasis
 dc.w 11063 ; "Just wait a little longer and we'll be rich..." 
 dc.w WRtGoto,facmFionaToGamesRoom-list5     ; goto GamesRoom
facmFionaComplainsToGamesRoom 
 dc.b racetrackmessage,emphasis
 dc.w 11065 ; "How dare you follow us!..." 
 dc.b TeleGoto,Clifford 
 dc.w facmCliffordQuietlyToGamesRoom-list5 
 dc.w WRtGoto,facmFionaToGamesRoom-list5 
; 
facmCliffordToGamesRoom 
facmCliffordQuietlyToGamesRoom 
 dc.w Wwaitforperiod,20 
 dc.b go,0,85,nullobject                     ; go to Games Room 
 dc.w WrtGoto,WaitForEverRT-list5     ; wait forever 
facmCliffordToCloakroom 
 dc.b racetrackmessage,emphasis
 dc.w 11055 ; "Watch out! Sam's listening..." 
facmCliffordQuietlyToCloakroom 
 dc.w Wwaitforperiod,20 
 dc.b go,0,64,nullobject                     ; go to CloakRoom 
 dc.w WrtGoto,WaitForEverRT-list5     ; wait forever 
facmCliffordToLarder 
 dc.b racetrackmessage,emphasis
 dc.w 11058 ; "Watch out! Sam's listening..." 
facmCliffordQuietlyToLarder 
 dc.w Wwaitforperiod,20 
 dc.b go,0,78,nullobject                     ; go to Larder 
 dc.w WrtGoto,WaitForEverRT-list5     ; wait forever 
facmCliffordToBlue
 dc.b racetrackmessage,emphasis
 dc.w 11061 ; "Watch out! Sam's listening..." 
facmCliffordQuietlyToBlue
 dc.w Wwaitforperiod,20 
 dc.b go,0,90,nullobject                     ; go to Blue Bedroom 
 dc.b iSIT,0,nullobject,nullobject
 dc.w WrtGoto,WaitForEverRT-list5     ; wait forever 
facmCliffordToDining 
 dc.b racetrackmessage,emphasis
 dc.w 11064 ; "Watch out! Sam's listening..." 
facmCliffordQuietlyToDining 
 dc.w Wwaitforperiod,20 
 dc.b go,0,77,nullobject                     ; go to DiningRoom 
 dc.b iSIT,0,nullobject,nullobject
 dc.w WrtGoto,WaitForEverRT-list5     ; wait forever 
; 
; -----------------------------------------------------------------
; 
ReadInLibraryRT     ; Read one book in library
 dc.b go,0,88,nullobject ; go library
 dc.w Occupation,16150 ; was browsing through some books * Any NPC
 dc.b find,0,bookcase,nullobject ; walk to rear right bookcase
 dc.w WRTgosub,ReachUp4TimesRT-list5 
 dc.b find,0,bookcase,nullobject ; walk to rear right bookcase
 dc.w WActorSingleMessage,rtmess+600 ; searched through the books
 dc.w WRTgosub,ReachUp4TimesRT-list5 
 dc.w WActorSingleMessage,rtmess+603 ; blew the dust off the book
; sit with nullobject finds nearest chair/sofa
 dc.b iSIT,0,nullobject,nullobject
 dc.w WRtGosub,Read12timesRT-list5 ; read 12 times in current dirn. 
 dc.w WRtGosub,Read12timesRT-list5 ; read 12 times in current dirn. 
 dc.w WRtGosub,Read12timesRT-list5 ; read 12 times in current dirn. 
 dc.b find,0,bookcase,nullobject ; walk to rear right bookcase
 dc.w WActorSingleMessage,rtmess+606 ; put back the book
 dc.w WRTgosub,ReachUp1TimesRT-list5 
 dc.w Occupation,0
 dc.b racetrackreturn,0,nullobject,nullobject
; 
JarvisReadsInKitchenRT  
 dc.b go,0,50,nullobject        ; go to Gatehouse Kitchen 
 dc.b iSIT,0,nullobject,nullobject ; sit on a vacant chair
 dc.w WRTGosub,Read3timesRT-list5 
 dc.w WRTGosub,Read3timesRT-list5 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; Water all the houseplants which are reasonably easily accessible 
; in the game... 
WaterAllplantsRT 
 dc.b go,0,50,nullobject        ; go to Gatehouse Kitchen 
 dc.b find,0,sink,nullobject    ; find sink 
 dc.w WActorSingleMessage,11030 ; filled something in the sink 
 dc.b go,0,53,nullobject        ; go to Gatehouse Bedroom 
 dc.b find,coarse,window,nullobject  ; find window 
 dc.w WRtGosub,WaterSomethingRT-list5
 dc.b go,0,50,nullobject        ; go to Gatehouse Kitchen 
 dc.b find,0,sink,nullobject    ; find sink 
 dc.w WActorSingleMessage,11030 ; filled something in the sink 
 dc.b go,0,74,nullobject        ; go to NW corridor 
 dc.b find,0,plant,nullobject   ; find plant 
 dc.w WRtGosub,WaterPlantRT-list5
 dc.b go,0,76,nullobject        ; go to Downstairs corridor 
 dc.b find,0,plant,nullobject   ; find plant 
 dc.w WRtGosub,WaterPlantRT-list5
 dc.b go,0,50,nullobject        ; go to Gatehouse Kitchen 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
WaterPlantRT 
 dc.b find,0,plant,nullobject    ; find plant 
 dc.w WActorSingleMessage,11031  ; watered the plant 
WaterSomethingRT 
 dc.b animateCD,3
 dc.w ReachRightAnimation 
 dc.w Wwaitforperiod,5
 dc.b animateCD,3
 dc.w ReachRightAnimation 
 dc.w Wwaitforperiod,5
 dc.b animateCD,3
 dc.w ReachRightAnimation  
 dc.w Wwaitforperiod,5
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; -----------------------------------------------------------------
; 
; Dust a reasonable slice of the house. Note that I am unsure how 
; racetrack logic will react to locked rooms etc, so I have made 
; sure that it won't matter if the go commands for private bedrooms 
; are not acted upon. Pete 27/4/90. 
DustHouseRT 
 dc.b go,0,93,nullobject ; go to NW Corridor 
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; private bedroom
 dc.w WRtGosub,PolishAllFurnitureRT-list5
 dc.b go,0,97,nullobject ; go to Anthony's Oriental Bedroom 
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; private bedroom
 dc.w WRtGosub,PolishAllBedroomFurnitureRT-list5
 dc.b go,0,90,nullobject ; go to Blue Bedroom 
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; private bedroom
 dc.w WRtGosub,PolishAllBedroomFurnitureRT-list5
 dc.b go,0,93,nullobject ; go east to William/Kathy's Green Bedroom 
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; private bedroom
 dc.w WRtGosub,PolishAllBedroomFurnitureRT-list5
 dc.b go,0,71,nullobject ; go to NE Corridor 
 dc.w WRtGosub,PolishAllFurnitureRT-list5
 dc.b go,0,91,nullobject ; go to Fiona/Clifford's Brown Bedroom 
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; private bedroom
 dc.w WRtGosub,PolishAllBedroomFurnitureRT-list5
 dc.b go,0,72,nullobject ; go to SE Corridor 
 dc.w WRtGosub,PolishAllFurnitureRT-list5
 dc.b conditional,0,isroomemptyexceptuser,nullobject ; private bedroom
 dc.b go,0,94,nullobject ; go to Robert's Master Bedroom 
 dc.w WRtGosub,PolishAllBedroomFurnitureRT-list5
 dc.b go,0,86,nullobject ; go to Entrance Hall 
 dc.b go,0,88,nullobject ; go to Library 
 dc.w WRtGosub,PolishAllFurnitureRT-list5
 dc.b go,0,79,nullobject ; go to Drawing Room 
 dc.w WRtGosub,PolishAllFurnitureRT-list5
 dc.b go,0,81,nullobject ; go to Study 
 dc.w WRtGosub,PolishAllFurnitureRT-list5
 dc.b go,0,81,nullobject ; go to Dining Room 
 dc.w WRtGosub,PolishAllFurnitureRT-list5
 dc.b go,0,85,nullobject ; go to Games Room 
 dc.w WRtGosub,PolishAllFurnitureRT-list5
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; ----------------------------------------------------------------- 
; 
JarvisOffersDrinksRT 
 dc.b Conditional,0,ActorDead,Robert 
 dc.w WRtGoto,jodRobertDead-list5 
 dc.b ifollow,0,Robert,nullobject ; follow Robert 
 dc.b Conditional,0,ActorDead,Robert 
 dc.w WRtGoto,jodManDead-list5 
 dc.b ActorSaidSingleMessage,Emphasis 
 dc.w 11000                       ; Would you like a drink, Sir? 
 dc.b TeleGosub,Robert 
 dc.w FaceJarvisRT-list5 
 dc.w WRTmessage,11001            ; Robert said, "No thank you" 
 dc.b TeleGosub,Robert
 dc.w MoveMouthEmphasisRT-list5         
jodRobertDead
 dc.b Conditional,0,ActorDead,Kathy 
 dc.w WRtGoto,jodKathyDead-list5 
 dc.b ifollow,0,Kathy,nullobject ; follow Kathy 
 dc.b Conditional,0,ActorDead,Kathy 
 dc.w WRtGoto,jodWomanDead-list5 
 dc.b ActorSaidSingleMessage,Emphasis 
 dc.w 11004                       ; Another drink, madam?
 dc.b TeleGosub,Kathy 
 dc.w FaceJarvisRT-list5 
 dc.w WRTmessage,11005            ; Kathy said she had had enough
 dc.b TeleGosub,Kathy
 dc.w MoveMouthEmphasisRT-list5         
jodKathyDead
 dc.b Conditional,0,ActorDead,Anthony 
 dc.w WRtGoto,jodAnthonyDead-list5 
 dc.b ifollow,0,Anthony,nullobject ; follow Anthony 
 dc.b Conditional,0,ActorDead,Anthony 
 dc.w WRtGoto,jodManDead-list5 
 dc.b ActorSaidSingleMessage,Emphasis 
 dc.w 11006                       ; Some more of your father's wine?
 dc.w WRTmessage,11007            ; Anthony ignored him
jodAnthonyDead
 dc.b Conditional,0,ActorDead,Clifford 
 dc.w WRtGoto,jodCliffordDead-list5 
 dc.b ifollow,0,Clifford,nullobject ; follow Clifford 
 dc.b Conditional,0,ActorDead,Clifford 
 dc.w WRtGoto,jodManDead-list5 
 dc.b ActorSaidSingleMessage,Emphasis 
 dc.w 11010                       ; More lubrication, sir? 
 dc.b TeleGosub,Clifford 
 dc.w FaceJarvisRT-list5 
 dc.w WRTmessage,11011            ; Clifford quietly refused 
 dc.b TeleGosub,Clifford
 dc.w MoveMouthEmphasisRT-list5         
jodCliffordDead
 dc.b Conditional,0,ActorDead,Sue 
 dc.w WRtGoto,jodSueDead-list5 
 dc.b ifollow,0,Sue,nullobject ; follow Sue 
 dc.b Conditional,0,ActorDead,Sue 
 dc.w WRtGoto,jodWomanDead-list5 
 dc.b ActorSaidSingleMessage,Emphasis 
 dc.w 11012                       ; Something to drink, Miss? 
 dc.b TeleGosub,Sue 
 dc.w FaceJarvisRT-list5 
 dc.w WRTmessage,11013            ; Sue whispered, "No" 
 dc.b TeleGosub,Sue
 dc.w MoveMouthEmphasisRT-list5         
jodSueDead
 dc.b Conditional,0,ActorDead,Inspector 
 dc.w WRtGoto,jodInspectorDead-list5 
 dc.b ifollow,0,Inspector,nullobject ; follow Inspector 
 dc.b Conditional,0,ActorDead,Inspector 
 dc.w WRtGoto,jodManDead-list5 
 dc.b ActorSaidSingleMessage,Emphasis 
 dc.w 11014                       ; Would you like some refreshment? 
 dc.b TeleGosub,Inspector 
 dc.w FaceJarvisRT-list5 
 dc.w WRTmessage,11015            ; "Not while I'm on duty" 
 dc.b TeleGosub,Inspector
 dc.w MoveMouthEmphasisRT-list5         
jodInspectorDead
 dc.b Conditional,0,ActorDead,William 
 dc.w WRtGoto,jodWilliamDead-list5 
 dc.b ifollow,0,William,nullobject ; follow William 
 dc.b Conditional,0,ActorDead,William 
 dc.w WRtGoto,jodManDead-list5 
 dc.b ActorSaidSingleMessage,Emphasis 
 dc.w 11002                       ; How about a drink, Master William? 
 dc.b TeleGosub,William  
 dc.w FaceJarvisRT-list5 
 dc.w WRTmessage,11003            ; "Not for me, thank you" 
 dc.b TeleGosub,William
 dc.w MoveMouthEmphasisRT-list5         
jodWilliamDead
 dc.b Conditional,0,ActorDead,Fiona 
 dc.w WRtGoto,jodFionaDead-list5 
 dc.b ifollow,0,Fiona,nullobject ; follow Fiona 
 dc.b Conditional,0,ActorDead,Fiona 
 dc.w WRtGoto,jodWomanDead-list5 
 dc.b ActorSaidSingleMessage,Emphasis 
 dc.w 11008                       ; Drinkies, modom? 
 dc.b TeleGosub,Fiona 
 dc.w FaceJarvisRT-list5 
 dc.w WRTmessage,11009            ; Fiona loudly refused 
 dc.b TeleGosub,Fiona
 dc.w MoveMouthEmphasisRT-list5         
jodFionaDead
 dc.b racetrackreturn,0,nullobject,nullobject
; Jarvis has now offered drinks to everyone except Sam and Vera. 
; 
jodManDead 
 dc.b ActorSaidSingleMessage,Shock+Portrait 
 dc.w 11020                      ; Oh my God, he's dead! 
 dc.b racetrackreturn,0,nullobject,nullobject
;
jodWomanDead 
 dc.b ActorSaidSingleMessage,Shock+Portrait 
 dc.w 11021                      ; Oh my God, she's dead! 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; --- 
; 
; Actor (e.g Inspector) wanders around the house, examining all the 
; furniture and making notes  
SearchDownstairsRoomsRT
 dc.b go,0,83,nullobject ; go to Hall  
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,64,nullobject ; go to Cloakroom 
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,65,nullobject ; go to Washroom 
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,77,nullobject ; go to Dining Room 
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,80,nullobject ; go to Kitchen  
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,78,nullobject ; go to Larder  
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,80,nullobject 
 dc.b go,0,81,nullobject ; go to Study   
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,79,nullobject ; go to Drawing Room   
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,88,nullobject ; go to Library   
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,85,nullobject ; go to Games Room   
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,86,nullobject ; go to Entrance Hall   
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
SearchUpstairsRoomsRT
 dc.b go,0,92,nullobject ; go to Bamboo Bedroom  
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,97,nullobject ; go to Oriental Bedroom   
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,90,nullobject ; go to Blue Bedroom    
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,74,nullobject   
 dc.b go,0,93,nullobject ; go to Green Bedroom 
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,91,nullobject ; go to Master Bedroom   
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,94,nullobject ; go to Dressing Room 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
SearchLodgeRoomsRT
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,50,nullobject ; go to Lodge Kitchen  
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,52,nullobject ; go to Lodge Bathroom   
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b go,0,83,nullobject ; go to Jarvis/Vera's Bedroom   
 dc.w WRtGosub,SearchRoomRT-list5 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
SearchRoomRT
 dc.b Conditional,0,Wardrobe,Nullobject 
 dc.w WRtGosub,SearchRoomWardrobeRT-list5 
 dc.b Conditional,0,Chest,Nullobject 
 dc.w WRtGosub,SearchRoomChestRT-list5 
 dc.b Conditional,0,Table,Nullobject 
 dc.w WRtGosub,SearchRoomTableRT-list5 
 dc.b Conditional,0,BookCase,Nullobject 
 dc.w WRtGosub,SearchRoomBookcaseRT-list5 
 dc.b Conditional,0,Window,Nullobject 
 dc.w WRtGosub,SearchRoomWindowRT-list5 
 dc.b Conditional,0,Shelves,Nullobject 
 dc.w WRtGosub,SearchRoomShelvesRT-list5 
 dc.b Conditional,0,NChair,Nullobject 
 dc.w WRtGoto,SearchRoomSitRT-list5 
 dc.b Conditional,0,SChair,Nullobject 
 dc.w WRtGoto,SearchRoomSitRT-list5 
 dc.b Conditional,0,EWSofa,Nullobject 
 dc.w WRtGoto,SearchRoomSitRT-list5 
 dc.b Conditional,0,Bed,Nullobject 
 dc.w WRtGoto,SearchRoomSitRT-list5 
srReturnRT
 dc.b racetrackreturn,0,nullobject,nullobject
; 
SearchRoomWardrobeRT
 dc.b open,0,Wardrobe,nullobject 
 dc.w Wwaitforperiod,10
 dc.b close,0,Wardrobe,nullobject 
 dc.w Wwaitforperiod,10
 dc.b racetrackreturn,0,nullobject,nullobject
SearchRoomChestRT
 dc.b open,0,Chest,nullobject 
 dc.w Wwaitforperiod,10
 dc.b close,0,Chest,nullobject 
 dc.w Wwaitforperiod,10
 dc.b racetrackreturn,0,nullobject,nullobject
SearchRoomTableRT
 dc.b find,coarse,Table,nullobject
 dc.w WRtGosub,Reach2timesRT-list5 
 dc.b racetrackreturn,0,nullobject,nullobject
SearchRoomBookcaseRT
 dc.b find,0,bookcase,nullobject
 dc.w WRtGosub,ReachUp2timesRT-list5 
 dc.b racetrackreturn,0,nullobject,nullobject
SearchRoomWindowRT
 dc.b find,coarse,Window,nullobject
 dc.w WRtGosub,Reach2timesRT-list5 
 dc.b racetrackreturn,0,nullobject,nullobject
SearchRoomShelvesRT
 dc.b find,coarse,Shelves,nullobject
 dc.w WRtGosub,reach2timesRT-list5 
 dc.b racetrackreturn,0,nullobject,nullobject
SearchRoomSitRT
 dc.b iSIT,0,nullobject,nullobject ; sit on a vacant chair
 dc.w WRtGosub,Read1timesRT-List5 
 dc.w WRtGoto,srReturnRT-list5 
;
; -----------------------------------------------------------------
; RACETRACK SUBROUTINES FOR SIMPLE COMMON ACTIVITIES... 
; -----------------------------------------------------------------
; 
; Actor cleans any window in room (make sure there is one!) 
CleanWindowRT 
 dc.b find,coarse,window,nullobject
 dc.w WActorSingleMessage,11025 ; polished the window 
 dc.w WRtGoto,PolishUpFurnitureRT-list5 
; 
; Actor polishes any furniture in room. Ensure the room has a table, 
; or else they will polish in mid-air. If the room has less than the 
; full complement of furniture, some will get polished more than once. 
PolishAllFurnitureRT 
 dc.w WActorSingleMessage,11026 ; looked around for things to polish
 dc.b find,coarse,table,nullobject   ; assume table present 
 dc.w WRtGosub,PolishFurnitureRT-list5 
 dc.b find,coarse,chest,nullobject   ; find chest if present 
 dc.w WRtGoto,PolishFurnitureRT-list5 
; 
PolishAllBedroomFurnitureRT ; Assume Wardrobe and Table present 
 dc.w WRtGosub,PolishAllFurnitureRT-list5 
 dc.b find,coarse,window,nullobject   ; assume window present 
 dc.w WRtGosub,PolishUpFurnitureRT-list5 
 dc.b find,coarse,wardrobe,nullobject ; find wardrobe if present 
 dc.w WRtGoto,PolishUpFurnitureRT-list5 
; 
; Actor polishes the piece of furniture in front of them... 
PolishFurnitureRT 
 dc.b animateCD,3
 dc.w ReachRightAnimation 
 dc.b animateCD,3
 dc.w ReachRightAnimation 
 dc.b animateCD,3
 dc.w ReachRightAnimation  
 dc.b animateCD,3
 dc.w reachRightanimation 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
PolishUpFurnitureRT 
 dc.b animateCD,14
 dc.w ReachUpAnimation 
 dc.b animateCD,14
 dc.w ReachUpAnimation 
 dc.b animateCD,14
 dc.w ReachUpAnimation  
 dc.b animateCD,14
 dc.w reachUpAnimation 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; -----------------------------------------------------------------
; Reach 1-4 times Quickly/<default>/Slowly Racetracks...  
; 
Reach4timesQuicklyRT ; Reach four times in current dirn.
 dc.b animateCD,3
 dc.w ReachLeftAnimation ; reach
Reach3timesQuicklyRT ; Reach three times in current dirn.
 dc.b animateCD,3
 dc.w ReachRightAnimation ; reach
Reach2timesQuicklyRT ; Reach two times in current dirn.
 dc.b animateCD,3
 dc.w ReachLeftAnimation  ; reach 
Reach1timesQuicklyRT ; Reach two times in current dirn.
 dc.b animateCD,3
 dc.w reachRightanimation ; reach
 dc.b racetrackreturn,0,nullobject,nullobject
;  
Reach4timesRT ; Reach four times, with pauses, in current dirn.
 dc.b animateCD,3
 dc.w ReachLeftAnimation ; reach
 dc.w Wwaitforperiod,5
Reach3timesRT ; Reach three times, with pauses, in current dirn.
 dc.b animateCD,3
 dc.w ReachRightAnimation ; reach
 dc.w Wwaitforperiod,5
Reach2timesRT ; Reach two times, with pauses, in current dirn.
 dc.b animateCD,3
 dc.w ReachLeftAnimation  ; reach 
 dc.w Wwaitforperiod,5
Reach1timesRT ; Reach two times, with pauses, in current dirn.
 dc.b animateCD,3
 dc.w reachRightanimation ; reach
 dc.w Wwaitforperiod,5 
 dc.b racetrackreturn,0,nullobject,nullobject
;  
Reach4timesSlowlyRT ; Reach four times, with pauses, in current dirn.
 dc.b animateCD,3
 dc.w ReachLeftAnimation ; reach
 dc.w Wwaitforperiod,20
Reach3timesSlowlyRT ; Reach three times, with pauses, in current dirn.
 dc.b animateCD,3
 dc.w ReachRightAnimation ; reach
 dc.w Wwaitforperiod,20
Reach2timesSlowlyRT ; Reach two times, with pauses, in current dirn.
 dc.b animateCD,3
 dc.w ReachLeftAnimation  ; reach 
 dc.w Wwaitforperiod,20
Reach1timesSlowlyRT ; Reach two times, with pauses, in current dirn.
 dc.b animateCD,3
 dc.w reachRightanimation ; reach
 dc.w Wwaitforperiod,20
 dc.b racetrackreturn,0,nullobject,nullobject
; 
ReachUp4timesRT ; Reach four times, with pauses, in current dirn.
 dc.b animateCD,14
 dc.w ReachUpAnimation ; reach
 dc.w Wwaitforperiod,5
ReachUp3timesRT ; Reach three times, with pauses, in current dirn.
 dc.b animateCD,14
 dc.w ReachUpAnimation ; reach
 dc.w Wwaitforperiod,5
ReachUp2timesRT ; Reach two times, with pauses, in current dirn.
 dc.b animateCD,14
 dc.w ReachUpAnimation  ; reach 
 dc.w Wwaitforperiod,5
ReachUp1timesRT ; Reach two times, with pauses, in current dirn.
 dc.b animateCD,14
 dc.w reachUpAnimation ; reach
 dc.w Wwaitforperiod,5 
 dc.b racetrackreturn,0,nullobject,nullobject
;
ReachDown4timesRT ; Reach four times, with pauses, in current dirn.
 dc.b animateCD,14
 dc.w ReachDownAnimation ; reach
 dc.w Wwaitforperiod,5
ReachDown3timesRT ; Reach three times, with pauses, in current dirn.
 dc.b animateCD,14
 dc.w ReachDownAnimation ; reach
 dc.w Wwaitforperiod,5
ReachDown2timesRT ; Reach two times, with pauses, in current dirn.
 dc.b animateCD,14
 dc.w ReachDownAnimation  ; reach 
 dc.w Wwaitforperiod,5
ReachDown1timesRT ; Reach one times, with pauses, in current dirn.
 dc.b animateCD,14
 dc.w reachDownAnimation ; reach
 dc.w Wwaitforperiod,5 
 dc.b racetrackreturn,0,nullobject,nullobject
;  
; End of Reach 1-4 times Quickly/<default>/Slowly Racetracks...  
; -----------------------------------------------------------------
; Read 1-3 times Racetracks... 
;  
Read12timesRT ; Read 12 times, with pauses, in current direction 
 dc.w WRtGosub,Read3timesRT-list5 
 dc.w WRtGosub,Read3timesRT-list5 
 dc.w WRtGosub,Read3timesRT-list5 
; fall through to.. 
; 
Read3timesRT ; Read three times, with pauses, in current direction 
 dc.b animateCD,3
 dc.w readanimation ; read 
 dc.w Wwaitforperiod,50
Read2timesRT ; Read two times, with pauses, in current direction 
 dc.b animateCD,3
 dc.w readanimation ; read 
 dc.w Wwaitforperiod,50
Read1timesRT ; Read one times, with pauses, in current direction 
 dc.b animateCD,3
 dc.w readanimation ; read 
 dc.w Wwaitforperiod,50
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; End of Read 1-3 times Racetracks... 
;-----------------------------------------------------------------
; Read NEWSPAPER 1-3 times Racetracks... 
;
ReadN12timesRT ; Read 12 times, with pauses, in current direction 
 dc.w WRtGosub,ReadN3timesRT-list5 
 dc.w WRtGosub,ReadN3timesRT-list5 
 dc.w WRtGosub,ReadN3timesRT-list5 
; fall through to.. 
; 
ReadN3timesRT ; Read three times, with pauses, in current direction 
 dc.b animateCD,3
 dc.w readNEWSPAPER ; read 
 dc.w Wwaitforperiod,50
ReadN2timesRT ; Read two times, with pauses, in current direction 
 dc.b animateCD,3
 dc.w readNEWSPAPER ; read 
 dc.w Wwaitforperiod,50
ReadN1timesRT ; Read one times, with pauses, in current direction 
 dc.b animateCD,3
 dc.w readNEWSPAPER ; read 
 dc.w Wwaitforperiod,50
 dc.b racetrackreturn,0,nullobject,nullobject
; 
; End of Read 1-3 times Racetracks... 
;-----------------------------------------------------------------
; 
; Racetrack routines called via TeleGosub, when talking to someone, 
; to make them turn towards you, and appear to speak...  
; 
MoveMouthEmphasisRT ; Move mouth with emphasis (as if replying) 
 dc.b Conditional,0,ActorAlive,Nullobject 
 dc.b AnimateCD,7 
 dc.w MoveMouthEmphasis 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
MoveMouthShockRT ; Move mouth with shock (as if replying) 
 dc.b Conditional,0,ActorAlive,Nullobject 
 dc.b AnimateCD,15  
 dc.w MoveMouthShock 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
MoveMouthAngerRT ; Move mouth with anger (as if replying) 
 dc.b Conditional,0,ActorAlive,Nullobject 
 dc.b AnimateCD,7 
 dc.w MoveMouthAnger 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
FaceRobertRT ; Look at Robert 
 dc.b Conditional,0,ActorStanding,Nullobject 
 dc.b FaceNoun1,0,Robert,NullObject 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
FaceWilliamRT ; Look at William 
 dc.b Conditional,0,ActorStanding,Nullobject 
 dc.b FaceNoun1,0,William,NullObject 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
FaceKathyRT ; Look at Kathy 
 dc.b Conditional,0,ActorStanding,Nullobject 
 dc.b FaceNoun1,0,Kathy,NullObject 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
FaceAnthonyRT ; Look at Anthony 
 dc.b Conditional,0,ActorStanding,Nullobject 
 dc.b FaceNoun1,0,Anthony,NullObject 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
FaceFionaRT ; Look at Fiona 
 dc.b Conditional,0,ActorStanding,Nullobject 
 dc.b FaceNoun1,0,Fiona,NullObject 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
FaceCliffordRT ; Look at Clifford 
 dc.b Conditional,0,ActorStanding,Nullobject 
 dc.b FaceNoun1,0,Clifford,NullObject 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
FaceJarvisRT ; Look at Jarvis 
 dc.b Conditional,0,ActorStanding,Nullobject 
 dc.b FaceNoun1,0,Jarvis,NullObject 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
FaceVeraRT ; Look at Vera 
 dc.b Conditional,0,ActorStanding,Nullobject 
 dc.b FaceNoun1,0,Vera,NullObject 
 dc.b racetrackreturn,0,nullobject,nullobject; 
;
FaceSueRT ; Look at Sue 
 dc.b Conditional,0,ActorStanding,Nullobject 
 dc.b FaceNoun1,0,Sue,NullObject 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
FaceInspectorRT ; Look at Inspector 
 dc.b Conditional,0,ActorStanding,Nullobject 
 dc.b FaceNoun1,0,Inspector,NullObject 
 dc.b racetrackreturn,0,nullobject,nullobject
; 
FaceUserRT ; Look at User 
FaceSamRT ; Look at Sam 
 dc.b Conditional,0,ActorStanding,Nullobject 
 dc.b FaceNoun1,0,User,NullObject 
 dc.b racetrackreturn,0,nullobject,nullobject
;
;-----------------------------------------------------------------
;
; routine used in telepathic gosubs, to make the target npc 
; sit down
SitDownRT
 dc.b iSIT,0,nullobject,nullobject ; sit anywhere
 dc.b racetrackreturn,0,nullobject,nullobject
;
; -----------------------------------------------------------------
; Wait for N turns, abandoning the wait if Sam arrives
;
Wait200orSam
 dc.b conditional,0,sam,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.w Wwaitforperiod,25
Wait175orSam
 dc.b conditional,0,sam,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.w Wwaitforperiod,25
Wait150orSam
 dc.b conditional,0,sam,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.w Wwaitforperiod,25
Wait125orSam
 dc.b conditional,0,sam,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.w Wwaitforperiod,25
Wait100orSam
 dc.b conditional,0,sam,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.w Wwaitforperiod,25
Wait75orSam
 dc.b conditional,0,sam,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.w Wwaitforperiod,25
Wait50orSam
 dc.b conditional,0,sam,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.w Wwaitforperiod,25
Wait25orSam
 dc.b conditional,0,sam,nullobject
 dc.b racetrackreturn,0,nullobject,nullobject
 dc.w Wwaitforperiod,25
;
 dc.b racetrackreturn,0,nullobject,nullobject
;
; -----------------------------------------------------------------
;
; Dummy racetrack used when an npc is to wait forever, but be able 
; to execute telepathic gosubs. A loop is used because a telepathic 
; gosub must wait until the existing command has finished. In that 
; case, a waitforperson,0,0,nullobject would prevent any following 
; gosubs from being executed.
WaitForeverRT
WaitForever
 dc.b wait,0,nullobject,nullobject ; wait 1 turn
 dc.w WRtGoto,WaitForEverRT-list5
;
; -----------------------------------------------------------------
;
 even
reversaltable
; part of list5
; gives reverse directions for directions
 dc.b 0,5,4,7,2,1,8,3,6,0,0,0,0,0,15,14 ; compass directions

